(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[854],{9278:(e,t,n)=>{Promise.resolve().then(n.bind(n,9697))},9697:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>J});var s=n(5155),r=n(5959);let i=(0,r.v)(e=>({owner:void 0,repo:void 0,branch:"main",prUrl:void 0,set:t=>e(t)}));var a=n(2115);function l(e){var t;let{children:n,variant:r="default",...i}=e,a={default:"bg-accent text-white",secondary:"bg-subtle text-base",outline:"border border-accent text-accent"};return(0,s.jsx)("button",{className:"".concat("px-3 py-1 rounded"," ").concat(null!=(t=a[r])?t:a.default),...i,children:n})}function o(){let{owner:e,repo:t,set:n}=i();return(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(l,{variant:"outline",onClick:()=>{},children:"Selecionar Repo"}),(0,s.jsx)("span",{className:"text-sm text-muted",children:e&&t?"".concat(e,"/").concat(t):"—"})]})}function c(){let{branch:e,set:t}=i();return(0,s.jsxs)("select",{className:"border rounded px-2 py-1 text-sm",value:e,onChange:e=>t({branch:e.target.value}),children:[(0,s.jsx)("option",{children:"main"}),(0,s.jsx)("option",{children:"develop"})]})}var d=n(6667);function u(e){let{onSave:t,onPublish:n,onOpenAI:r}=e;return(0,s.jsxs)("div",{className:"h-12 border-b flex items-center justify-between px-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(o,{}),(0,s.jsx)(c,{})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(l,{variant:"secondary",onClick:t,children:"Salvar"}),(0,s.jsx)(l,{onClick:n,children:"Publicar"}),(0,s.jsxs)(l,{variant:"outline",onClick:r,children:[(0,s.jsx)(d.A,{className:"mr-1 h-4 w-4"})," AI Assist"]})]})]})}function h(){let[e]=(0,a.useState)("idle");return(0,s.jsx)("span",{className:"text-xs px-2 py-0.5 rounded bg-subtle",children:"saving"===e?"Salvando…":"error"===e?"Erro":"Sincronizado"})}function m(e){let{autosaveAt:t,branch:n,lintCount:r}=e;return(0,s.jsxs)("div",{className:"h-8 border-t text-xs px-3 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(h,{}),(0,s.jsxs)("span",{children:["Branch: ",(0,s.jsx)("b",{children:null!=n?n:"-"})]}),(0,s.jsxs)("span",{children:["Lint: ",(0,s.jsx)("b",{children:null!=r?r:0})]})]}),(0,s.jsxs)("div",{className:"text-muted",children:["Autosave: ",null!=t?t:"—"]})]})}var f=n(7909),p=n(9364),x=n(8082);let v=(0,f.default)(()=>n.e(730).then(n.bind(n,2730)),{loadableGenerated:{webpack:()=>[null]},ssr:!1});function g(e){let{value:t,onChange:n,viewRef:r}=e,i=(0,a.useMemo)(()=>[(0,p.wD)(),x.Lz.lineWrapping],[]);return(0,s.jsx)("div",{className:"h-[calc(100dvh-12rem)] border rounded overflow-hidden",children:(0,s.jsx)(v,{value:t,height:"100%",extensions:i,onChange:(e,t)=>{n(e),r&&(r.current=t.view)}})})}var j=n(6504),b=n(6229),w=n(4217),N=n(4737);function k(e){let{value:t}=e;return(0,s.jsx)("div",{className:"prose prose-tight dark:prose-invert max-w-none h-[calc(100dvh-12rem)] overflow-auto border rounded p-4",children:(0,s.jsx)(j.oz,{remarkPlugins:[b.A,w.A],rehypePlugins:[N.A],children:t})})}let y=(0,r.v)(e=>({showInspector:!0,inspectorTab:"toc",showAIAssist:!1,set:t=>e(t)})),C=(0,r.v)(e=>({content:"# T\xedtulo do Projeto\n\nBreve descri\xe7\xe3o…",useEmoji:!0,bakeEmoji:!1,dirty:!1,setContent:t=>e({content:t,dirty:!0}),setUseEmoji:t=>e({useEmoji:t}),setBakeEmoji:t=>e({bakeEmoji:t}),setDirty:t=>e({dirty:t})}));function E(){let{content:e}=C(),t=e.split("\n").filter(e=>/^#{1,6}\s/.test(e));return(0,s.jsx)("div",{className:"text-sm space-y-1",children:t.map((e,t)=>{var n;let r=(null==(n=e.match(/^#+/))?void 0:n[0].length)||1,i=e.replace(/^#{1,6}\s*/,""),a=i.toLowerCase().replace(/[^\w]+/g,"-");return(0,s.jsx)("a",{href:"#".concat(a),className:"block hover:underline",style:{paddingLeft:(r-1)*8},children:i},t)})})}let S=["✨","\uD83D\uDE80","\uD83E\uDDE9","\uD83D\uDCE6","\uD83D\uDEE0️","✅","⚠️","\uD83D\uDCCA","\uD83E\uDDEA"];function A(){let{content:e,setContent:t}=C();return(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:S.map(n=>(0,s.jsx)("button",{className:"border rounded px-2",onClick:()=>t(e+" "+n),children:n},n))})}function O(){return(0,s.jsx)("div",{className:"text-sm text-muted",children:"TODO: snippet library"})}function I(){return(0,s.jsx)("div",{className:"text-sm text-muted",children:"TODO: asset picker"})}let L=[{id:"toc",label:"TOC"},{id:"emoji",label:"Emojis"},{id:"snippets",label:"Snippets"},{id:"assets",label:"Imagens"},{id:"lint",label:"Lint"},{id:"ai",label:"AI"}];function T(){let{inspectorTab:e,set:t}=y();return(0,s.jsxs)("aside",{className:"w-80 border-l h-full flex flex-col",children:[(0,s.jsx)("div",{className:"h-10 border-b flex gap-1 px-2 items-center",children:L.map(n=>(0,s.jsx)("button",{className:"text-xs px-2 py-1 rounded ".concat(e===n.id?"bg-subtle font-medium":""),onClick:()=>t({inspectorTab:n.id}),children:n.label},n.id))}),(0,s.jsxs)("div",{className:"flex-1 overflow-auto p-2",children:["toc"===e&&(0,s.jsx)(E,{}),"emoji"===e&&(0,s.jsx)(A,{}),"snippets"===e&&(0,s.jsx)(O,{}),"assets"===e&&(0,s.jsx)(I,{}),"lint"===e&&(0,s.jsx)("div",{className:"text-sm text-muted",children:"TODO: lint report"}),"ai"===e&&(0,s.jsx)("div",{className:"text-sm text-muted",children:"TODO: AI suggestions"})]})]})}function _(e){return e.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[*+~./()'"`!?,:;<>{}\[\]\\|@#$%^&=]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")}let D=[[/^(readme|introdução|introducao|overview|sobre)/i,"\uD83D\uDCDD"],[/(objetivos|goals|purpose)/i,"\uD83C\uDFAF"],[/(funcionalidades|features)/i,"✨"],[/(stack|tecnologias|tech\s*stack)/i,"\uD83E\uDDE9"],[/(pré-?requisitos|requisitos|prereq|requirements)/i,"\uD83D\uDCE6"],[/(instala(ç|c)ão|installation|setup)/i,"⚙️"],[/(configura(ç|c)ão|configuration|settings|env)/i,"\uD83E\uDDED"],[/(uso|getting\s*started|how\s*to\s*use|run)/i,"\uD83D\uDE80"],[/(exemplos|examples|demo|tutorial)/i,"\uD83E\uDDEA"],[/(api|endpoints|swagger|docs)/i,"\uD83D\uDCDA"],[/(arquitetura|architecture|design)/i,"\uD83C\uDFD7️"],[/(banco\s*de\s*dados|database|db|migrations)/i,"\uD83D\uDDC4️"],[/(testes|tests|qa|coverage|ci)/i,"\uD83E\uDDEA"],[/(build|compila(ç|c)ão|bundle)/i,"\uD83D\uDEE0️"],[/(deploy|deployment|docker|kubernetes|k8s|release)/i,"\uD83D\uDEA2"],[/(segurança|security)/i,"\uD83D\uDD12"],[/(performance|benchmark)/i,"⚡"],[/(roadmap|planejamento|timeline)/i,"\uD83D\uDDFA️"],[/(changelog|mudan(ç|c)as|releases|versionamento)/i,"\uD83D\uDDD2️"],[/(contribuindo|contribution|contributing|contributors)/i,"\uD83E\uDD1D"],[/(suporte|support|contato|contact|issues|bug)/i,"\uD83D\uDECE️"],[/(faq|perguntas\s*freq)/i,"❓"],[/(licen(ç|c)a|license)/i,"\uD83D\uDCC4"],[/(refer(ê|e)ncias|links|credits|acknowledg)/i,"\uD83D\uDD17"],[/(screenshots?|imagens|gallery)/i,"\uD83D\uDDBC️"],[/(scripts|comandos|commands|cli)/i,"⌨️"]];function P(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,{from:s,to:r}=e.state.selection.main,i=e.state.doc.sliceString(s,r),a=t+i+n;e.dispatch({changes:{from:s,to:r,insert:a},selection:{anchor:s+t.length,head:s+t.length+i.length}})}function F(e){let{from:t}=e.state.selection.main,n=e.state.doc.lineAt(t);e.dispatch({changes:{from:n.from,insert:"# "}})}function q(e){let t=e.state.selection.main,n=e.state.doc,s=n.lineAt(t.from).number,r=n.lineAt(t.to).number,i=[];for(let e=s;e<=r;e++){let t=n.line(e);"- "!==n.sliceString(t.from,t.from+2)&&i.push({from:t.from,insert:"- "})}e.dispatch({changes:i})}function z(e){P(e,"\n```\n","\n```\n")}function B(e){let{editorRef:t}=e,{content:n,useEmoji:r}=C(),i=e=>()=>{let n=t.current;n&&e(n)},a=i(e=>{let t=function(e){let{useEmoji:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.replace(/```[^]*?```/g,"").split("\n"),s=[];for(let e of n){let n=e.match(/^(#{1,6})\s+(.+)/);if(!n)continue;let r=n[1].length,i=n[2].trim(),a=t?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(function(e){try{return/^[\u2190-\u2BFF\u2600-\u27BF\u{1F000}-\u{1FAFF}]/u.test((e||"").trim())}catch(e){return!1}}(e))return e;for(let[t,n]of D)if(t.test(e))return"".concat(n," ").concat(e);return n?"".concat(1===t?"\uD83D\uDCE6":2===t?"\uD83E\uDDED":"\uD83D\uDCC4"," ").concat(e):e}(i,r,!0):i;s.push({level:r,title:a,anchor:_(i)})}if(!s.length)return"";let r=Math.min(...s.map(e=>e.level));return s.map(e=>"".concat("  ".repeat(e.level-r),"- [").concat(e.title,"](#").concat(e.anchor,")")).join("\n")}(n,{useEmoji:r});if(!t)return;let{from:s}=e.state.selection.main;e.dispatch({changes:{from:s,to:s,insert:"\n## Sum\xe1rio\n".concat(t,"\n")}})});return(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,s.jsx)(l,{variant:"secondary",onClick:i(e=>P(e,"**")),children:(0,s.jsx)("b",{children:"B"})}),(0,s.jsx)(l,{variant:"secondary",onClick:i(F),children:"H1"}),(0,s.jsx)(l,{variant:"secondary",onClick:i(q),children:"•"}),(0,s.jsx)(l,{variant:"secondary",onClick:i(z),children:"</>"}),(0,s.jsx)(l,{variant:"secondary",onClick:a,children:"☰"})]})}new(n(894)).A;var R=n(9363),H=n.n(R);function M(e){let{setLintCount:t}=e,{content:n}=C(),[r,i]=(0,a.useState)(),[o,c]=(0,a.useState)(""),[d,u]=(0,a.useState)();return(0,s.jsxs)("div",{className:"border-t p-3 flex flex-col gap-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(l,{onClick:()=>{let e=function(e){let t=function(e){let t=e.replace(/```[\s\S]*?```/g,"").split("\n"),n=[];return t.forEach((e,t)=>{let s=e.match(/^(#{1,6})\s+(.+)/);if(!s)return;let r=s[1].length,i=s[2].trim();n.push({level:r,title:i,anchor:_(i),line:t+1})}),n}(e),n=function(e){let t=e.split("\n"),n=-1,s=-1;for(let e=0;e<t.length;e++)if(/^##\s+.*(sum[aá]rio|table\s*of\s*contents)/i.test(t[e])){n=e+1;break}if(-1===n)return null;for(;n<t.length&&!t[n].trim();)n++;for(s=n;s<t.length&&/^\s*-\s+\[.+\]\(#.+\)/.test(t[s]);)s++;return s===n?null:{start:n,end:s,lines:t.slice(n,s)}}(e),s=[];t.find(e=>1===e.level)||s.push({sev:"warn",msg:"Falta um t\xedtulo H1 no in\xedcio do README."});let r=new Set(t.map(e=>e.anchor));if(n){let e=function(e){let t=[];return e.lines.forEach((e,n)=>{let s=e.match(/\]\(#([^)]+)\)/);s&&t.push({anchor:s[1],lineOffset:n})}),t}(n);e.forEach(e=>{r.has(e.anchor)||s.push({sev:"err",msg:"TOC aponta para \xe2ncora inexistente: #".concat(e.anchor),line:n.start+e.lineOffset})});let i=t.map(e=>e.anchor),a=e.map(e=>e.anchor),l=e=>e.filter((t,n)=>e.indexOf(t)===n);JSON.stringify(l(a))!==JSON.stringify(l(i))&&s.push({sev:"warn",msg:"TOC possivelmente desatualizado (ordem/itens diferem dos headings)."})}else s.push({sev:"warn",msg:"Sem se\xe7\xe3o de Sum\xe1rio (TOC)."});return(function(e){let t,n=[],s=/\]\(#([^)]+)\)/g;return e.split("\n").forEach((e,r)=>{for(;t=s.exec(e);)n.push({anchor:t[1],line:r+1})}),n})(e).forEach(e=>{r.has(e.anchor)||s.push({sev:"err",msg:"Link \xe2ncora #".concat(e.anchor," n\xe3o encontrado em nenhum heading."),line:e.line})}),(function(e){let t,n=[],s=/!\[([^\]]*)\]\(([^\)\s]+)(?:\s+\"[^\"]*\")?\)/g;return e.split("\n").forEach((e,r)=>{for(;t=s.exec(e);)n.push({alt:t[1],src:t[2],line:r+1})}),n})(e).forEach(e=>{e.alt.trim()||s.push({sev:"warn",msg:"Imagem sem alt na linha ".concat(e.line,": ").concat(e.src)}),/^https?:\/\//.test(e.src)||/^[\.\/]/.test(e.src)||s.push({sev:"warn",msg:"Imagem com caminho possivelmente inv\xe1lido (esperado relativo ./ ou /): ".concat(e.src),line:e.line})}),(function(e){let t,n=[],s=/\[([^\]]+)\]\(([^\)]+)\)/g;return e.split("\n").forEach((e,r)=>{for(;t=s.exec(e);)n.push({text:t[1],href:t[2],line:r+1})}),n})(e).forEach(e=>{/^www\./i.test(e.href)&&s.push({sev:"warn",msg:"Link sem protocolo: ".concat(e.href," (use https://...)"),line:e.line})}),0===s.length&&s.push({sev:"ok",msg:"Nenhum problema encontrado. \uD83C\uDF89"}),{issues:s,headings:t}}(n);i(e),t(e.issues.length),c(n)},children:"Analisar"}),(0,s.jsx)(l,{onClick:()=>{let e=new(H()),t=e.diff_main(o,n);e.diff_cleanupSemantic(t),u(e.diff_prettyHtml(t))},disabled:!r,children:"Pr\xe9-visualizar"})]}),r&&(0,s.jsx)("pre",{className:"text-xs bg-subtle p-2 rounded overflow-auto max-h-40",children:JSON.stringify(r.issues,null,2)}),d&&(0,s.jsx)("div",{className:"diff md p-2 overflow-auto border rounded",dangerouslySetInnerHTML:{__html:d}})]})}function J(){let{content:e,setContent:t,dirty:n,setDirty:r}=C(),{branch:l}=i(),[o,c]=(0,a.useState)(!1),[d,h]=(0,a.useState)(),[f,p]=(0,a.useState)(0),v=(0,a.useRef)(new x.Lz);return(0,a.useEffect)(()=>{let t=setInterval(()=>{localStorage.setItem("readme-draft",e),h(new Date().toLocaleTimeString())},3e3);return()=>clearInterval(t)},[e]),(0,a.useEffect)(()=>{let e=e=>{n&&(e.preventDefault(),e.returnValue="")};return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)},[n]),(0,s.jsxs)("div",{className:"flex flex-col h-full",children:[(0,s.jsx)(u,{onSave:()=>{r(!1)},onPublish:()=>{alert("TODO: Criar PR (GitHub API)")},onOpenAI:()=>alert("AI Assist")}),(0,s.jsxs)("div",{className:"flex-1 grid grid-cols-[1fr_1fr_auto] gap-3 p-3 overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-3 overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"text-sm text-muted",children:"Editor"}),(0,s.jsxs)("label",{className:"text-xs flex items-center gap-1",children:[(0,s.jsx)("input",{type:"checkbox",checked:o,onChange:e=>c(e.target.checked)}),"Preview \xe0 direita"]})]}),(0,s.jsx)(B,{editorRef:v}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3 overflow-hidden",children:[(0,s.jsx)(g,{value:e,onChange:t,viewRef:v}),o?(0,s.jsx)(k,{value:e}):(0,s.jsx)("div",{className:"border rounded p-3 text-muted",children:"Desativado"})]})]}),(0,s.jsx)(T,{})]}),(0,s.jsx)(M,{setLintCount:p}),(0,s.jsx)(m,{autosaveAt:d,branch:l,lintCount:f})]})}}},e=>{e.O(0,[79,262,441,255,358],()=>e(e.s=9278)),_N_E=e.O()}]);