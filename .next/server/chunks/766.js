exports.id=766,exports.ids=[766],exports.modules={395:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"applyFlightData",{enumerable:!0,get:function(){return f}});let d=c(5939),e=c(8763);function f(a,b,c,f,g){let{tree:h,seedData:i,head:j,isRootRender:k}=f;if(null===i)return!1;if(k){let e=i[1];c.loading=i[3],c.rsc=e,c.prefetchRsc=null,(0,d.fillLazyItemsTillLeafWithHead)(a,c,b,h,i,j,g)}else c.rsc=b.rsc,c.prefetchRsc=b.prefetchRsc,c.parallelRoutes=new Map(b.parallelRoutes),c.loading=b.loading,(0,e.fillCacheWithNewSubTreeData)(a,c,b,f,g);return!0}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},491:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{DYNAMIC_STALETIME_MS:function(){return m},STATIC_STALETIME_MS:function(){return n},createSeededPrefetchCacheEntry:function(){return j},getOrCreatePrefetchCacheEntry:function(){return i},prunePrefetchCache:function(){return l}});let d=c(535),e=c(2591),f=c(7743);function g(a,b,c){let d=a.pathname;return(b&&(d+=a.search),c)?""+c+"%"+d:d}function h(a,b,c){return g(a,b===e.PrefetchKind.FULL,c)}function i(a){let{url:b,nextUrl:c,tree:d,prefetchCache:f,kind:h,allowAliasing:i=!0}=a,j=function(a,b,c,d,f){for(let h of(void 0===b&&(b=e.PrefetchKind.TEMPORARY),[c,null])){let c=g(a,!0,h),i=g(a,!1,h),j=a.search?c:i,k=d.get(j);if(k&&f){if(k.url.pathname===a.pathname&&k.url.search!==a.search)return{...k,aliased:!0};return k}let l=d.get(i);if(f&&a.search&&b!==e.PrefetchKind.FULL&&l&&!l.key.includes("%"))return{...l,aliased:!0}}if(b!==e.PrefetchKind.FULL&&f){for(let b of d.values())if(b.url.pathname===a.pathname&&!b.key.includes("%"))return{...b,aliased:!0}}}(b,h,c,f,i);return j?(j.status=o(j),j.kind!==e.PrefetchKind.FULL&&h===e.PrefetchKind.FULL&&j.data.then(a=>{if(!(Array.isArray(a.flightData)&&a.flightData.some(a=>a.isRootRender&&null!==a.seedData)))return k({tree:d,url:b,nextUrl:c,prefetchCache:f,kind:null!=h?h:e.PrefetchKind.TEMPORARY})}),h&&j.kind===e.PrefetchKind.TEMPORARY&&(j.kind=h),j):k({tree:d,url:b,nextUrl:c,prefetchCache:f,kind:h||e.PrefetchKind.TEMPORARY})}function j(a){let{nextUrl:b,tree:c,prefetchCache:d,url:f,data:g,kind:i}=a,j=g.couldBeIntercepted?h(f,i,b):h(f,i),k={treeAtTimeOfPrefetch:c,data:Promise.resolve(g),kind:i,prefetchTime:Date.now(),lastUsedTime:Date.now(),staleTime:g.staleTime,key:j,status:e.PrefetchCacheEntryStatus.fresh,url:f};return d.set(j,k),k}function k(a){let{url:b,kind:c,tree:g,nextUrl:i,prefetchCache:j}=a,k=h(b,c),l=f.prefetchQueue.enqueue(()=>(0,d.fetchServerResponse)(b,{flightRouterState:g,nextUrl:i,prefetchKind:c}).then(a=>{let c;if(a.couldBeIntercepted&&(c=function(a){let{url:b,nextUrl:c,prefetchCache:d,existingCacheKey:e}=a,f=d.get(e);if(!f)return;let g=h(b,f.kind,c);return d.set(g,{...f,key:g}),d.delete(e),g}({url:b,existingCacheKey:k,nextUrl:i,prefetchCache:j})),a.prerendered){let b=j.get(null!=c?c:k);b&&(b.kind=e.PrefetchKind.FULL,-1!==a.staleTime&&(b.staleTime=a.staleTime))}return a})),m={treeAtTimeOfPrefetch:g,data:l,kind:c,prefetchTime:Date.now(),lastUsedTime:null,staleTime:-1,key:k,status:e.PrefetchCacheEntryStatus.fresh,url:b};return j.set(k,m),m}function l(a){for(let[b,c]of a)o(c)===e.PrefetchCacheEntryStatus.expired&&a.delete(b)}let m=1e3*Number("0"),n=1e3*Number("300");function o(a){let{kind:b,prefetchTime:c,lastUsedTime:d}=a;return Date.now()<(null!=d?d:c)+m?d?e.PrefetchCacheEntryStatus.reusable:e.PrefetchCacheEntryStatus.fresh:b===e.PrefetchKind.AUTO&&Date.now()<c+n?e.PrefetchCacheEntryStatus.stale:b===e.PrefetchKind.FULL&&Date.now()<c+n?e.PrefetchCacheEntryStatus.reusable:e.PrefetchCacheEntryStatus.expired}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},551:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{IDLE_LINK_STATUS:function(){return i},PENDING_LINK_STATUS:function(){return h},mountFormInstance:function(){return r},mountLinkInstance:function(){return q},onLinkVisibilityChanged:function(){return t},onNavigationIntent:function(){return u},pingVisibleLinks:function(){return w},setLinkForCurrentNavigation:function(){return j},unmountLinkForCurrentNavigation:function(){return k},unmountPrefetchableInstance:function(){return s}}),c(1439);let d=c(7163),e=c(668),f=c(8301);c(2591),c(3860);let g=null,h={pending:!0},i={pending:!1};function j(a){(0,f.startTransition)(()=>{null==g||g.setOptimisticLinkStatus(i),null==a||a.setOptimisticLinkStatus(h),g=a})}function k(a){g===a&&(g=null)}let l="function"==typeof WeakMap?new WeakMap:new Map,m=new Set,n="function"==typeof IntersectionObserver?new IntersectionObserver(function(a){for(let b of a){let a=b.intersectionRatio>0;t(b.target,a)}},{rootMargin:"200px"}):null;function o(a,b){void 0!==l.get(a)&&s(a),l.set(a,b),null!==n&&n.observe(a)}function p(a){try{return(0,d.createPrefetchURL)(a)}catch(b){return("function"==typeof reportError?reportError:console.error)("Cannot prefetch '"+a+"' because it cannot be converted to a URL."),null}}function q(a,b,c,d,e,f){if(e){let e=p(b);if(null!==e){let b={router:c,fetchStrategy:d,isVisible:!1,prefetchTask:null,prefetchHref:e.href,setOptimisticLinkStatus:f};return o(a,b),b}}return{router:c,fetchStrategy:d,isVisible:!1,prefetchTask:null,prefetchHref:null,setOptimisticLinkStatus:f}}function r(a,b,c,d){let e=p(b);null!==e&&o(a,{router:c,fetchStrategy:d,isVisible:!1,prefetchTask:null,prefetchHref:e.href,setOptimisticLinkStatus:null})}function s(a){let b=l.get(a);if(void 0!==b){l.delete(a),m.delete(b);let c=b.prefetchTask;null!==c&&(0,e.cancelPrefetchTask)(c)}null!==n&&n.unobserve(a)}function t(a,b){let c=l.get(a);void 0!==c&&(c.isVisible=b,b?m.add(c):m.delete(c),v(c,e.PrefetchPriority.Default))}function u(a,b){let c=l.get(a);void 0!==c&&void 0!==c&&v(c,e.PrefetchPriority.Intent)}function v(a,b){let c=a.prefetchTask;if(!a.isVisible){null!==c&&(0,e.cancelPrefetchTask)(c);return}}function w(a,b){for(let c of m){let d=c.prefetchTask;if(null!==d&&!(0,e.isPrefetchTaskDirty)(d,a,b))continue;null!==d&&(0,e.cancelPrefetchTask)(d);let f=(0,e.createCacheKey)(c.prefetchHref,a);c.prefetchTask=(0,e.schedulePrefetchTask)(f,b,c.fetchStrategy,e.PrefetchPriority.Default,null)}}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},586:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"handleSegmentMismatch",{enumerable:!0,get:function(){return e}});let d=c(3219);function e(a,b,c){return(0,d.handleExternalUrl)(a,{},a.canonicalUrl,!0)}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},668:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{FetchStrategy:function(){return o},NavigationResultTag:function(){return m},PrefetchPriority:function(){return n},cancelPrefetchTask:function(){return i},createCacheKey:function(){return l},getCurrentCacheVersion:function(){return g},isPrefetchTaskDirty:function(){return k},navigate:function(){return e},prefetch:function(){return d},reschedulePrefetchTask:function(){return j},revalidateEntireCache:function(){return f},schedulePrefetchTask:function(){return h}});let c=()=>{throw Object.defineProperty(Error("Segment Cache experiment is not enabled. This is a bug in Next.js."),"__NEXT_ERROR_CODE",{value:"E654",enumerable:!1,configurable:!0})},d=c,e=c,f=c,g=c,h=c,i=c,j=c,k=c,l=c;var m=function(a){return a[a.MPA=0]="MPA",a[a.Success=1]="Success",a[a.NoOp=2]="NoOp",a[a.Async=3]="Async",a}({}),n=function(a){return a[a.Intent=2]="Intent",a[a.Default=1]="Default",a[a.Background=0]="Background",a}({}),o=function(a){return a[a.LoadingBoundary=0]="LoadingBoundary",a[a.PPR=1]="PPR",a[a.PPRRuntime=2]="PPRRuntime",a[a.Full=3]="Full",a}({});("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},769:(a,b,c)=>{"use strict";c.r(b),c.d(b,{_:()=>e});var d=0;function e(a){return"__private_"+d+++"_"+a}},783:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"invalidateCacheBelowFlightSegmentPath",{enumerable:!0,get:function(){return function a(b,c,f){let g=f.length<=2,[h,i]=f,j=(0,d.createRouterCacheKey)(i),k=c.parallelRoutes.get(h);if(!k)return;let l=b.parallelRoutes.get(h);if(l&&l!==k||(l=new Map(k),b.parallelRoutes.set(h,l)),g)return void l.delete(j);let m=k.get(j),n=l.get(j);n&&m&&(n===m&&(n={lazyData:n.lazyData,rsc:n.rsc,prefetchRsc:n.prefetchRsc,head:n.head,prefetchHead:n.prefetchHead,parallelRoutes:new Map(n.parallelRoutes)},l.set(j,n)),a(n,m,(0,e.getNextFlightSegmentPath)(f)))}}});let d=c(5812),e=c(1600);("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},894:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"pathHasPrefix",{enumerable:!0,get:function(){return e}});let d=c(8430);function e(a,b){if("string"!=typeof a)return!1;let{pathname:c}=(0,d.parsePath)(a);return c===b||c.startsWith(b+"/")}},1107:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"normalizePathTrailingSlash",{enumerable:!0,get:function(){return f}});let d=c(2800),e=c(8430),f=a=>{if(!a.startsWith("/"))return a;let{pathname:b,query:c,hash:f}=(0,e.parsePath)(a);return""+(0,d.removeTrailingSlash)(b)+c+f};("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},1296:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(3339).A)("panels-top-left",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]])},1349:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"invalidateCacheByRouterState",{enumerable:!0,get:function(){return e}});let d=c(5812);function e(a,b,c){for(let e in c[1]){let f=c[1][e][0],g=(0,d.createRouterCacheKey)(f),h=b.parallelRoutes.get(e);if(h){let b=new Map(h);b.delete(g),a.parallelRoutes.set(e,b)}}}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},1439:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{createMutableActionQueue:function(){return o},dispatchNavigateAction:function(){return q},dispatchTraverseAction:function(){return r},getCurrentAppRouterState:function(){return p},publicAppRouterInstance:function(){return s}});let d=c(2591),e=c(5507),f=c(8301),g=c(9039);c(668);let h=c(2158),i=c(2464),j=c(7163),k=c(7743),l=c(551);function m(a,b){null!==a.pending&&(a.pending=a.pending.next,null!==a.pending?n({actionQueue:a,action:a.pending,setState:b}):a.needsRefresh&&(a.needsRefresh=!1,a.dispatch({type:d.ACTION_REFRESH,origin:window.location.origin},b)))}async function n(a){let{actionQueue:b,action:c,setState:d}=a,e=b.state;b.pending=c;let f=c.payload,h=b.action(e,f);function i(a){c.discarded||(b.state=a,m(b,d),c.resolve(a))}(0,g.isThenable)(h)?h.then(i,a=>{m(b,d),c.reject(a)}):i(h)}function o(a,b){let c={state:a,dispatch:(a,b)=>(function(a,b,c){let e={resolve:c,reject:()=>{}};if(b.type!==d.ACTION_RESTORE){let a=new Promise((a,b)=>{e={resolve:a,reject:b}});(0,f.startTransition)(()=>{c(a)})}let g={payload:b,next:null,resolve:e.resolve,reject:e.reject};null===a.pending?(a.last=g,n({actionQueue:a,action:g,setState:c})):b.type===d.ACTION_NAVIGATE||b.type===d.ACTION_RESTORE?(a.pending.discarded=!0,g.next=a.pending.next,a.pending.payload.type===d.ACTION_SERVER_ACTION&&(a.needsRefresh=!0),n({actionQueue:a,action:g,setState:c})):(null!==a.last&&(a.last.next=g),a.last=g)})(c,a,b),action:async(a,b)=>(0,e.reducer)(a,b),pending:null,last:null,onRouterTransitionStart:null!==b&&"function"==typeof b.onRouterTransitionStart?b.onRouterTransitionStart:null};return c}function p(){return null}function q(a,b,c,e){let f=new URL((0,i.addBasePath)(a),location.href);(0,l.setLinkForCurrentNavigation)(e);(0,h.dispatchAppRouterAction)({type:d.ACTION_NAVIGATE,url:f,isExternalUrl:(0,j.isExternalURL)(f),locationSearch:location.search,shouldScroll:c,navigateType:b,allowAliasing:!0})}function r(a,b){(0,h.dispatchAppRouterAction)({type:d.ACTION_RESTORE,url:new URL(a),tree:b})}let s={back:()=>window.history.back(),forward:()=>window.history.forward(),prefetch:(a,b)=>{let c=function(){throw Object.defineProperty(Error("Internal Next.js error: Router action dispatched before initialization."),"__NEXT_ERROR_CODE",{value:"E668",enumerable:!1,configurable:!0})}(),e=(0,j.createPrefetchURL)(a);if(null!==e){var f;(0,k.prefetchReducer)(c.state,{type:d.ACTION_PREFETCH,url:e,kind:null!=(f=null==b?void 0:b.kind)?f:d.PrefetchKind.FULL})}},replace:(a,b)=>{(0,f.startTransition)(()=>{var c;q(a,"replace",null==(c=null==b?void 0:b.scroll)||c,null)})},push:(a,b)=>{(0,f.startTransition)(()=>{var c;q(a,"push",null==(c=null==b?void 0:b.scroll)||c,null)})},refresh:()=>{(0,f.startTransition)(()=>{(0,h.dispatchAppRouterAction)({type:d.ACTION_REFRESH,origin:window.location.origin})})},hmrRefresh:()=>{throw Object.defineProperty(Error("hmrRefresh can only be used in development mode. Please use refresh instead."),"__NEXT_ERROR_CODE",{value:"E485",enumerable:!1,configurable:!0})}};("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},1711:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"isNavigatingToNewRootLayout",{enumerable:!0,get:function(){return function a(b,c){let d=b[0],e=c[0];if(Array.isArray(d)&&Array.isArray(e)){if(d[0]!==e[0]||d[2]!==e[2])return!0}else if(d!==e)return!0;if(b[4])return!c[4];if(c[4])return!0;let f=Object.values(b[1])[0],g=Object.values(c[1])[0];return!f||!g||a(f,g)}}}),("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},1808:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{abortTask:function(){return o},listenForDynamicRequest:function(){return n},startPPRNavigation:function(){return j},updateCacheNodeOnPopstateRestoration:function(){return function a(b,c){let d=c[1],e=b.parallelRoutes,g=new Map(e);for(let b in d){let c=d[b],h=c[0],i=(0,f.createRouterCacheKey)(h),j=e.get(b);if(void 0!==j){let d=j.get(i);if(void 0!==d){let e=a(d,c),f=new Map(j);f.set(i,e),g.set(b,f)}}}let h=b.rsc,i=r(h)&&"pending"===h.status;return{lazyData:null,rsc:h,head:b.head,prefetchHead:i?b.prefetchHead:[null,null],prefetchRsc:i?b.prefetchRsc:null,loading:b.loading,parallelRoutes:g,navigatedAt:b.navigatedAt}}}});let d=c(2454),e=c(3754),f=c(5812),g=c(1711),h=c(491),i={route:null,node:null,dynamicRequestTree:null,children:null};function j(a,b,c,g,h,j,m,n,o){return function a(b,c,g,h,j,m,n,o,p,q,r){let s=g[1],t=h[1],u=null!==m?m[2]:null;j||!0===h[4]&&(j=!0);let v=c.parallelRoutes,w=new Map(v),x={},y=null,z=!1,A={};for(let c in t){let g,h=t[c],l=s[c],m=v.get(c),B=null!==u?u[c]:null,C=h[0],D=q.concat([c,C]),E=(0,f.createRouterCacheKey)(C),F=void 0!==l?l[0]:void 0,G=void 0!==m?m.get(E):void 0;if(null!==(g=C===d.DEFAULT_SEGMENT_KEY?void 0!==l?{route:l,node:null,dynamicRequestTree:null,children:null}:k(b,l,h,G,j,void 0!==B?B:null,n,o,D,r):p&&0===Object.keys(h[1]).length?k(b,l,h,G,j,void 0!==B?B:null,n,o,D,r):void 0!==l&&void 0!==F&&(0,e.matchSegment)(C,F)&&void 0!==G&&void 0!==l?a(b,G,l,h,j,B,n,o,p,D,r):k(b,l,h,G,j,void 0!==B?B:null,n,o,D,r))){if(null===g.route)return i;null===y&&(y=new Map),y.set(c,g);let a=g.node;if(null!==a){let b=new Map(m);b.set(E,a),w.set(c,b)}let b=g.route;x[c]=b;let d=g.dynamicRequestTree;null!==d?(z=!0,A[c]=d):A[c]=b}else x[c]=h,A[c]=h}if(null===y)return null;let B={lazyData:null,rsc:c.rsc,prefetchRsc:c.prefetchRsc,head:c.head,prefetchHead:c.prefetchHead,loading:c.loading,parallelRoutes:w,navigatedAt:b};return{route:l(h,x),node:B,dynamicRequestTree:z?l(h,A):null,children:y}}(a,b,c,g,!1,h,j,m,n,[],o)}function k(a,b,c,d,e,j,k,n,o,p){return!e&&(void 0===b||(0,g.isNavigatingToNewRootLayout)(b,c))?i:function a(b,c,d,e,g,i,j,k){let n,o,p,q,r=c[1],s=0===Object.keys(r).length;if(void 0!==d&&d.navigatedAt+h.DYNAMIC_STALETIME_MS>b)n=d.rsc,o=d.loading,p=d.head,q=d.navigatedAt;else if(null===e)return m(b,c,null,g,i,j,k);else if(n=e[1],o=e[3],p=s?g:null,q=b,e[4]||i&&s)return m(b,c,e,g,i,j,k);let t=null!==e?e[2]:null,u=new Map,v=void 0!==d?d.parallelRoutes:null,w=new Map(v),x={},y=!1;if(s)k.push(j);else for(let c in r){let d=r[c],e=null!==t?t[c]:null,h=null!==v?v.get(c):void 0,l=d[0],m=j.concat([c,l]),n=(0,f.createRouterCacheKey)(l),o=a(b,d,void 0!==h?h.get(n):void 0,e,g,i,m,k);u.set(c,o);let p=o.dynamicRequestTree;null!==p?(y=!0,x[c]=p):x[c]=d;let q=o.node;if(null!==q){let a=new Map;a.set(n,q),w.set(c,a)}}return{route:c,node:{lazyData:null,rsc:n,prefetchRsc:null,head:p,prefetchHead:null,loading:o,parallelRoutes:w,navigatedAt:q},dynamicRequestTree:y?l(c,x):null,children:u}}(a,c,d,j,k,n,o,p)}function l(a,b){let c=[a[0],b];return 2 in a&&(c[2]=a[2]),3 in a&&(c[3]=a[3]),4 in a&&(c[4]=a[4]),c}function m(a,b,c,d,e,g,h){let i=l(b,b[1]);return i[3]="refetch",{route:b,node:function a(b,c,d,e,g,h,i){let j=c[1],k=null!==d?d[2]:null,l=new Map;for(let c in j){let d=j[c],m=null!==k?k[c]:null,n=d[0],o=h.concat([c,n]),p=(0,f.createRouterCacheKey)(n),q=a(b,d,void 0===m?null:m,e,g,o,i),r=new Map;r.set(p,q),l.set(c,r)}let m=0===l.size;m&&i.push(h);let n=null!==d?d[1]:null,o=null!==d?d[3]:null;return{lazyData:null,parallelRoutes:l,prefetchRsc:void 0!==n?n:null,prefetchHead:m?e:[null,null],loading:void 0!==o?o:null,rsc:s(),head:m?s():null,navigatedAt:b}}(a,b,c,d,e,g,h),dynamicRequestTree:i,children:null}}function n(a,b){b.then(b=>{let{flightData:c}=b;if("string"!=typeof c){for(let b of c){let{segmentPath:c,tree:d,seedData:g,head:h}=b;g&&function(a,b,c,d,g){let h=a;for(let a=0;a<b.length;a+=2){let c=b[a],d=b[a+1],f=h.children;if(null!==f){let a=f.get(c);if(void 0!==a){let b=a.route[0];if((0,e.matchSegment)(d,b)){h=a;continue}}}return}!function a(b,c,d,g){if(null===b.dynamicRequestTree)return;let h=b.children,i=b.node;if(null===h){null!==i&&(function a(b,c,d,g,h){let i=c[1],j=d[1],k=g[2],l=b.parallelRoutes;for(let b in i){let c=i[b],d=j[b],g=k[b],m=l.get(b),n=c[0],o=(0,f.createRouterCacheKey)(n),q=void 0!==m?m.get(o):void 0;void 0!==q&&(void 0!==d&&(0,e.matchSegment)(n,d[0])&&null!=g?a(q,c,d,g,h):p(c,q,null))}let m=b.rsc,n=g[1];null===m?b.rsc=n:r(m)&&m.resolve(n);let o=b.head;r(o)&&o.resolve(h)}(i,b.route,c,d,g),b.dynamicRequestTree=null);return}let j=c[1],k=d[2];for(let b in c){let c=j[b],d=k[b],f=h.get(b);if(void 0!==f){let b=f.route[0];if((0,e.matchSegment)(c[0],b)&&null!=d)return a(f,c,d,g)}}}(h,c,d,g)}(a,c,d,g,h)}o(a,null)}},b=>{o(a,b)})}function o(a,b){let c=a.node;if(null===c)return;let d=a.children;if(null===d)p(a.route,c,b);else for(let a of d.values())o(a,b);a.dynamicRequestTree=null}function p(a,b,c){let d=a[1],e=b.parallelRoutes;for(let a in d){let b=d[a],g=e.get(a);if(void 0===g)continue;let h=b[0],i=(0,f.createRouterCacheKey)(h),j=g.get(i);void 0!==j&&p(b,j,c)}let g=b.rsc;r(g)&&(null===c?g.resolve(null):g.reject(c));let h=b.head;r(h)&&h.resolve(null)}let q=Symbol();function r(a){return a&&a.tag===q}function s(){let a,b,c=new Promise((c,d)=>{a=c,b=d});return c.status="pending",c.resolve=b=>{"pending"===c.status&&(c.status="fulfilled",c.value=b,a(b))},c.reject=a=>{"pending"===c.status&&(c.status="rejected",c.reason=a,b(a))},c.tag=q,c}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},1962:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{DecodeError:function(){return o},MiddlewareNotFoundError:function(){return s},MissingStaticPage:function(){return r},NormalizeError:function(){return p},PageNotFoundError:function(){return q},SP:function(){return m},ST:function(){return n},WEB_VITALS:function(){return c},execOnce:function(){return d},getDisplayName:function(){return i},getLocationOrigin:function(){return g},getURL:function(){return h},isAbsoluteUrl:function(){return f},isResSent:function(){return j},loadGetInitialProps:function(){return l},normalizeRepeatedSlashes:function(){return k},stringifyError:function(){return t}});let c=["CLS","FCP","FID","INP","LCP","TTFB"];function d(a){let b,c=!1;return function(){for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c||(c=!0,b=a(...e)),b}}let e=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,f=a=>e.test(a);function g(){let{protocol:a,hostname:b,port:c}=window.location;return a+"//"+b+(c?":"+c:"")}function h(){let{href:a}=window.location,b=g();return a.substring(b.length)}function i(a){return"string"==typeof a?a:a.displayName||a.name||"Unknown"}function j(a){return a.finished||a.headersSent}function k(a){let b=a.split("?");return b[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(b[1]?"?"+b.slice(1).join("?"):"")}async function l(a,b){let c=b.res||b.ctx&&b.ctx.res;if(!a.getInitialProps)return b.ctx&&b.Component?{pageProps:await l(b.Component,b.ctx)}:{};let d=await a.getInitialProps(b);if(c&&j(c))return d;if(!d)throw Object.defineProperty(Error('"'+i(a)+'.getInitialProps()" should resolve to an object. But found "'+d+'" instead.'),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return d}let m="undefined"!=typeof performance,n=m&&["mark","measure","getEntriesByName"].every(a=>"function"==typeof performance[a]);class o extends Error{}class p extends Error{}class q extends Error{constructor(a){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+a}}class r extends Error{constructor(a,b){super(),this.message="Failed to load static file for page: "+a+" "+b}}class s extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function t(a){return JSON.stringify({message:a.message,stack:a.stack})}},2226:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"shouldHardNavigate",{enumerable:!0,get:function(){return function a(b,c){let[f,g]=c,[h,i]=b;return(0,e.matchSegment)(h,f)?!(b.length<=2)&&a((0,d.getNextFlightSegmentPath)(b),g[i]):!!Array.isArray(h)}}});let d=c(1600),e=c(3754);("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},2398:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"findHeadInCache",{enumerable:!0,get:function(){return f}});let d=c(2454),e=c(5812);function f(a,b){return function a(b,c,f,g){if(0===Object.keys(c).length)return[b,f,g];let h=Object.keys(c).filter(a=>"children"!==a);for(let g of("children"in c&&h.unshift("children"),h)){let[h,i]=c[g];if(h===d.DEFAULT_SEGMENT_KEY)continue;let j=b.parallelRoutes.get(g);if(!j)continue;let k=(0,e.createRouterCacheKey)(h),l=(0,e.createRouterCacheKey)(h,!0),m=j.get(k);if(!m)continue;let n=a(m,i,f+"/"+k,f+"/"+l);if(n)return n}return null}(a,b,"","")}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},2464:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"addBasePath",{enumerable:!0,get:function(){return f}});let d=c(2511),e=c(1107);function f(a,b){return(0,e.normalizePathTrailingSlash)((0,d.addPathPrefix)(a,""))}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},2511:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"addPathPrefix",{enumerable:!0,get:function(){return e}});let d=c(8430);function e(a,b){if(!a.startsWith("/")||!b)return a;let{pathname:c,query:e,hash:f}=(0,d.parsePath)(a);return""+b+c+e+f}},2800:(a,b)=>{"use strict";function c(a){return a.replace(/\/$/,"")||"/"}Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"removeTrailingSlash",{enumerable:!0,get:function(){return c}})},2869:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{addRefreshMarkerToActiveParallelSegments:function(){return function a(b,c){let[d,e,,g]=b;for(let h in d.includes(f.PAGE_SEGMENT_KEY)&&"refresh"!==g&&(b[2]=c,b[3]="refresh"),e)a(e[h],c)}},refreshInactiveParallelSegments:function(){return g}});let d=c(395),e=c(535),f=c(2454);async function g(a){let b=new Set;await h({...a,rootTree:a.updatedTree,fetchedSegments:b})}async function h(a){let{navigatedAt:b,state:c,updatedTree:f,updatedCache:g,includeNextUrl:i,fetchedSegments:j,rootTree:k=f,canonicalUrl:l}=a,[,m,n,o]=f,p=[];if(n&&n!==l&&"refresh"===o&&!j.has(n)){j.add(n);let a=(0,e.fetchServerResponse)(new URL(n,location.origin),{flightRouterState:[k[0],k[1],k[2],"refetch"],nextUrl:i?c.nextUrl:null}).then(a=>{let{flightData:c}=a;if("string"!=typeof c)for(let a of c)(0,d.applyFlightData)(b,g,g,a)});p.push(a)}for(let a in m){let d=h({navigatedAt:b,state:c,updatedTree:m[a],updatedCache:g,includeNextUrl:i,fetchedSegments:j,rootTree:k,canonicalUrl:l});p.push(d)}await Promise.all(p)}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},2891:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"refreshReducer",{enumerable:!0,get:function(){return o}});let d=c(535),e=c(1830),f=c(6143),g=c(1711),h=c(3219),i=c(3486),j=c(5939),k=c(7163),l=c(586),m=c(6061),n=c(2869);function o(a,b){let{origin:c}=b,o={},p=a.canonicalUrl,q=a.tree;o.preserveCustomHistoryState=!1;let r=(0,k.createEmptyCacheNode)(),s=(0,m.hasInterceptionRouteInCurrentTree)(a.tree);r.lazyData=(0,d.fetchServerResponse)(new URL(p,c),{flightRouterState:[q[0],q[1],q[2],"refetch"],nextUrl:s?a.nextUrl:null});let t=Date.now();return r.lazyData.then(async c=>{let{flightData:d,canonicalUrl:k}=c;if("string"==typeof d)return(0,h.handleExternalUrl)(a,o,d,a.pushRef.pendingPush);for(let c of(r.lazyData=null,d)){let{tree:d,seedData:i,head:m,isRootRender:u}=c;if(!u)return console.log("REFRESH FAILED"),a;let v=(0,f.applyRouterStatePatchToTree)([""],q,d,a.canonicalUrl);if(null===v)return(0,l.handleSegmentMismatch)(a,b,d);if((0,g.isNavigatingToNewRootLayout)(q,v))return(0,h.handleExternalUrl)(a,o,p,a.pushRef.pendingPush);let w=k?(0,e.createHrefFromUrl)(k):void 0;if(k&&(o.canonicalUrl=w),null!==i){let a=i[1],b=i[3];r.rsc=a,r.prefetchRsc=null,r.loading=b,(0,j.fillLazyItemsTillLeafWithHead)(t,r,void 0,d,i,m,void 0),o.prefetchCache=new Map}await (0,n.refreshInactiveParallelSegments)({navigatedAt:t,state:a,updatedTree:v,updatedCache:r,includeNextUrl:s,canonicalUrl:o.canonicalUrl||a.canonicalUrl}),o.cache=r,o.patchedTree=v,q=v}return(0,i.handleMutable)(a,o)},()=>a)}c(668),("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},3043:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"hasBasePath",{enumerable:!0,get:function(){return e}});let d=c(894);function e(a){return(0,d.pathHasPrefix)(a,"")}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},3219:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{handleExternalUrl:function(){return t},navigateReducer:function(){return function a(b,c){let{url:v,isExternalUrl:w,navigateType:x,shouldScroll:y,allowAliasing:z}=c,A={},{hash:B}=v,C=(0,e.createHrefFromUrl)(v),D="push"===x;if((0,q.prunePrefetchCache)(b.prefetchCache),A.preserveCustomHistoryState=!1,A.pendingPush=D,w)return t(b,A,v.toString(),D);if(document.getElementById("__next-page-redirect"))return t(b,A,C,D);let E=(0,q.getOrCreatePrefetchCacheEntry)({url:v,nextUrl:b.nextUrl,tree:b.tree,prefetchCache:b.prefetchCache,allowAliasing:z}),{treeAtTimeOfPrefetch:F,data:G}=E;return m.prefetchQueue.bump(G),G.then(m=>{let{flightData:q,canonicalUrl:w,postponed:x}=m,z=Date.now(),G=!1;if(E.lastUsedTime||(E.lastUsedTime=z,G=!0),E.aliased){let d=new URL(v.href);w&&(d.pathname=w.pathname);let e=(0,s.handleAliasedPrefetchEntry)(z,b,q,d,A);return!1===e?a(b,{...c,allowAliasing:!1}):e}if("string"==typeof q)return t(b,A,q,D);let H=w?(0,e.createHrefFromUrl)(w):C;if(B&&b.canonicalUrl.split("#",1)[0]===H.split("#",1)[0])return A.onlyHashChange=!0,A.canonicalUrl=H,A.shouldScroll=y,A.hashFragment=B,A.scrollableSegments=[],(0,k.handleMutable)(b,A);let I=b.tree,J=b.cache,K=[];for(let a of q){let{pathToSegment:c,seedData:e,head:k,isHeadPartial:m,isRootRender:q}=a,s=a.tree,w=["",...c],y=(0,g.applyRouterStatePatchToTree)(w,I,s,C);if(null===y&&(y=(0,g.applyRouterStatePatchToTree)(w,F,s,C)),null!==y){if(e&&q&&x){let a=(0,p.startPPRNavigation)(z,J,I,s,e,k,m,!1,K);if(null!==a){if(null===a.route)return t(b,A,C,D);y=a.route;let c=a.node;null!==c&&(A.cache=c);let e=a.dynamicRequestTree;if(null!==e){let c=(0,d.fetchServerResponse)(new URL(H,v.origin),{flightRouterState:e,nextUrl:b.nextUrl});(0,p.listenForDynamicRequest)(a,c)}}else y=s}else{if((0,i.isNavigatingToNewRootLayout)(I,y))return t(b,A,C,D);let d=(0,n.createEmptyCacheNode)(),e=!1;for(let b of(E.status!==j.PrefetchCacheEntryStatus.stale||G?e=(0,l.applyFlightData)(z,J,d,a,E):(e=function(a,b,c,d){let e=!1;for(let f of(a.rsc=b.rsc,a.prefetchRsc=b.prefetchRsc,a.loading=b.loading,a.parallelRoutes=new Map(b.parallelRoutes),u(d).map(a=>[...c,...a])))(0,r.clearCacheNodeDataForSegmentPath)(a,b,f),e=!0;return e}(d,J,c,s),E.lastUsedTime=z),(0,h.shouldHardNavigate)(w,I)?(d.rsc=J.rsc,d.prefetchRsc=J.prefetchRsc,(0,f.invalidateCacheBelowFlightSegmentPath)(d,J,c),A.cache=d):e&&(A.cache=d,J=d),u(s))){let a=[...c,...b];a[a.length-1]!==o.DEFAULT_SEGMENT_KEY&&K.push(a)}}I=y}}return A.patchedTree=I,A.canonicalUrl=H,A.scrollableSegments=K,A.hashFragment=B,A.shouldScroll=y,(0,k.handleMutable)(b,A)},()=>b)}}});let d=c(535),e=c(1830),f=c(783),g=c(6143),h=c(2226),i=c(1711),j=c(2591),k=c(3486),l=c(395),m=c(7743),n=c(7163),o=c(2454),p=c(1808),q=c(491),r=c(5041),s=c(7150);function t(a,b,c,d){return b.mpaNavigation=!0,b.canonicalUrl=c,b.pendingPush=d,b.scrollableSegments=void 0,(0,k.handleMutable)(a,b)}function u(a){let b=[],[c,d]=a;if(0===Object.keys(d).length)return[[c]];for(let[a,e]of Object.entries(d))for(let d of u(e))""===c?b.push([a,...d]):b.push([c,a,...d]);return b}c(668),("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},3339:(a,b,c)=>{"use strict";c.d(b,{A:()=>i});var d=c(8301);let e=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)},f=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var g={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let h=(0,d.forwardRef)(({color:a="currentColor",size:b=24,strokeWidth:c=2,absoluteStrokeWidth:e,className:h="",children:i,iconNode:j,...k},l)=>(0,d.createElement)("svg",{ref:l,...g,width:b,height:b,stroke:a,strokeWidth:e?24*Number(c)/Number(b):c,className:f("lucide",h),...!i&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0})(k)&&{"aria-hidden":"true"},...k},[...j.map(([a,b])=>(0,d.createElement)(a,b)),...Array.isArray(i)?i:[i]])),i=(a,b)=>{let c=(0,d.forwardRef)(({className:c,...g},i)=>(0,d.createElement)(h,{ref:i,iconNode:b,className:f(`lucide-${e(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,c),...g}));return c.displayName=e(a),c}},3447:a=>{a.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},3486:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"handleMutable",{enumerable:!0,get:function(){return f}});let d=c(8151);function e(a){return void 0!==a}function f(a,b){var c,f;let g=null==(c=b.shouldScroll)||c,h=a.nextUrl;if(e(b.patchedTree)){let c=(0,d.computeChangedPath)(a.tree,b.patchedTree);c?h=c:h||(h=a.canonicalUrl)}return{canonicalUrl:e(b.canonicalUrl)?b.canonicalUrl===a.canonicalUrl?a.canonicalUrl:b.canonicalUrl:a.canonicalUrl,pushRef:{pendingPush:e(b.pendingPush)?b.pendingPush:a.pushRef.pendingPush,mpaNavigation:e(b.mpaNavigation)?b.mpaNavigation:a.pushRef.mpaNavigation,preserveCustomHistoryState:e(b.preserveCustomHistoryState)?b.preserveCustomHistoryState:a.pushRef.preserveCustomHistoryState},focusAndScrollRef:{apply:!!g&&(!!e(null==b?void 0:b.scrollableSegments)||a.focusAndScrollRef.apply),onlyHashChange:b.onlyHashChange||!1,hashFragment:g?b.hashFragment&&""!==b.hashFragment?decodeURIComponent(b.hashFragment.slice(1)):a.focusAndScrollRef.hashFragment:null,segmentPaths:g?null!=(f=null==b?void 0:b.scrollableSegments)?f:a.focusAndScrollRef.segmentPaths:[]},cache:b.cache?b.cache:a.cache,prefetchCache:b.prefetchCache?b.prefetchCache:a.prefetchCache,tree:e(b.patchedTree)?b.patchedTree:a.tree,nextUrl:h}}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},3991:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{default:function(){return q},useLinkStatus:function(){return s}});let d=c(5823),e=c(1124),f=d._(c(8301)),g=c(7332),h=c(2889),i=c(9427),j=c(1962),k=c(2464);c(1507);let l=c(551),m=c(7545),n=c(1439);c(4589);let o=c(668);function p(a){return"string"==typeof a?a:(0,g.formatUrl)(a)}function q(a){var b;let c,d,g,[q,s]=(0,f.useOptimistic)(l.IDLE_LINK_STATUS),t=(0,f.useRef)(null),{href:u,as:v,children:w,prefetch:x=null,passHref:y,replace:z,shallow:A,scroll:B,onClick:C,onMouseEnter:D,onTouchStart:E,legacyBehavior:F=!1,onNavigate:G,ref:H,unstable_dynamicOnHover:I,...J}=a;c=w,F&&("string"==typeof c||"number"==typeof c)&&(c=(0,e.jsx)("a",{children:c}));let K=f.default.useContext(h.AppRouterContext),L=!1!==x,M=!1!==x?null===(b=x)||"auto"===b?o.FetchStrategy.PPR:o.FetchStrategy.Full:o.FetchStrategy.PPR,{href:N,as:O}=f.default.useMemo(()=>{let a=p(u);return{href:a,as:v?p(v):a}},[u,v]);F&&(d=f.default.Children.only(c));let P=F?d&&"object"==typeof d&&d.ref:H,Q=f.default.useCallback(a=>(null!==K&&(t.current=(0,l.mountLinkInstance)(a,N,K,M,L,s)),()=>{t.current&&((0,l.unmountLinkForCurrentNavigation)(t.current),t.current=null),(0,l.unmountPrefetchableInstance)(a)}),[L,N,K,M,s]),R={ref:(0,i.useMergedRef)(Q,P),onClick(a){F||"function"!=typeof C||C(a),F&&d.props&&"function"==typeof d.props.onClick&&d.props.onClick(a),K&&(a.defaultPrevented||function(a,b,c,d,e,g,h){let{nodeName:i}=a.currentTarget;if(!("A"===i.toUpperCase()&&function(a){let b=a.currentTarget.getAttribute("target");return b&&"_self"!==b||a.metaKey||a.ctrlKey||a.shiftKey||a.altKey||a.nativeEvent&&2===a.nativeEvent.which}(a)||a.currentTarget.hasAttribute("download"))){if(!(0,m.isLocalURL)(b)){e&&(a.preventDefault(),location.replace(b));return}if(a.preventDefault(),h){let a=!1;if(h({preventDefault:()=>{a=!0}}),a)return}f.default.startTransition(()=>{(0,n.dispatchNavigateAction)(c||b,e?"replace":"push",null==g||g,d.current)})}}(a,N,O,t,z,B,G))},onMouseEnter(a){F||"function"!=typeof D||D(a),F&&d.props&&"function"==typeof d.props.onMouseEnter&&d.props.onMouseEnter(a),K&&L&&(0,l.onNavigationIntent)(a.currentTarget,!0===I)},onTouchStart:function(a){F||"function"!=typeof E||E(a),F&&d.props&&"function"==typeof d.props.onTouchStart&&d.props.onTouchStart(a),K&&L&&(0,l.onNavigationIntent)(a.currentTarget,!0===I)}};return(0,j.isAbsoluteUrl)(O)?R.href=O:F&&!y&&("a"!==d.type||"href"in d.props)||(R.href=(0,k.addBasePath)(O)),g=F?f.default.cloneElement(d,R):(0,e.jsx)("a",{...J,...R,children:c}),(0,e.jsx)(r.Provider,{value:q,children:g})}let r=(0,f.createContext)(l.IDLE_LINK_STATUS),s=()=>(0,f.useContext)(r);("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},4097:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(3339).A)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},4589:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"errorOnce",{enumerable:!0,get:function(){return c}});let c=a=>{}},4684:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(3339).A)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},4692:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"serverActionReducer",{enumerable:!0,get:function(){return E}});let d=c(6779),e=c(6927),f=c(4172),g=c(689),h=c(3188),i=c(2591),j=c(9286),k=c(1830),l=c(3219),m=c(6143),n=c(1711),o=c(3486),p=c(5939),q=c(7163),r=c(6061),s=c(586),t=c(2869),u=c(1600),v=c(9296),w=c(7847),x=c(491),y=c(5103),z=c(3043),A=c(7377);c(668);let B=h.createFromFetch;async function C(a,b,c){let i,k,l,m,{actionId:n,actionArgs:o}=c,p=(0,h.createTemporaryReferenceSet)(),q=(0,A.extractInfoFromServerReferenceId)(n),r="use-cache"===q.type?(0,A.omitUnusedArgs)(o,q):o,s=await (0,h.encodeReply)(r,{temporaryReferences:p}),t=await fetch(a.canonicalUrl,{method:"POST",headers:{Accept:f.RSC_CONTENT_TYPE_HEADER,[f.ACTION_HEADER]:n,[f.NEXT_ROUTER_STATE_TREE_HEADER]:(0,u.prepareFlightRouterStateForRequest)(a.tree),...{},...b?{[f.NEXT_URL]:b}:{}},body:s});if("1"===t.headers.get(f.NEXT_ACTION_NOT_FOUND_HEADER))throw Object.defineProperty(new g.UnrecognizedActionError('Server Action "'+n+'" was not found on the server. \nRead more: https://nextjs.org/docs/messages/failed-to-find-server-action'),"__NEXT_ERROR_CODE",{value:"E715",enumerable:!1,configurable:!0});let v=t.headers.get("x-action-redirect"),[x,y]=(null==v?void 0:v.split(";"))||[];switch(y){case"push":i=w.RedirectType.push;break;case"replace":i=w.RedirectType.replace;break;default:i=void 0}let z=!!t.headers.get(f.NEXT_IS_PRERENDER_HEADER);try{let a=JSON.parse(t.headers.get("x-action-revalidated")||"[[],0,0]");k={paths:a[0]||[],tag:!!a[1],cookie:a[2]}}catch(a){k=D}let C=x?(0,j.assignLocation)(x,new URL(a.canonicalUrl,window.location.href)):void 0,E=t.headers.get("content-type"),F=!!(E&&E.startsWith(f.RSC_CONTENT_TYPE_HEADER));if(!F&&!C)throw Object.defineProperty(Error(t.status>=400&&"text/plain"===E?await t.text():"An unexpected response was received from the server."),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});if(F){let a=await B(Promise.resolve(t),{callServer:d.callServer,findSourceMapURL:e.findSourceMapURL,temporaryReferences:p});l=C?void 0:a.a,m=(0,u.normalizeFlightData)(a.f)}else l=void 0,m=void 0;return{actionResult:l,actionFlightData:m,redirectLocation:C,redirectType:i,revalidatedParts:k,isPrerender:z}}let D={paths:[],tag:!1,cookie:!1};function E(a,b){let{resolve:c,reject:d}=b,e={},f=a.tree;e.preserveCustomHistoryState=!1;let g=a.nextUrl&&(0,r.hasInterceptionRouteInCurrentTree)(a.tree)?a.nextUrl:null,h=Date.now();return C(a,g,b).then(async j=>{let r,{actionResult:u,actionFlightData:A,redirectLocation:B,redirectType:C,isPrerender:D,revalidatedParts:E}=j;if(B&&(C===w.RedirectType.replace?(a.pushRef.pendingPush=!1,e.pendingPush=!1):(a.pushRef.pendingPush=!0,e.pendingPush=!0),e.canonicalUrl=r=(0,k.createHrefFromUrl)(B,!1)),!A)return(c(u),B)?(0,l.handleExternalUrl)(a,e,B.href,a.pushRef.pendingPush):a;if("string"==typeof A)return c(u),(0,l.handleExternalUrl)(a,e,A,a.pushRef.pendingPush);let F=E.paths.length>0||E.tag||E.cookie;for(let d of A){let{tree:i,seedData:j,head:k,isRootRender:o}=d;if(!o)return console.log("SERVER ACTION APPLY FAILED"),c(u),a;let v=(0,m.applyRouterStatePatchToTree)([""],f,i,r||a.canonicalUrl);if(null===v)return c(u),(0,s.handleSegmentMismatch)(a,b,i);if((0,n.isNavigatingToNewRootLayout)(f,v))return c(u),(0,l.handleExternalUrl)(a,e,r||a.canonicalUrl,a.pushRef.pendingPush);if(null!==j){let b=j[1],c=(0,q.createEmptyCacheNode)();c.rsc=b,c.prefetchRsc=null,c.loading=j[3],(0,p.fillLazyItemsTillLeafWithHead)(h,c,void 0,i,j,k,void 0),e.cache=c,e.prefetchCache=new Map,F&&await (0,t.refreshInactiveParallelSegments)({navigatedAt:h,state:a,updatedTree:v,updatedCache:c,includeNextUrl:!!g,canonicalUrl:e.canonicalUrl||a.canonicalUrl})}e.patchedTree=v,f=v}return B&&r?(F||((0,x.createSeededPrefetchCacheEntry)({url:B,data:{flightData:A,canonicalUrl:void 0,couldBeIntercepted:!1,prerendered:!1,postponed:!1,staleTime:-1},tree:a.tree,prefetchCache:a.prefetchCache,nextUrl:a.nextUrl,kind:D?i.PrefetchKind.FULL:i.PrefetchKind.AUTO}),e.prefetchCache=a.prefetchCache),d((0,v.getRedirectError)((0,z.hasBasePath)(r)?(0,y.removeBasePath)(r):r,C||w.RedirectType.push))):c(u),(0,o.handleMutable)(a,e)},b=>(d(b),a))}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},5041:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"clearCacheNodeDataForSegmentPath",{enumerable:!0,get:function(){return function a(b,c,f){let g=f.length<=2,[h,i]=f,j=(0,e.createRouterCacheKey)(i),k=c.parallelRoutes.get(h),l=b.parallelRoutes.get(h);l&&l!==k||(l=new Map(k),b.parallelRoutes.set(h,l));let m=null==k?void 0:k.get(j),n=l.get(j);if(g){n&&n.lazyData&&n!==m||l.set(j,{lazyData:null,rsc:null,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map,loading:null,navigatedAt:-1});return}if(!n||!m){n||l.set(j,{lazyData:null,rsc:null,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map,loading:null,navigatedAt:-1});return}return n===m&&(n={lazyData:n.lazyData,rsc:n.rsc,prefetchRsc:n.prefetchRsc,head:n.head,prefetchHead:n.prefetchHead,parallelRoutes:new Map(n.parallelRoutes),loading:n.loading},l.set(j,n)),a(n,m,(0,d.getNextFlightSegmentPath)(f))}}});let d=c(1600),e=c(5812);("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},5056:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(3339).A)("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},5103:(a,b,c)=>{"use strict";function d(a){return a}Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"removeBasePath",{enumerable:!0,get:function(){return d}}),c(3043),("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},5238:(a,b)=>{"use strict";function c(a){let b={};for(let[c,d]of a.entries()){let a=b[c];void 0===a?b[c]=d:Array.isArray(a)?a.push(d):b[c]=[a,d]}return b}function d(a){return"string"==typeof a?a:("number"!=typeof a||isNaN(a))&&"boolean"!=typeof a?"":String(a)}function e(a){let b=new URLSearchParams;for(let[c,e]of Object.entries(a))if(Array.isArray(e))for(let a of e)b.append(c,d(a));else b.set(c,d(e));return b}function f(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];for(let b of c){for(let c of b.keys())a.delete(c);for(let[c,d]of b.entries())a.append(c,d)}return a}Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{assign:function(){return f},searchParamsToUrlQuery:function(){return c},urlQueryToSearchParams:function(){return e}})},5323:(a,b,c)=>{"use strict";c.d(b,{xC:()=>k,r9:()=>i});var d=c(8301);c(3447),Object.create(null);let e=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,f={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xa9","&#169;":"\xa9","&reg;":"\xae","&#174;":"\xae","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},g=a=>f[a],h={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:a=>a.replace(e,g)},i={type:"3rdParty",init(a){((a={})=>{h={...h,...a}})(a.options.react)}},j=(0,d.createContext)();function k({i18n:a,defaultNS:b,children:c}){let e=(0,d.useMemo)(()=>({i18n:a,defaultNS:b}),[a,b]);return(0,d.createElement)(j.Provider,{value:e},c)}},5461:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"hmrRefreshReducer",{enumerable:!0,get:function(){return d}}),c(535),c(1830),c(6143),c(1711),c(3219),c(3486),c(395),c(7163),c(586),c(6061);let d=function(a,b){return a};("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},5507:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"reducer",{enumerable:!0,get:function(){return d}}),c(2591),c(3219),c(9976),c(9022),c(2891),c(7743),c(5461),c(4692);let d=function(a,b){return a};("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},5939:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"fillLazyItemsTillLeafWithHead",{enumerable:!0,get:function(){return function a(b,c,f,g,h,i,j){if(0===Object.keys(g[1]).length){c.head=i;return}for(let k in g[1]){let l,m=g[1][k],n=m[0],o=(0,d.createRouterCacheKey)(n),p=null!==h&&void 0!==h[2][k]?h[2][k]:null;if(f){let d=f.parallelRoutes.get(k);if(d){let f,g=(null==j?void 0:j.kind)==="auto"&&j.status===e.PrefetchCacheEntryStatus.reusable,h=new Map(d),l=h.get(o);f=null!==p?{lazyData:null,rsc:p[1],prefetchRsc:null,head:null,prefetchHead:null,loading:p[3],parallelRoutes:new Map(null==l?void 0:l.parallelRoutes),navigatedAt:b}:g&&l?{lazyData:l.lazyData,rsc:l.rsc,prefetchRsc:l.prefetchRsc,head:l.head,prefetchHead:l.prefetchHead,parallelRoutes:new Map(l.parallelRoutes),loading:l.loading}:{lazyData:null,rsc:null,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map(null==l?void 0:l.parallelRoutes),loading:null,navigatedAt:b},h.set(o,f),a(b,f,l,m,p||null,i,j),c.parallelRoutes.set(k,h);continue}}if(null!==p){let a=p[1],c=p[3];l={lazyData:null,rsc:a,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map,loading:c,navigatedAt:b}}else l={lazyData:null,rsc:null,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map,loading:null,navigatedAt:b};let q=c.parallelRoutes.get(k);q?q.set(o,l):c.parallelRoutes.set(k,new Map([[o,l]])),a(b,l,void 0,m,p,i,j)}}}});let d=c(5812),e=c(2591);("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},6143:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"applyRouterStatePatchToTree",{enumerable:!0,get:function(){return function a(b,c,d,i){let j,[k,l,m,n,o]=c;if(1===b.length){let a=h(c,d);return(0,g.addRefreshMarkerToActiveParallelSegments)(a,i),a}let[p,q]=b;if(!(0,f.matchSegment)(p,k))return null;if(2===b.length)j=h(l[q],d);else if(null===(j=a((0,e.getNextFlightSegmentPath)(b),l[q],d,i)))return null;let r=[b[0],{...l,[q]:j},m,n];return o&&(r[4]=!0),(0,g.addRefreshMarkerToActiveParallelSegments)(r,i),r}}});let d=c(2454),e=c(1600),f=c(3754),g=c(2869);function h(a,b){let[c,e]=a,[g,i]=b;if(g===d.DEFAULT_SEGMENT_KEY&&c!==d.DEFAULT_SEGMENT_KEY)return a;if((0,f.matchSegment)(c,g)){let b={};for(let a in e)void 0!==i[a]?b[a]=h(e[a],i[a]):b[a]=e[a];for(let a in i)b[a]||(b[a]=i[a]);let d=[c,b];return a[2]&&(d[2]=a[2]),a[3]&&(d[3]=a[3]),a[4]&&(d[4]=a[4]),d}return b}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},6241:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"PromiseQueue",{enumerable:!0,get:function(){return j}});let d=c(9589),e=c(769);var f=e._("_maxConcurrency"),g=e._("_runningCount"),h=e._("_queue"),i=e._("_processNext");class j{enqueue(a){let b,c,e=new Promise((a,d)=>{b=a,c=d}),f=async()=>{try{d._(this,g)[g]++;let c=await a();b(c)}catch(a){c(a)}finally{d._(this,g)[g]--,d._(this,i)[i]()}};return d._(this,h)[h].push({promiseFn:e,task:f}),d._(this,i)[i](),e}bump(a){let b=d._(this,h)[h].findIndex(b=>b.promiseFn===a);if(b>-1){let a=d._(this,h)[h].splice(b,1)[0];d._(this,h)[h].unshift(a),d._(this,i)[i](!0)}}constructor(a=5){Object.defineProperty(this,i,{value:k}),Object.defineProperty(this,f,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),Object.defineProperty(this,h,{writable:!0,value:void 0}),d._(this,f)[f]=a,d._(this,g)[g]=0,d._(this,h)[h]=[]}}function k(a){if(void 0===a&&(a=!1),(d._(this,g)[g]<d._(this,f)[f]||a)&&d._(this,h)[h].length>0){var b;null==(b=d._(this,h)[h].shift())||b.task()}}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},6364:(a,b,c)=>{"use strict";c.d(b,{E:()=>J});var d="undefined"==typeof window||"Deno"in globalThis;function e(){}function f(a,b){return"function"==typeof a?a(b):a}function g(a,b){let{type:c="all",exact:d,fetchStatus:e,predicate:f,queryKey:g,stale:h}=a;if(g){if(d){if(b.queryHash!==i(g,b.options))return!1}else if(!k(b.queryKey,g))return!1}if("all"!==c){let a=b.isActive();if("active"===c&&!a||"inactive"===c&&a)return!1}return("boolean"!=typeof h||b.isStale()===h)&&(!e||e===b.state.fetchStatus)&&(!f||!!f(b))}function h(a,b){let{exact:c,status:d,predicate:e,mutationKey:f}=a;if(f){if(!b.options.mutationKey)return!1;if(c){if(j(b.options.mutationKey)!==j(f))return!1}else if(!k(b.options.mutationKey,f))return!1}return(!d||b.state.status===d)&&(!e||!!e(b))}function i(a,b){return(b?.queryKeyHashFn||j)(a)}function j(a){return JSON.stringify(a,(a,b)=>m(b)?Object.keys(b).sort().reduce((a,c)=>(a[c]=b[c],a),{}):b)}function k(a,b){return a===b||typeof a==typeof b&&!!a&&!!b&&"object"==typeof a&&"object"==typeof b&&Object.keys(b).every(c=>k(a[c],b[c]))}function l(a){return Array.isArray(a)&&a.length===Object.keys(a).length}function m(a){if(!n(a))return!1;let b=a.constructor;if(void 0===b)return!0;let c=b.prototype;return!!n(c)&&!!c.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(a)===Object.prototype}function n(a){return"[object Object]"===Object.prototype.toString.call(a)}function o(a,b,c=0){let d=[...a,b];return c&&d.length>c?d.slice(1):d}function p(a,b,c=0){let d=[b,...a];return c&&d.length>c?d.slice(0,-1):d}var q=Symbol();function r(a,b){return!a.queryFn&&b?.initialPromise?()=>b.initialPromise:a.queryFn&&a.queryFn!==q?a.queryFn:()=>Promise.reject(Error(`Missing queryFn: '${a.queryHash}'`))}var s=a=>setTimeout(a,0),t=function(){let a=[],b=0,c=a=>{a()},d=a=>{a()},e=s,f=d=>{b?a.push(d):e(()=>{c(d)})};return{batch:f=>{let g;b++;try{g=f()}finally{--b||(()=>{let b=a;a=[],b.length&&e(()=>{d(()=>{b.forEach(a=>{c(a)})})})})()}return g},batchCalls:a=>(...b)=>{f(()=>{a(...b)})},schedule:f,setNotifyFunction:a=>{c=a},setBatchNotifyFunction:a=>{d=a},setScheduler:a=>{e=a}}}(),u=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(a){return this.listeners.add(a),this.onSubscribe(),()=>{this.listeners.delete(a),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},v=new class extends u{#a;#b;#c;constructor(){super(),this.#c=a=>{if(!d&&window.addEventListener){let b=()=>a();return window.addEventListener("visibilitychange",b,!1),()=>{window.removeEventListener("visibilitychange",b)}}}}onSubscribe(){this.#b||this.setEventListener(this.#c)}onUnsubscribe(){this.hasListeners()||(this.#b?.(),this.#b=void 0)}setEventListener(a){this.#c=a,this.#b?.(),this.#b=a(a=>{"boolean"==typeof a?this.setFocused(a):this.onFocus()})}setFocused(a){this.#a!==a&&(this.#a=a,this.onFocus())}onFocus(){let a=this.isFocused();this.listeners.forEach(b=>{b(a)})}isFocused(){return"boolean"==typeof this.#a?this.#a:globalThis.document?.visibilityState!=="hidden"}},w=new class extends u{#d=!0;#b;#c;constructor(){super(),this.#c=a=>{if(!d&&window.addEventListener){let b=()=>a(!0),c=()=>a(!1);return window.addEventListener("online",b,!1),window.addEventListener("offline",c,!1),()=>{window.removeEventListener("online",b),window.removeEventListener("offline",c)}}}}onSubscribe(){this.#b||this.setEventListener(this.#c)}onUnsubscribe(){this.hasListeners()||(this.#b?.(),this.#b=void 0)}setEventListener(a){this.#c=a,this.#b?.(),this.#b=a(this.setOnline.bind(this))}setOnline(a){this.#d!==a&&(this.#d=a,this.listeners.forEach(b=>{b(a)}))}isOnline(){return this.#d}};function x(a){return Math.min(1e3*2**a,3e4)}function y(a){return(a??"online")!=="online"||w.isOnline()}var z=class extends Error{constructor(a){super("CancelledError"),this.revert=a?.revert,this.silent=a?.silent}};function A(a){let b,c=!1,e=0,f=function(){let a,b,c=new Promise((c,d)=>{a=c,b=d});function d(a){Object.assign(c,a),delete c.resolve,delete c.reject}return c.status="pending",c.catch(()=>{}),c.resolve=b=>{d({status:"fulfilled",value:b}),a(b)},c.reject=a=>{d({status:"rejected",reason:a}),b(a)},c}(),g=()=>v.isFocused()&&("always"===a.networkMode||w.isOnline())&&a.canRun(),h=()=>y(a.networkMode)&&a.canRun(),i=a=>{"pending"===f.status&&(b?.(),f.resolve(a))},j=a=>{"pending"===f.status&&(b?.(),f.reject(a))},k=()=>new Promise(c=>{b=a=>{("pending"!==f.status||g())&&c(a)},a.onPause?.()}).then(()=>{b=void 0,"pending"===f.status&&a.onContinue?.()}),l=()=>{let b;if("pending"!==f.status)return;let h=0===e?a.initialPromise:void 0;try{b=h??a.fn()}catch(a){b=Promise.reject(a)}Promise.resolve(b).then(i).catch(b=>{if("pending"!==f.status)return;let h=a.retry??3*!d,i=a.retryDelay??x,m="function"==typeof i?i(e,b):i,n=!0===h||"number"==typeof h&&e<h||"function"==typeof h&&h(e,b);if(c||!n)return void j(b);e++,a.onFail?.(e,b),new Promise(a=>{setTimeout(a,m)}).then(()=>g()?void 0:k()).then(()=>{c?j(b):l()})})};return{promise:f,status:()=>f.status,cancel:b=>{"pending"===f.status&&(j(new z(b)),a.abort?.())},continue:()=>(b?.(),f),cancelRetry:()=>{c=!0},continueRetry:()=>{c=!1},canStart:h,start:()=>(h()?l():k().then(l),f)}}var B=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){var a;this.clearGcTimeout(),"number"==typeof(a=this.gcTime)&&a>=0&&a!==1/0&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(a){this.gcTime=Math.max(this.gcTime||0,a??(d?1/0:3e5))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},C=class extends B{#f;#g;#h;#i;#j;#k;#l;constructor(a){super(),this.#l=!1,this.#k=a.defaultOptions,this.setOptions(a.options),this.observers=[],this.#i=a.client,this.#h=this.#i.getQueryCache(),this.queryKey=a.queryKey,this.queryHash=a.queryHash,this.#f=function(a){let b="function"==typeof a.initialData?a.initialData():a.initialData,c=void 0!==b,d=c?"function"==typeof a.initialDataUpdatedAt?a.initialDataUpdatedAt():a.initialDataUpdatedAt:0;return{data:b,dataUpdateCount:0,dataUpdatedAt:c?d??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:c?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=a.state??this.#f,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#j?.promise}setOptions(a){this.options={...this.#k,...a},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#h.remove(this)}setData(a,b){var c,d;let e=(c=this.state.data,"function"==typeof(d=this.options).structuralSharing?d.structuralSharing(c,a):!1!==d.structuralSharing?function a(b,c){if(b===c)return b;let d=l(b)&&l(c);if(d||m(b)&&m(c)){let e=d?b:Object.keys(b),f=e.length,g=d?c:Object.keys(c),h=g.length,i=d?[]:{},j=new Set(e),k=0;for(let e=0;e<h;e++){let f=d?e:g[e];(!d&&j.has(f)||d)&&void 0===b[f]&&void 0===c[f]?(i[f]=void 0,k++):(i[f]=a(b[f],c[f]),i[f]===b[f]&&void 0!==b[f]&&k++)}return f===h&&k===f?b:i}return c}(c,a):a);return this.#m({data:e,type:"success",dataUpdatedAt:b?.updatedAt,manual:b?.manual}),e}setState(a,b){this.#m({type:"setState",state:a,setStateOptions:b})}cancel(a){let b=this.#j?.promise;return this.#j?.cancel(a),b?b.then(e).catch(e):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#f)}isActive(){return this.observers.some(a=>{var b;return!1!==(b=a.options.enabled,"function"==typeof b?b(this):b)})}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===q||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(a=>"static"===f(a.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(a=>a.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(a=0){return void 0===this.state.data||"static"!==a&&(!!this.state.isInvalidated||!Math.max(this.state.dataUpdatedAt+(a||0)-Date.now(),0))}onFocus(){let a=this.observers.find(a=>a.shouldFetchOnWindowFocus());a?.refetch({cancelRefetch:!1}),this.#j?.continue()}onOnline(){let a=this.observers.find(a=>a.shouldFetchOnReconnect());a?.refetch({cancelRefetch:!1}),this.#j?.continue()}addObserver(a){this.observers.includes(a)||(this.observers.push(a),this.clearGcTimeout(),this.#h.notify({type:"observerAdded",query:this,observer:a}))}removeObserver(a){this.observers.includes(a)&&(this.observers=this.observers.filter(b=>b!==a),this.observers.length||(this.#j&&(this.#l?this.#j.cancel({revert:!0}):this.#j.cancelRetry()),this.scheduleGc()),this.#h.notify({type:"observerRemoved",query:this,observer:a}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#m({type:"invalidate"})}async fetch(a,b){if("idle"!==this.state.fetchStatus&&this.#j?.status()!=="rejected"){if(void 0!==this.state.data&&b?.cancelRefetch)this.cancel({silent:!0});else if(this.#j)return this.#j.continueRetry(),this.#j.promise}if(a&&this.setOptions(a),!this.options.queryFn){let a=this.observers.find(a=>a.options.queryFn);a&&this.setOptions(a.options)}let c=new AbortController,d=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(this.#l=!0,c.signal)})},e=()=>{let a=r(this.options,b),c=(()=>{let a={client:this.#i,queryKey:this.queryKey,meta:this.meta};return d(a),a})();return(this.#l=!1,this.options.persister)?this.options.persister(a,c,this):a(c)},f=(()=>{let a={fetchOptions:b,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:e};return d(a),a})();this.options.behavior?.onFetch(f,this),this.#g=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==f.fetchOptions?.meta)&&this.#m({type:"fetch",meta:f.fetchOptions?.meta}),this.#j=A({initialPromise:b?.initialPromise,fn:f.fetchFn,abort:c.abort.bind(c),onFail:(a,b)=>{this.#m({type:"failed",failureCount:a,error:b})},onPause:()=>{this.#m({type:"pause"})},onContinue:()=>{this.#m({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0});try{let a=await this.#j.start();if(void 0===a)throw Error(`${this.queryHash} data is undefined`);return this.setData(a),this.#h.config.onSuccess?.(a,this),this.#h.config.onSettled?.(a,this.state.error,this),a}catch(a){if(a instanceof z){if(a.silent)return this.#j.promise;else if(a.revert){if(this.setState({...this.#g,fetchStatus:"idle"}),void 0===this.state.data)throw a;return this.state.data}}throw this.#m({type:"error",error:a}),this.#h.config.onError?.(a,this),this.#h.config.onSettled?.(this.state.data,a,this),a}finally{this.scheduleGc()}}#m(a){let b=b=>{switch(a.type){case"failed":return{...b,fetchFailureCount:a.failureCount,fetchFailureReason:a.error};case"pause":return{...b,fetchStatus:"paused"};case"continue":return{...b,fetchStatus:"fetching"};case"fetch":var c;return{...b,...(c=b.data,{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:y(this.options.networkMode)?"fetching":"paused",...void 0===c&&{error:null,status:"pending"}}),fetchMeta:a.meta??null};case"success":let d={...b,data:a.data,dataUpdateCount:b.dataUpdateCount+1,dataUpdatedAt:a.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!a.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#g=a.manual?d:void 0,d;case"error":let e=a.error;return{...b,error:e,errorUpdateCount:b.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:b.fetchFailureCount+1,fetchFailureReason:e,fetchStatus:"idle",status:"error"};case"invalidate":return{...b,isInvalidated:!0};case"setState":return{...b,...a.state}}};this.state=b(this.state),t.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),this.#h.notify({query:this,type:"updated",action:a})})}},D=class extends u{constructor(a={}){super(),this.config=a,this.#n=new Map}#n;build(a,b,c){let d=b.queryKey,e=b.queryHash??i(d,b),f=this.get(e);return f||(f=new C({client:a,queryKey:d,queryHash:e,options:a.defaultQueryOptions(b),state:c,defaultOptions:a.getQueryDefaults(d)}),this.add(f)),f}add(a){this.#n.has(a.queryHash)||(this.#n.set(a.queryHash,a),this.notify({type:"added",query:a}))}remove(a){let b=this.#n.get(a.queryHash);b&&(a.destroy(),b===a&&this.#n.delete(a.queryHash),this.notify({type:"removed",query:a}))}clear(){t.batch(()=>{this.getAll().forEach(a=>{this.remove(a)})})}get(a){return this.#n.get(a)}getAll(){return[...this.#n.values()]}find(a){let b={exact:!0,...a};return this.getAll().find(a=>g(b,a))}findAll(a={}){let b=this.getAll();return Object.keys(a).length>0?b.filter(b=>g(a,b)):b}notify(a){t.batch(()=>{this.listeners.forEach(b=>{b(a)})})}onFocus(){t.batch(()=>{this.getAll().forEach(a=>{a.onFocus()})})}onOnline(){t.batch(()=>{this.getAll().forEach(a=>{a.onOnline()})})}},E=class extends B{#o;#p;#j;constructor(a){super(),this.mutationId=a.mutationId,this.#p=a.mutationCache,this.#o=[],this.state=a.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(a.options),this.scheduleGc()}setOptions(a){this.options=a,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(a){this.#o.includes(a)||(this.#o.push(a),this.clearGcTimeout(),this.#p.notify({type:"observerAdded",mutation:this,observer:a}))}removeObserver(a){this.#o=this.#o.filter(b=>b!==a),this.scheduleGc(),this.#p.notify({type:"observerRemoved",mutation:this,observer:a})}optionalRemove(){this.#o.length||("pending"===this.state.status?this.scheduleGc():this.#p.remove(this))}continue(){return this.#j?.continue()??this.execute(this.state.variables)}async execute(a){let b=()=>{this.#m({type:"continue"})};this.#j=A({fn:()=>this.options.mutationFn?this.options.mutationFn(a):Promise.reject(Error("No mutationFn found")),onFail:(a,b)=>{this.#m({type:"failed",failureCount:a,error:b})},onPause:()=>{this.#m({type:"pause"})},onContinue:b,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#p.canRun(this)});let c="pending"===this.state.status,d=!this.#j.canStart();try{if(c)b();else{this.#m({type:"pending",variables:a,isPaused:d}),await this.#p.config.onMutate?.(a,this);let b=await this.options.onMutate?.(a);b!==this.state.context&&this.#m({type:"pending",context:b,variables:a,isPaused:d})}let e=await this.#j.start();return await this.#p.config.onSuccess?.(e,a,this.state.context,this),await this.options.onSuccess?.(e,a,this.state.context),await this.#p.config.onSettled?.(e,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(e,null,a,this.state.context),this.#m({type:"success",data:e}),e}catch(b){try{throw await this.#p.config.onError?.(b,a,this.state.context,this),await this.options.onError?.(b,a,this.state.context),await this.#p.config.onSettled?.(void 0,b,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,b,a,this.state.context),b}finally{this.#m({type:"error",error:b})}}finally{this.#p.runNext(this)}}#m(a){this.state=(b=>{switch(a.type){case"failed":return{...b,failureCount:a.failureCount,failureReason:a.error};case"pause":return{...b,isPaused:!0};case"continue":return{...b,isPaused:!1};case"pending":return{...b,context:a.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:a.isPaused,status:"pending",variables:a.variables,submittedAt:Date.now()};case"success":return{...b,data:a.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...b,data:void 0,error:a.error,failureCount:b.failureCount+1,failureReason:a.error,isPaused:!1,status:"error"}}})(this.state),t.batch(()=>{this.#o.forEach(b=>{b.onMutationUpdate(a)}),this.#p.notify({mutation:this,type:"updated",action:a})})}},F=class extends u{constructor(a={}){super(),this.config=a,this.#q=new Set,this.#r=new Map,this.#s=0}#q;#r;#s;build(a,b,c){let d=new E({mutationCache:this,mutationId:++this.#s,options:a.defaultMutationOptions(b),state:c});return this.add(d),d}add(a){this.#q.add(a);let b=G(a);if("string"==typeof b){let c=this.#r.get(b);c?c.push(a):this.#r.set(b,[a])}this.notify({type:"added",mutation:a})}remove(a){if(this.#q.delete(a)){let b=G(a);if("string"==typeof b){let c=this.#r.get(b);if(c)if(c.length>1){let b=c.indexOf(a);-1!==b&&c.splice(b,1)}else c[0]===a&&this.#r.delete(b)}}this.notify({type:"removed",mutation:a})}canRun(a){let b=G(a);if("string"!=typeof b)return!0;{let c=this.#r.get(b),d=c?.find(a=>"pending"===a.state.status);return!d||d===a}}runNext(a){let b=G(a);if("string"!=typeof b)return Promise.resolve();{let c=this.#r.get(b)?.find(b=>b!==a&&b.state.isPaused);return c?.continue()??Promise.resolve()}}clear(){t.batch(()=>{this.#q.forEach(a=>{this.notify({type:"removed",mutation:a})}),this.#q.clear(),this.#r.clear()})}getAll(){return Array.from(this.#q)}find(a){let b={exact:!0,...a};return this.getAll().find(a=>h(b,a))}findAll(a={}){return this.getAll().filter(b=>h(a,b))}notify(a){t.batch(()=>{this.listeners.forEach(b=>{b(a)})})}resumePausedMutations(){let a=this.getAll().filter(a=>a.state.isPaused);return t.batch(()=>Promise.all(a.map(a=>a.continue().catch(e))))}};function G(a){return a.options.scope?.id}function H(a){return{onFetch:(b,c)=>{let d=b.options,e=b.fetchOptions?.meta?.fetchMore?.direction,f=b.state.data?.pages||[],g=b.state.data?.pageParams||[],h={pages:[],pageParams:[]},i=0,j=async()=>{let c=!1,j=r(b.options,b.fetchOptions),k=async(a,d,e)=>{if(c)return Promise.reject();if(null==d&&a.pages.length)return Promise.resolve(a);let f=(()=>{let a={client:b.client,queryKey:b.queryKey,pageParam:d,direction:e?"backward":"forward",meta:b.options.meta};return Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(b.signal.aborted?c=!0:b.signal.addEventListener("abort",()=>{c=!0}),b.signal)}),a})(),g=await j(f),{maxPages:h}=b.options,i=e?p:o;return{pages:i(a.pages,g,h),pageParams:i(a.pageParams,d,h)}};if(e&&f.length){let a="backward"===e,b={pages:f,pageParams:g},c=(a?function(a,{pages:b,pageParams:c}){return b.length>0?a.getPreviousPageParam?.(b[0],b,c[0],c):void 0}:I)(d,b);h=await k(b,c,a)}else{let b=a??f.length;do{let a=0===i?g[0]??d.initialPageParam:I(d,h);if(i>0&&null==a)break;h=await k(h,a),i++}while(i<b)}return h};b.options.persister?b.fetchFn=()=>b.options.persister?.(j,{client:b.client,queryKey:b.queryKey,meta:b.options.meta,signal:b.signal},c):b.fetchFn=j}}}function I(a,{pages:b,pageParams:c}){let d=b.length-1;return b.length>0?a.getNextPageParam(b[d],b,c[d],c):void 0}var J=class{#t;#p;#k;#u;#v;#w;#x;#y;constructor(a={}){this.#t=a.queryCache||new D,this.#p=a.mutationCache||new F,this.#k=a.defaultOptions||{},this.#u=new Map,this.#v=new Map,this.#w=0}mount(){this.#w++,1===this.#w&&(this.#x=v.subscribe(async a=>{a&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#y=w.subscribe(async a=>{a&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#w--,0===this.#w&&(this.#x?.(),this.#x=void 0,this.#y?.(),this.#y=void 0)}isFetching(a){return this.#t.findAll({...a,fetchStatus:"fetching"}).length}isMutating(a){return this.#p.findAll({...a,status:"pending"}).length}getQueryData(a){let b=this.defaultQueryOptions({queryKey:a});return this.#t.get(b.queryHash)?.state.data}ensureQueryData(a){let b=this.defaultQueryOptions(a),c=this.#t.build(this,b),d=c.state.data;return void 0===d?this.fetchQuery(a):(a.revalidateIfStale&&c.isStaleByTime(f(b.staleTime,c))&&this.prefetchQuery(b),Promise.resolve(d))}getQueriesData(a){return this.#t.findAll(a).map(({queryKey:a,state:b})=>[a,b.data])}setQueryData(a,b,c){let d=this.defaultQueryOptions({queryKey:a}),e=this.#t.get(d.queryHash),f=e?.state.data,g="function"==typeof b?b(f):b;if(void 0!==g)return this.#t.build(this,d).setData(g,{...c,manual:!0})}setQueriesData(a,b,c){return t.batch(()=>this.#t.findAll(a).map(({queryKey:a})=>[a,this.setQueryData(a,b,c)]))}getQueryState(a){let b=this.defaultQueryOptions({queryKey:a});return this.#t.get(b.queryHash)?.state}removeQueries(a){let b=this.#t;t.batch(()=>{b.findAll(a).forEach(a=>{b.remove(a)})})}resetQueries(a,b){let c=this.#t;return t.batch(()=>(c.findAll(a).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...a},b)))}cancelQueries(a,b={}){let c={revert:!0,...b};return Promise.all(t.batch(()=>this.#t.findAll(a).map(a=>a.cancel(c)))).then(e).catch(e)}invalidateQueries(a,b={}){return t.batch(()=>(this.#t.findAll(a).forEach(a=>{a.invalidate()}),a?.refetchType==="none")?Promise.resolve():this.refetchQueries({...a,type:a?.refetchType??a?.type??"active"},b))}refetchQueries(a,b={}){let c={...b,cancelRefetch:b.cancelRefetch??!0};return Promise.all(t.batch(()=>this.#t.findAll(a).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let b=a.fetch(void 0,c);return c.throwOnError||(b=b.catch(e)),"paused"===a.state.fetchStatus?Promise.resolve():b}))).then(e)}fetchQuery(a){let b=this.defaultQueryOptions(a);void 0===b.retry&&(b.retry=!1);let c=this.#t.build(this,b);return c.isStaleByTime(f(b.staleTime,c))?c.fetch(b):Promise.resolve(c.state.data)}prefetchQuery(a){return this.fetchQuery(a).then(e).catch(e)}fetchInfiniteQuery(a){return a.behavior=H(a.pages),this.fetchQuery(a)}prefetchInfiniteQuery(a){return this.fetchInfiniteQuery(a).then(e).catch(e)}ensureInfiniteQueryData(a){return a.behavior=H(a.pages),this.ensureQueryData(a)}resumePausedMutations(){return w.isOnline()?this.#p.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#p}getDefaultOptions(){return this.#k}setDefaultOptions(a){this.#k=a}setQueryDefaults(a,b){this.#u.set(j(a),{queryKey:a,defaultOptions:b})}getQueryDefaults(a){let b=[...this.#u.values()],c={};return b.forEach(b=>{k(a,b.queryKey)&&Object.assign(c,b.defaultOptions)}),c}setMutationDefaults(a,b){this.#v.set(j(a),{mutationKey:a,defaultOptions:b})}getMutationDefaults(a){let b=[...this.#v.values()],c={};return b.forEach(b=>{k(a,b.mutationKey)&&Object.assign(c,b.defaultOptions)}),c}defaultQueryOptions(a){if(a._defaulted)return a;let b={...this.#k.queries,...this.getQueryDefaults(a.queryKey),...a,_defaulted:!0};return b.queryHash||(b.queryHash=i(b.queryKey,b)),void 0===b.refetchOnReconnect&&(b.refetchOnReconnect="always"!==b.networkMode),void 0===b.throwOnError&&(b.throwOnError=!!b.suspense),!b.networkMode&&b.persister&&(b.networkMode="offlineFirst"),b.queryFn===q&&(b.enabled=!1),b}defaultMutationOptions(a){return a?._defaulted?a:{...this.#k.mutations,...a?.mutationKey&&this.getMutationDefaults(a.mutationKey),...a,_defaulted:!0}}clear(){this.#t.clear(),this.#p.clear()}}},6610:(a,b,c)=>{"use strict";c.d(b,{Ht:()=>g});var d=c(8301),e=c(1124),f=d.createContext(void 0),g=({client:a,children:b})=>(d.useEffect(()=>(a.mount(),()=>{a.unmount()}),[a]),(0,e.jsx)(f.Provider,{value:a,children:b}))},7150:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{addSearchParamsToPageSegments:function(){return l},handleAliasedPrefetchEntry:function(){return k}});let d=c(2454),e=c(7163),f=c(6143),g=c(1830),h=c(5812),i=c(8763),j=c(3486);function k(a,b,c,k,m){let n,o=b.tree,p=b.cache,q=(0,g.createHrefFromUrl)(k);if("string"==typeof c)return!1;for(let b of c){if(!function a(b){if(!b)return!1;let c=b[2];if(b[3])return!0;for(let b in c)if(a(c[b]))return!0;return!1}(b.seedData))continue;let c=b.tree;c=l(c,Object.fromEntries(k.searchParams));let{seedData:g,isRootRender:j,pathToSegment:m}=b,r=["",...m];c=l(c,Object.fromEntries(k.searchParams));let s=(0,f.applyRouterStatePatchToTree)(r,o,c,q),t=(0,e.createEmptyCacheNode)();if(j&&g){let b=g[1];t.loading=g[3],t.rsc=b,function a(b,c,e,f,g){if(0!==Object.keys(f[1]).length)for(let i in f[1]){let j,k=f[1][i],l=k[0],m=(0,h.createRouterCacheKey)(l),n=null!==g&&void 0!==g[2][i]?g[2][i]:null;if(null!==n){let a=n[1],c=n[3];j={lazyData:null,rsc:l.includes(d.PAGE_SEGMENT_KEY)?null:a,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map,loading:c,navigatedAt:b}}else j={lazyData:null,rsc:null,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map,loading:null,navigatedAt:-1};let o=c.parallelRoutes.get(i);o?o.set(m,j):c.parallelRoutes.set(i,new Map([[m,j]])),a(b,j,e,k,n)}}(a,t,p,c,g)}else t.rsc=p.rsc,t.prefetchRsc=p.prefetchRsc,t.loading=p.loading,t.parallelRoutes=new Map(p.parallelRoutes),(0,i.fillCacheWithNewSubTreeDataButOnlyLoading)(a,t,p,b);s&&(o=s,p=t,n=!0)}return!!n&&(m.patchedTree=o,m.cache=p,m.canonicalUrl=q,m.hashFragment=k.hash,(0,j.handleMutable)(b,m))}function l(a,b){let[c,e,...f]=a;if(c.includes(d.PAGE_SEGMENT_KEY))return[(0,d.addSearchParamsIfPageSegment)(c,b),e,...f];let g={};for(let[a,c]of Object.entries(e))g[a]=l(c,b);return[c,g,...f]}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},7163:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{createEmptyCacheNode:function(){return G},createPrefetchURL:function(){return E},default:function(){return K},isExternalURL:function(){return D}});let d=c(5288),e=c(5823),f=c(1124),g=e._(c(8301)),h=c(2889),i=c(2591),j=c(1830),k=c(8398),l=c(2158),m=c(344),n=c(2464),o=c(8065),p=c(7939),q=c(2398),r=c(5963),s=c(5103),t=c(3043),u=c(8151),v=c(8997),w=c(1439),x=c(9296),y=c(7847);c(551);let z=d._(c(9384)),A=d._(c(4160)),B=c(2263),C={};function D(a){return a.origin!==window.location.origin}function E(a){let b;if((0,m.isBot)(window.navigator.userAgent))return null;try{b=new URL((0,n.addBasePath)(a),window.location.href)}catch(b){throw Object.defineProperty(Error("Cannot prefetch '"+a+"' because it cannot be converted to a URL."),"__NEXT_ERROR_CODE",{value:"E234",enumerable:!1,configurable:!0})}return D(b)?null:b}function F(a){let{appRouterState:b}=a;return(0,g.useInsertionEffect)(()=>{let{tree:a,pushRef:c,canonicalUrl:d}=b,e={...c.preserveCustomHistoryState?window.history.state:{},__NA:!0,__PRIVATE_NEXTJS_INTERNALS_TREE:a};c.pendingPush&&(0,j.createHrefFromUrl)(new URL(window.location.href))!==d?(c.pendingPush=!1,window.history.pushState(e,"",d)):window.history.replaceState(e,"",d)},[b]),(0,g.useEffect)(()=>{},[b.nextUrl,b.tree]),null}function G(){return{lazyData:null,rsc:null,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map,loading:null,navigatedAt:-1}}function H(a){null==a&&(a={});let b=window.history.state,c=null==b?void 0:b.__NA;c&&(a.__NA=c);let d=null==b?void 0:b.__PRIVATE_NEXTJS_INTERNALS_TREE;return d&&(a.__PRIVATE_NEXTJS_INTERNALS_TREE=d),a}function I(a){let{headCacheNode:b}=a,c=null!==b?b.head:null,d=null!==b?b.prefetchHead:null,e=null!==d?d:c;return(0,g.useDeferredValue)(c,e)}function J(a){let b,{actionQueue:c,assetPrefix:d,globalError:e}=a,j=(0,l.useActionQueue)(c),{canonicalUrl:m}=j,{searchParams:n,pathname:v}=(0,g.useMemo)(()=>{let a=new URL(m,"http://n");return{searchParams:a.searchParams,pathname:(0,t.hasBasePath)(a.pathname)?(0,s.removeBasePath)(a.pathname):a.pathname}},[m]);(0,g.useEffect)(()=>{function a(a){var b;a.persisted&&(null==(b=window.history.state)?void 0:b.__PRIVATE_NEXTJS_INTERNALS_TREE)&&(C.pendingMpaPath=void 0,(0,l.dispatchAppRouterAction)({type:i.ACTION_RESTORE,url:new URL(window.location.href),tree:window.history.state.__PRIVATE_NEXTJS_INTERNALS_TREE}))}return window.addEventListener("pageshow",a),()=>{window.removeEventListener("pageshow",a)}},[]),(0,g.useEffect)(()=>{function a(a){let b="reason"in a?a.reason:a.error;if((0,y.isRedirectError)(b)){a.preventDefault();let c=(0,x.getURLFromRedirectError)(b);(0,x.getRedirectTypeFromError)(b)===y.RedirectType.push?w.publicAppRouterInstance.push(c,{}):w.publicAppRouterInstance.replace(c,{})}}return window.addEventListener("error",a),window.addEventListener("unhandledrejection",a),()=>{window.removeEventListener("error",a),window.removeEventListener("unhandledrejection",a)}},[]);let{pushRef:A}=j;if(A.mpaNavigation){if(C.pendingMpaPath!==m){let a=window.location;A.pendingPush?a.assign(m):a.replace(m),C.pendingMpaPath=m}throw r.unresolvedThenable}(0,g.useEffect)(()=>{let a=window.history.pushState.bind(window.history),b=window.history.replaceState.bind(window.history),c=a=>{var b;let c=window.location.href,d=null==(b=window.history.state)?void 0:b.__PRIVATE_NEXTJS_INTERNALS_TREE;(0,g.startTransition)(()=>{(0,l.dispatchAppRouterAction)({type:i.ACTION_RESTORE,url:new URL(null!=a?a:c,c),tree:d})})};window.history.pushState=function(b,d,e){return(null==b?void 0:b.__NA)||(null==b?void 0:b._N)||(b=H(b),e&&c(e)),a(b,d,e)},window.history.replaceState=function(a,d,e){return(null==a?void 0:a.__NA)||(null==a?void 0:a._N)||(a=H(a),e&&c(e)),b(a,d,e)};let d=a=>{if(a.state){if(!a.state.__NA)return void window.location.reload();(0,g.startTransition)(()=>{(0,w.dispatchTraverseAction)(window.location.href,a.state.__PRIVATE_NEXTJS_INTERNALS_TREE)})}};return window.addEventListener("popstate",d),()=>{window.history.pushState=a,window.history.replaceState=b,window.removeEventListener("popstate",d)}},[]);let{cache:D,tree:E,nextUrl:G,focusAndScrollRef:J}=j,K=(0,g.useMemo)(()=>(0,q.findHeadInCache)(D,E[1]),[D,E]),L=(0,g.useMemo)(()=>(0,u.getSelectedParams)(E),[E]),M=(0,g.useMemo)(()=>({parentTree:E,parentCacheNode:D,parentSegmentPath:null,url:m}),[E,D,m]),O=(0,g.useMemo)(()=>({tree:E,focusAndScrollRef:J,nextUrl:G}),[E,J,G]);if(null!==K){let[a,c,d]=K;b=(0,f.jsx)(I,{headCacheNode:a},d)}else b=null;let P=(0,f.jsxs)(p.RedirectBoundary,{children:[b,(0,f.jsx)(B.RootLayoutBoundary,{children:D.rsc}),(0,f.jsx)(o.AppRouterAnnouncer,{tree:E})]});return P=(0,f.jsx)(z.default,{errorComponent:e[0],errorStyles:e[1],children:P}),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(F,{appRouterState:j}),(0,f.jsx)(N,{}),(0,f.jsx)(k.PathParamsContext.Provider,{value:L,children:(0,f.jsx)(k.PathnameContext.Provider,{value:v,children:(0,f.jsx)(k.SearchParamsContext.Provider,{value:n,children:(0,f.jsx)(h.GlobalLayoutRouterContext.Provider,{value:O,children:(0,f.jsx)(h.AppRouterContext.Provider,{value:w.publicAppRouterInstance,children:(0,f.jsx)(h.LayoutRouterContext.Provider,{value:M,children:P})})})})})})]})}function K(a){let{actionQueue:b,globalErrorState:c,assetPrefix:d}=a;(0,v.useNavFailureHandler)();let e=(0,f.jsx)(J,{actionQueue:b,assetPrefix:d,globalError:c});return(0,f.jsx)(z.default,{errorComponent:A.default,children:e})}let L=new Set,M=new Set;function N(){let[,a]=g.default.useState(0),b=L.size;return(0,g.useEffect)(()=>{let c=()=>a(a=>a+1);return M.add(c),b!==L.size&&c(),()=>{M.delete(c)}},[b,a]),[...L].map((a,b)=>(0,f.jsx)("link",{rel:"stylesheet",href:""+a,precedence:"next"},b))}globalThis._N_E_STYLE_LOAD=function(a){let b=L.size;return L.add(a),L.size!==b&&M.forEach(a=>a()),Promise.resolve()},("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},7196:(a,b,c)=>{"use strict";c.d(b,{Ay:()=>fL});var d="undefined"!=typeof window?window:void 0,e="undefined"!=typeof globalThis?globalThis:d,f=Array.prototype,g=f.forEach,h=f.indexOf,i=null==e?void 0:e.navigator,j=null==e?void 0:e.document,k=null==e?void 0:e.location,l=null==e?void 0:e.fetch,m=null!=e&&e.XMLHttpRequest&&"withCredentials"in new e.XMLHttpRequest?e.XMLHttpRequest:void 0,n=null==e?void 0:e.AbortController,o=null==i?void 0:i.userAgent,p=null!=d?d:{},q={DEBUG:!1,LIB_VERSION:"1.260.1"},r="$copy_autocapture",s=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"],t=function(a){return a.GZipJS="gzip-js",a.Base64="base64",a}({}),u=["fatal","error","warning","log","info","debug"];function v(a,b){return -1!==a.indexOf(b)}var w=function(a){return a.trim()},x=function(a){return a.replace(/^\$/,"")},y=Array.isArray,z=Object.prototype,A=z.hasOwnProperty,B=z.toString,C=y||function(a){return"[object Array]"===B.call(a)},D=a=>"function"==typeof a,E=a=>a===Object(a)&&!C(a),F=a=>{if(E(a)){for(var b in a)if(A.call(a,b))return!1;return!0}return!1},G=a=>void 0===a,H=a=>"[object String]"==B.call(a),I=a=>H(a)&&0===a.trim().length,J=a=>null===a,K=a=>G(a)||J(a),L=a=>"[object Number]"==B.call(a),M=a=>"[object Boolean]"===B.call(a),N=a=>v(s,a),O=a=>{var b={t:function(b){if(d&&(q.DEBUG||p.POSTHOG_DEBUG)&&!G(d.console)&&d.console){for(var c=("__rrweb_original__"in d.console[b])?d.console[b].__rrweb_original__:d.console[b],e=arguments.length,f=Array(e>1?e-1:0),g=1;g<e;g++)f[g-1]=arguments[g];c(a,...f)}},info:function(){for(var a=arguments.length,c=Array(a),d=0;d<a;d++)c[d]=arguments[d];b.t("log",...c)},warn:function(){for(var a=arguments.length,c=Array(a),d=0;d<a;d++)c[d]=arguments[d];b.t("warn",...c)},error:function(){for(var a=arguments.length,c=Array(a),d=0;d<a;d++)c[d]=arguments[d];b.t("error",...c)},critical:function(){for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];console.error(a,...c)},uninitializedWarning:a=>{b.error("You must initialize PostHog before calling "+a)},createLogger:b=>O(a+" "+b)};return b},P=O("[PostHog.js]"),Q=P.createLogger,R=Q("[ExternalScriptsLoader]"),S=(a,b,c)=>{if(a.config.disable_external_dependency_loading)return R.warn(b+" was requested but loading of external scripts is disabled."),c("Loading of external scripts is disabled");var d=null==j?void 0:j.querySelectorAll("script");if(d){for(var e=0;e<d.length;e++)if(d[e].src===b)return c()}var f=()=>{if(!j)return c("document not found");var d=j.createElement("script");if(d.type="text/javascript",d.crossOrigin="anonymous",d.src=b,d.onload=a=>c(void 0,a),d.onerror=a=>c(a),a.config.prepare_external_dependency_script&&(d=a.config.prepare_external_dependency_script(d)),!d)return c("prepare_external_dependency_script returned null");var e,f=j.querySelectorAll("body > script");f.length>0?null==(e=f[0].parentNode)||e.insertBefore(d,f[0]):j.body.appendChild(d)};null!=j&&j.body?f():null==j||j.addEventListener("DOMContentLoaded",f)};function T(){return(T=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)({}).hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(null,arguments)}function U(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}p.__PosthogExtensions__=p.__PosthogExtensions__||{},p.__PosthogExtensions__.loadExternalDependency=(a,b,c)=>{var d="/static/"+b+".js?v="+a.version;"remote-config"===b&&(d="/array/"+a.config.token+"/config.js"),"toolbar"===b&&(d=d+"&t="+3e5*Math.floor(Date.now()/3e5));var e=a.requestRouter.endpointFor("assets",d);S(a,e,c)},p.__PosthogExtensions__.loadSiteApp=(a,b,c)=>{var d=a.requestRouter.endpointFor("api",b);S(a,d,c)};var V={};function W(a,b,c){if(C(a)){if(g&&a.forEach===g)a.forEach(b,c);else if("length"in a&&a.length===+a.length){for(var d=0,e=a.length;d<e;d++)if(d in a&&b.call(c,a[d],d)===V)return}}}function X(a,b,c){if(!K(a)){if(C(a))return W(a,b,c);if(a instanceof FormData){for(var d of a.entries())if(b.call(c,d[1],d[0])===V)return}else for(var e in a)if(A.call(a,e)&&b.call(c,a[e],e)===V)return}}var Y=function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return W(c,function(b){for(var c in b)void 0!==b[c]&&(a[c]=b[c])}),a},Z=function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return W(c,function(b){W(b,function(b){a.push(b)})}),a};function $(a){for(var b=Object.keys(a),c=b.length,d=Array(c);c--;)d[c]=[b[c],a[b[c]]];return d}var _=function(a){try{return a()}catch(a){return}},aa=function(a){return function(){try{for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return a.apply(this,c)}catch(a){P.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),P.critical(a)}}},ab=function(a){var b={};return X(a,function(a,c){(H(a)&&a.length>0||L(a))&&(b[c]=a)}),b},ac=["herokuapp.com","vercel.app","netlify.app"];function ad(a,b){for(var c=0;c<a.length;c++)if(b(a[c]))return a[c]}function ae(a,b,c,d){var{capture:e=!1,passive:f=!0}=null!=d?d:{};null==a||a.addEventListener(b,c,{capture:e,passive:f})}var af="$people_distinct_id",ag="__alias",ah="__timers",ai="$autocapture_disabled_server_side",aj="$heatmaps_enabled_server_side",ak="$exception_capture_enabled_server_side",al="$error_tracking_suppression_rules",am="$error_tracking_capture_extension_exceptions",an="$web_vitals_enabled_server_side",ao="$dead_clicks_enabled_server_side",ap="$web_vitals_allowed_metrics",aq="$session_recording_enabled_server_side",ar="$console_log_recording_enabled_server_side",as="$session_recording_network_payload_capture",at="$session_recording_masking",au="$session_recording_canvas_recording",av="$replay_sample_rate",aw="$replay_minimum_duration",ax="$replay_script_config",ay="$sesid",az="$session_is_sampled",aA="$session_recording_url_trigger_activated_session",aB="$session_recording_event_trigger_activated_session",aC="$enabled_feature_flags",aD="$early_access_features",aE="$feature_flag_details",aF="$stored_person_properties",aG="$stored_group_properties",aH="$surveys",aI="$surveys_activated",aJ="$flag_call_reported",aK="$user_state",aL="$client_session_props",aM="$capture_rate_limit",aN="$initial_campaign_params",aO="$initial_referrer_info",aP="$initial_person_info",aQ="$epp",aR="__POSTHOG_TOOLBAR__",aS="$posthog_cookieless",aT=[af,ag,"__cmpns",ah,aq,aj,ay,aC,al,aK,aD,aE,aG,aF,aH,aJ,aL,aM,aN,aO,aQ,aP];function aU(a){return a instanceof Element&&(a.id===aR||!(null==a.closest||!a.closest(".toolbar-global-fade-container")))}function aV(a){return!!a&&1===a.nodeType}function aW(a,b){return!!a&&!!a.tagName&&a.tagName.toLowerCase()===b.toLowerCase()}function aX(a){return!!a&&3===a.nodeType}function aY(a){return!!a&&11===a.nodeType}function aZ(a){return a?w(a).split(/\s+/):[]}function a$(a){var b=null==d?void 0:d.location.href;return!!(b&&a&&a.some(a=>b.match(a)))}function a_(a){var b="";switch(typeof a.className){case"string":b=a.className;break;case"object":b=(a.className&&"baseVal"in a.className?a.className.baseVal:null)||a.getAttribute("class")||"";break;default:b=""}return aZ(b)}function a0(a){return K(a)?null:w(a).split(/(\s+)/).filter(a=>bd(a)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function a1(a){var b="";return a5(a)&&!a6(a)&&a.childNodes&&a.childNodes.length&&X(a.childNodes,function(a){var c;aX(a)&&a.textContent&&(b+=null!=(c=a0(a.textContent))?c:"")}),w(b)}function a2(a){var b;return G(a.target)?a.srcElement||null:null!=(b=a.target)&&b.shadowRoot?a.composedPath()[0]||null:a.target||null}var a3=["a","button","form","input","select","textarea","label"];function a4(a){var b=a.parentNode;return!(!b||!aV(b))&&b}function a5(a){for(var b=a;b.parentNode&&!aW(b,"body");b=b.parentNode){var c=a_(b);if(v(c,"ph-sensitive")||v(c,"ph-no-capture"))return!1}if(v(a_(a),"ph-include"))return!0;var d=a.type||"";if(H(d))switch(d.toLowerCase()){case"hidden":case"password":return!1}var e=a.name||a.id||"";return!(H(e)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(e.replace(/[^a-zA-Z0-9]/g,"")))}function a6(a){return!!(aW(a,"input")&&!["button","checkbox","submit","reset"].includes(a.type)||aW(a,"select")||aW(a,"textarea")||"true"===a.getAttribute("contenteditable"))}var a7="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",a8=RegExp("^(?:"+a7+")$"),a9=new RegExp(a7),ba="\\d{3}-?\\d{2}-?\\d{4}",bb=RegExp("^("+ba+")$"),bc=RegExp("("+ba+")");function bd(a,b){return void 0===b&&(b=!0),!(K(a)||H(a)&&(a=w(a),(b?a8:a9).test((a||"").replace(/[- ]/g,""))||(b?bb:bc).test(a)))&&!0}function be(a){var b=a1(a);return bd(b=(b+" "+function a(b){var c="";return b&&b.childNodes&&b.childNodes.length&&X(b.childNodes,function(b){var d;if(b&&"span"===(null==(d=b.tagName)?void 0:d.toLowerCase()))try{var e=a1(b);c=(c+" "+e).trim(),b.childNodes&&b.childNodes.length&&(c=(c+" "+a(b)).trim())}catch(a){P.error("[AutoCapture]",a)}}),c}(a)).trim())?b:""}function bf(a){return a.replace(/"|\\"/g,'\\"')}class bg{constructor(){this.clicks=[]}isRageClick(a,b,c){var d=this.clicks[this.clicks.length-1];if(d&&Math.abs(a-d.x)+Math.abs(b-d.y)<30&&c-d.timestamp<1e3){if(this.clicks.push({x:a,y:b,timestamp:c}),3===this.clicks.length)return!0}else this.clicks=[{x:a,y:b,timestamp:c}];return!1}}var bh=["localhost","127.0.0.1"],bi=a=>{var b=null==j?void 0:j.createElement("a");return G(b)?null:(b.href=a,b)},bj=function(a,b){void 0===b&&(b="&");var c,d,e=[];return X(a,function(a,b){G(a)||G(b)||"undefined"===b||(c=encodeURIComponent(a instanceof File?a.name:a.toString()),d=encodeURIComponent(b),e[e.length]=d+"="+c)}),e.join(b)},bk=function(a,b){for(var c,d=((a.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),e=0;e<d.length;e++){var f=d[e].split("=");if(f[0]===b){c=f;break}}if(!C(c)||c.length<2)return"";var g=c[1];try{g=decodeURIComponent(g)}catch(a){P.error("Skipping decoding for malformed query param: "+g)}return g.replace(/\+/g," ")},bl=function(a,b,c){if(!a||!b||!b.length)return a;for(var d=a.split("#"),e=d[0]||"",f=d[1],g=e.split("?"),h=g[1],i=g[0],j=(h||"").split("&"),k=[],l=0;l<j.length;l++){var m=j[l].split("=");C(m)&&(b.includes(m[0])?k.push(m[0]+"="+c):k.push(j[l]))}var n=i;return null!=h&&(n+="?"+k.join("&")),null!=f&&(n+="#"+f),n},bm=function(a,b){var c=a.match(RegExp(b+"=([^&]*)"));return c?c[1]:null},bn=Q("[AutoCapture]");function bo(a,b){return b.length>a?b.slice(0,a)+"...":b}class bp{constructor(a){this.i=!1,this.o=null,this.rageclicks=new bg,this.h=!1,this.instance=a,this.m=null}get S(){var a,b,c=E(this.instance.config.autocapture)?this.instance.config.autocapture:{};return c.url_allowlist=null==(a=c.url_allowlist)?void 0:a.map(a=>new RegExp(a)),c.url_ignorelist=null==(b=c.url_ignorelist)?void 0:b.map(a=>new RegExp(a)),c}$(){if(this.isBrowserSupported()){if(d&&j){var a=a=>{a=a||(null==d?void 0:d.event);try{this.k(a)}catch(a){bn.error("Failed to capture event",a)}};if(ae(j,"submit",a,{capture:!0}),ae(j,"change",a,{capture:!0}),ae(j,"click",a,{capture:!0}),this.S.capture_copied_text){var b=a=>{a=a||(null==d?void 0:d.event),this.k(a,r)};ae(j,"copy",b,{capture:!0}),ae(j,"cut",b,{capture:!0})}}}else bn.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.i&&(this.$(),this.i=!0)}onRemoteConfig(a){a.elementsChainAsString&&(this.h=a.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[ai]:!!a.autocapture_opt_out}),this.o=!!a.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(a){this.m=a}getElementSelectors(a){var b,c=[];return null==(b=this.m)||b.forEach(b=>{var d=null==j?void 0:j.querySelectorAll(b);null==d||d.forEach(d=>{a===d&&c.push(b)})}),c}get isEnabled(){var a,b,c=null==(a=this.instance.persistence)?void 0:a.props[ai];if(J(this.o)&&!M(c)&&!this.instance.I())return!1;var d=null!=(b=this.o)?b:!!c;return!!this.instance.config.autocapture&&!d}k(a,b){if(void 0===b&&(b="$autocapture"),this.isEnabled){var c,e=a2(a);aX(e)&&(e=e.parentNode||null),"$autocapture"===b&&"click"===a.type&&a instanceof MouseEvent&&this.instance.config.rageclick&&null!=(c=this.rageclicks)&&c.isRageClick(a.clientX,a.clientY,(new Date).getTime())&&this.k(a,"$rageclick");var f=b===r;if(e&&function(a,b,c,e,f){if(void 0===c&&(c=void 0),!d||!a||aW(a,"html")||!aV(a)||null!=(g=c)&&g.url_allowlist&&!a$(c.url_allowlist)||null!=(h=c)&&h.url_ignorelist&&a$(c.url_ignorelist))return!1;if(null!=(i=c)&&i.dom_event_allowlist){var g,h,i,j=c.dom_event_allowlist;if(j&&!j.some(a=>b.type===a))return!1}for(var k=!1,l=[a],m=!0,n=a;n.parentNode&&!aW(n,"body");)if(aY(n.parentNode))l.push(n.parentNode.host),n=n.parentNode.host;else{if(!(m=a4(n)))break;if(e||a3.indexOf(m.tagName.toLowerCase())>-1)k=!0;else{var o=d.getComputedStyle(m);o&&"pointer"===o.getPropertyValue("cursor")&&(k=!0)}l.push(m),n=m}if(!function(a,b){var c=null==b?void 0:b.element_allowlist;if(G(c))return!0;var d,e=function(a){if(c.some(b=>a.tagName.toLowerCase()===b))return{v:!0}};for(var f of a)if(d=e(f))return d.v;return!1}(l,c)||!function(a,b){var c=null==b?void 0:b.css_selector_allowlist;if(G(c))return!0;var d,e=function(a){if(c.some(b=>a.matches(b)))return{v:!0}};for(var f of a)if(d=e(f))return d.v;return!1}(l,c))return!1;var p=d.getComputedStyle(a);if(p&&"pointer"===p.getPropertyValue("cursor")&&"click"===b.type)return!0;var q=a.tagName.toLowerCase();switch(q){case"html":return!1;case"form":return(f||["submit"]).indexOf(b.type)>=0;case"input":case"select":case"textarea":return(f||["change","click"]).indexOf(b.type)>=0;default:return k?(f||["click"]).indexOf(b.type)>=0:(f||["click"]).indexOf(b.type)>=0&&(a3.indexOf(q)>-1||"true"===a.getAttribute("contenteditable"))}}(e,a,this.S,f,f?["copy","cut"]:void 0)){var{props:g,explicitNoCapture:h}=function(a,b){for(var c,e,{e:f,maskAllElementAttributes:g,maskAllText:h,elementAttributeIgnoreList:i,elementsChainAsString:j}=b,k=[a],l=a;l.parentNode&&!aW(l,"body");)aY(l.parentNode)?(k.push(l.parentNode.host),l=l.parentNode.host):(k.push(l.parentNode),l=l.parentNode);var m,n=[],o={},p=!1,q=!1;if(X(k,a=>{var b=a5(a);"a"===a.tagName.toLowerCase()&&(p=a.getAttribute("href"),p=b&&p&&bd(p)&&p),v(a_(a),"ph-no-capture")&&(q=!0),n.push(function(a,b,c,d){var e=a.tagName.toLowerCase(),f={tag_name:e};a3.indexOf(e)>-1&&!c&&("a"===e.toLowerCase()||"button"===e.toLowerCase()?f.$el_text=bo(1024,be(a)):f.$el_text=bo(1024,a1(a)));var g=a_(a);g.length>0&&(f.classes=g.filter(function(a){return""!==a})),X(a.attributes,function(c){var e;if((!a6(a)||-1!==["name","id","class","aria-label"].indexOf(c.name))&&(null==d||!d.includes(c.name))&&!b&&bd(c.value)&&(!H(e=c.name)||"_ngcontent"!==e.substring(0,10)&&"_nghost"!==e.substring(0,7))){var g=c.value;"class"===c.name&&(g=aZ(g).join(" ")),f["attr__"+c.name]=bo(1024,g)}});for(var h=1,i=1,j=a;j=function(a){if(a.previousElementSibling)return a.previousElementSibling;var b=a;do b=b.previousSibling;while(b&&!aV(b));return b}(j);)h++,j.tagName===a.tagName&&i++;return f.nth_child=h,f.nth_of_type=i,f}(a,g,h,i)),Y(o,function(a){if(!a5(a))return{};var b={};return X(a.attributes,function(a){if(a.name&&0===a.name.indexOf("data-ph-capture-attribute")){var c=a.name.replace("data-ph-capture-attribute-",""),d=a.value;c&&d&&bd(d)&&(b[c]=d)}}),b}(a))}),q)return{props:{},explicitNoCapture:q};if(h||("a"===a.tagName.toLowerCase()||"button"===a.tagName.toLowerCase()?n[0].$el_text=be(a):n[0].$el_text=a1(a)),p){n[0].attr__href=p;var r,s,t=null==(r=bi(p))?void 0:r.host,u=null==d||null==(s=d.location)?void 0:s.host;t&&u&&t!==u&&(m=p)}return{props:Y({$event_type:f.type,$ce_version:1},j?{}:{$elements:n},{$elements_chain:n.map(a=>{var b,c,d,e={text:null==(c=a.$el_text)?void 0:c.slice(0,400),tag_name:a.tag_name,href:null==(d=a.attr__href)?void 0:d.slice(0,2048),attr_class:(b=a.attr__class)?C(b)?b:aZ(b):void 0,attr_id:a.attr__id,nth_child:a.nth_child,nth_of_type:a.nth_of_type,attributes:{}};return $(a).filter(a=>{var[b]=a;return 0===b.indexOf("attr__")}).forEach(a=>{var[b,c]=a;return e.attributes[b]=c}),e}).map(a=>{var b,c,d="";if(a.tag_name&&(d+=a.tag_name),a.attr_class)for(var e of(a.attr_class.sort(),a.attr_class))d+="."+e.replace(/"/g,"");var f=T({},a.text?{text:a.text}:{},{"nth-child":null!=(b=a.nth_child)?b:0,"nth-of-type":null!=(c=a.nth_of_type)?c:0},a.href?{href:a.href}:{},a.attr_id?{attr_id:a.attr_id}:{},a.attributes),g={};return $(f).sort((a,b)=>{var[c]=a,[d]=b;return c.localeCompare(d)}).forEach(a=>{var[b,c]=a;return g[bf(b.toString())]=bf(c.toString())}),d+=":",d+=$(g).map(a=>{var[b,c]=a;return b+'="'+c+'"'}).join("")}).join(";")},null!=(c=n[0])&&c.$el_text?{$el_text:null==(e=n[0])?void 0:e.$el_text}:{},m&&"click"===f.type?{$external_click_url:m}:{},o)}}(e,{e:a,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.S.element_attribute_ignorelist,elementsChainAsString:this.h});if(h)return!1;var i=this.getElementSelectors(e);if(i&&i.length>0&&(g.$element_selectors=i),b===r){var j,k=a0(null==d||null==(j=d.getSelection())?void 0:j.toString()),l=a.type||"clipboard";if(!k)return!1;g.$selected_content=k,g.$copy_type=l}return this.instance.capture(b,g),!0}}}isBrowserSupported(){return D(null==j?void 0:j.querySelectorAll)}}Math.trunc||(Math.trunc=function(a){return a<0?Math.ceil(a):Math.floor(a)}),Number.isInteger||(Number.isInteger=function(a){return L(a)&&isFinite(a)&&Math.floor(a)===a});var bq="0123456789abcdef";class br{constructor(a){if(this.bytes=a,16!==a.length)throw TypeError("not 128-bit length")}static fromFieldsV7(a,b,c,d){if(!Number.isInteger(a)||!Number.isInteger(b)||!Number.isInteger(c)||!Number.isInteger(d)||a<0||b<0||c<0||d<0||a>0xffffffffffff||b>4095||c>0x3fffffff||d>0xffffffff)throw RangeError("invalid field value");var e=new Uint8Array(16);return e[0]=a/0x10000000000,e[1]=a/0x100000000,e[2]=a/0x1000000,e[3]=a/65536,e[4]=a/256,e[5]=a,e[6]=112|b>>>8,e[7]=b,e[8]=128|c>>>24,e[9]=c>>>16,e[10]=c>>>8,e[11]=c,e[12]=d>>>24,e[13]=d>>>16,e[14]=d>>>8,e[15]=d,new br(e)}toString(){for(var a="",b=0;b<this.bytes.length;b++)a=a+bq.charAt(this.bytes[b]>>>4)+bq.charAt(15&this.bytes[b]),3!==b&&5!==b&&7!==b&&9!==b||(a+="-");if(36!==a.length)throw Error("Invalid UUIDv7 was generated");return a}clone(){return new br(this.bytes.slice(0))}equals(a){return 0===this.compareTo(a)}compareTo(a){for(var b=0;b<16;b++){var c=this.bytes[b]-a.bytes[b];if(0!==c)return Math.sign(c)}return 0}}class bs{constructor(){this.P=0,this.R=0,this.T=new bv}generate(){var a=this.generateOrAbort();if(G(a)){this.P=0;var b=this.generateOrAbort();if(G(b))throw Error("Could not generate UUID after timestamp reset");return b}return a}generateOrAbort(){var a=Date.now();if(a>this.P)this.P=a,this.C();else{if(!(a+1e4>this.P))return;this.R++,this.R>0x3ffffffffff&&(this.P++,this.C())}return br.fromFieldsV7(this.P,Math.trunc(this.R/0x40000000),0x3fffffff&this.R,this.T.nextUint32())}C(){this.R=1024*this.T.nextUint32()+(1023&this.T.nextUint32())}}var bt,bu=a=>{if("undefined"!=typeof UUIDV7_DENY_WEAK_RNG&&UUIDV7_DENY_WEAK_RNG)throw Error("no cryptographically strong RNG available");for(var b=0;b<a.length;b++)a[b]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return a};d&&!G(d.crypto)&&crypto.getRandomValues&&(bu=a=>crypto.getRandomValues(a));class bv{constructor(){this.M=new Uint32Array(8),this.F=1/0}nextUint32(){return this.F>=this.M.length&&(bu(this.M),this.F=0),this.M[this.F++]}}var bw=()=>bx().toString(),bx=()=>(bt||(bt=new bs)).generate(),by="",bz=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i,bA={O:()=>!!j,A:function(a){P.error("cookieStore error: "+a)},D:function(a){if(j){try{for(var b=a+"=",c=j.cookie.split(";").filter(a=>a.length),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(b))return decodeURIComponent(e.substring(b.length,e.length))}}catch(a){}return null}},j:function(a){var b;try{b=JSON.parse(bA.D(a))||{}}catch(a){}return b},L:function(a,b,c,d,e){if(j)try{var f="",g="",h=function(a,b){if(b){var c=function(a,b){if(void 0===b&&(b=j),by)return by;if(!b||["localhost","127.0.0.1"].includes(a))return"";for(var c=a.split("."),d=Math.min(c.length,8),e="dmn_chk_"+bw();!by&&d--;){var f=c.slice(d).join("."),g=e+"=1;domain=."+f+";path=/";b.cookie=g+";max-age=3",b.cookie.includes(e)&&(b.cookie=g+";max-age=0",by=f)}return by}(a);if(!c){var d,e=(d=a.match(bz))?d[0]:"";e!==c&&P.info("Warning: cookie subdomain discovery mismatch",e,c),c=e}return c?"; domain=."+c:""}return""}(j.location.hostname,d);if(c){var i=new Date;i.setTime(i.getTime()+24*c*36e5),f="; expires="+i.toUTCString()}e&&(g="; secure");var k=a+"="+encodeURIComponent(JSON.stringify(b))+f+"; SameSite=Lax; path=/"+h+g;return k.length>3686.4&&P.warn("cookieStore warning: large cookie, len="+k.length),j.cookie=k,k}catch(a){return}},N:function(a,b){if(null!=j&&j.cookie)try{bA.L(a,"",-1,b)}catch(a){return}}},bB=null,bC={O:function(){if(!J(bB))return bB;var a=!0;if(G(d))a=!1;else try{var b="__mplssupport__";bC.L(b,"xyz"),'"xyz"'!==bC.D(b)&&(a=!1),bC.N(b)}catch(b){a=!1}return a||P.error("localStorage unsupported; falling back to cookie store"),bB=a,a},A:function(a){P.error("localStorage error: "+a)},D:function(a){try{return null==d?void 0:d.localStorage.getItem(a)}catch(a){bC.A(a)}return null},j:function(a){try{return JSON.parse(bC.D(a))||{}}catch(a){}return null},L:function(a,b){try{null==d||d.localStorage.setItem(a,JSON.stringify(b))}catch(a){bC.A(a)}},N:function(a){try{null==d||d.localStorage.removeItem(a)}catch(a){bC.A(a)}}},bD=["distinct_id",ay,az,aQ,aP],bE=T({},bC,{j:function(a){try{var b={};try{b=bA.j(a)||{}}catch(a){}var c=Y(b,JSON.parse(bC.D(a)||"{}"));return bC.L(a,c),c}catch(a){}return null},L:function(a,b,c,d,e,f){try{bC.L(a,b,void 0,void 0,f);var g={};bD.forEach(a=>{b[a]&&(g[a]=b[a])}),Object.keys(g).length&&bA.L(a,g,c,d,e,f)}catch(a){bC.A(a)}},N:function(a,b){try{null==d||d.localStorage.removeItem(a),bA.N(a,b)}catch(a){bC.A(a)}}}),bF={},bG={O:function(){return!0},A:function(a){P.error("memoryStorage error: "+a)},D:function(a){return bF[a]||null},j:function(a){return bF[a]||null},L:function(a,b){bF[a]=b},N:function(a){delete bF[a]}},bH=null,bI={O:function(){if(!J(bH))return bH;if(bH=!0,G(d))bH=!1;else try{var a="__support__";bI.L(a,"xyz"),'"xyz"'!==bI.D(a)&&(bH=!1),bI.N(a)}catch(a){bH=!1}return bH},A:function(a){P.error("sessionStorage error: ",a)},D:function(a){try{return null==d?void 0:d.sessionStorage.getItem(a)}catch(a){bI.A(a)}return null},j:function(a){try{return JSON.parse(bI.D(a))||null}catch(a){}return null},L:function(a,b){try{null==d||d.sessionStorage.setItem(a,JSON.stringify(b))}catch(a){bI.A(a)}},N:function(a){try{null==d||d.sessionStorage.removeItem(a)}catch(a){bI.A(a)}}},bJ=function(a){return a[a.PENDING=-1]="PENDING",a[a.DENIED=0]="DENIED",a[a.GRANTED=1]="GRANTED",a}({});class bK{constructor(a){this._instance=a}get S(){return this._instance.config}get consent(){return this.U()?bJ.DENIED:this.q}isOptedOut(){return"always"===this.S.cookieless_mode||this.consent===bJ.DENIED||this.consent===bJ.PENDING&&(this.S.opt_out_capturing_by_default||"on_reject"===this.S.cookieless_mode)}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===bJ.DENIED}optInOut(a){this.B.L(this.H,+!!a,this.S.cookie_expiration,this.S.cross_subdomain_cookie,this.S.secure_cookie)}reset(){this.B.N(this.H,this.S.cross_subdomain_cookie)}get H(){var{token:a,opt_out_capturing_cookie_prefix:b,consent_persistence_name:c}=this._instance.config;return c||(b?b+a:"__ph_opt_in_out_"+a)}get q(){var a=this.B.D(this.H);return"1"===a?bJ.GRANTED:"0"===a?bJ.DENIED:bJ.PENDING}get B(){if(!this.W){var a=this.S.opt_out_capturing_persistence_type;this.W="localStorage"===a?bC:bA;var b="localStorage"===a?bA:bC;b.D(this.H)&&(this.W.D(this.H)||this.optInOut("1"===b.D(this.H)),b.N(this.H,this.S.cross_subdomain_cookie))}return this.W}U(){return!!this.S.respect_dnt&&!!ad([null==i?void 0:i.doNotTrack,null==i?void 0:i.msDoNotTrack,p.doNotTrack],a=>v([!0,1,"1","yes"],a))}}var bL=Q("[Dead Clicks]"),bM=()=>!0,bN=a=>{var b,c=!(null==(b=a.instance.persistence)||!b.get_property(ao)),d=a.instance.config.capture_dead_clicks;return M(d)?d:c};class bO{get lazyLoadedDeadClicksAutocapture(){return this.G}constructor(a,b,c){this.instance=a,this.isEnabled=b,this.onCapture=c,this.startIfEnabled()}onRemoteConfig(a){this.instance.persistence&&this.instance.persistence.register({[ao]:null==a?void 0:a.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.J(()=>{this.V()})}J(a){var b,c;null!=(b=p.__PosthogExtensions__)&&b.initDeadClicksAutocapture&&a(),null==(c=p.__PosthogExtensions__)||null==c.loadExternalDependency||c.loadExternalDependency(this.instance,"dead-clicks-autocapture",b=>{b?bL.error("failed to load script",b):a()})}V(){var a;if(j){if(!this.G&&null!=(a=p.__PosthogExtensions__)&&a.initDeadClicksAutocapture){var b=E(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};b.__onCapture=this.onCapture,this.G=p.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,b),this.G.start(j),bL.info("starting...")}}else bL.error("`document` not found. Cannot start.")}stop(){this.G&&(this.G.stop(),this.G=void 0,bL.info("stopping..."))}}function bP(a,b,c,d,e){return b>c&&(P.warn("min cannot be greater than max."),b=c),L(a)?a>c?(d&&P.warn(d+" cannot be  greater than max: "+c+". Using max value instead."),c):a<b?(d&&P.warn(d+" cannot be less than min: "+b+". Using min value instead."),b):a:(d&&P.warn(d+" must be a number. using max or fallback. max: "+c+", fallback: "+e),bP(e||c,b,c,d))}class bQ{constructor(a){this.K={},this.Y=()=>{Object.keys(this.K).forEach(a=>{var b=this.X(a)+this.Z;b>=this.tt?delete this.K[a]:this.it(a,b)})},this.X=a=>this.K[String(a)],this.it=(a,b)=>{this.K[String(a)]=b},this.consumeRateLimit=a=>{var b,c=null!=(b=this.X(a))?b:this.tt;if(0===(c=Math.max(c-1,0)))return!0;this.it(a,c);var d,e=0===c;return e&&(null==(d=this.et)||d.call(this,a)),e},this.rt=a,this.et=this.rt.et,this.tt=bP(this.rt.bucketSize,0,100,"rate limiter bucket size"),this.Z=bP(this.rt.refillRate,0,this.tt,"rate limiter refill rate"),this.st=bP(this.rt.refillInterval,0,864e5,"rate limiter refill interval"),setInterval(()=>{this.Y()},this.st)}}var bR=Q("[ExceptionAutocapture]");class bS{constructor(a){var b,c,e;this.nt=()=>{var a;if(d&&this.isEnabled&&null!=(a=p.__PosthogExtensions__)&&a.errorWrappingFunctions){var b=p.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,c=p.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,e=p.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.ot&&this.S.capture_unhandled_errors&&(this.ot=b(this.captureException.bind(this))),!this.lt&&this.S.capture_unhandled_rejections&&(this.lt=c(this.captureException.bind(this))),!this.ut&&this.S.capture_console_errors&&(this.ut=e(this.captureException.bind(this)))}catch(a){bR.error("failed to start",a),this.ht()}}},this._instance=a,this.dt=!(null==(b=this._instance.persistence)||!b.props[ak]),this.S=this.vt(),this.ct=new bQ({refillRate:null!=(c=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)?c:1,bucketSize:null!=(e=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)?e:10,refillInterval:1e4}),this.startIfEnabled()}vt(){var a=this._instance.config.capture_exceptions,b={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return E(a)?b=T({},b,a):(G(a)?this.dt:a)&&(b=T({},b,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),b}get isEnabled(){return this.S.capture_console_errors||this.S.capture_unhandled_errors||this.S.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(bR.info("enabled"),this.J(this.nt))}J(a){var b,c;null!=(b=p.__PosthogExtensions__)&&b.errorWrappingFunctions&&a(),null==(c=p.__PosthogExtensions__)||null==c.loadExternalDependency||c.loadExternalDependency(this._instance,"exception-autocapture",b=>{if(b)return bR.error("failed to load script",b);a()})}ht(){var a,b,c;null==(a=this.ot)||a.call(this),this.ot=void 0,null==(b=this.lt)||b.call(this),this.lt=void 0,null==(c=this.ut)||c.call(this),this.ut=void 0}onRemoteConfig(a){var b=a.autocaptureExceptions;this.dt=!!b,this.S=this.vt(),this._instance.persistence&&this._instance.persistence.register({[ak]:this.dt}),this.startIfEnabled()}captureException(a){a.$exception_personURL=this._instance.requestRouter.endpointFor("ui")+"/project/"+this._instance.config.token+"/person/"+this._instance.get_distinct_id();var b,c=null!=(b=a.$exception_list[0].type)?b:"Exception";this.ct.consumeRateLimit(c)?bR.info("Skipping exception capture because of client rate limiting.",{exception:a.$exception_list[0].type}):this._instance.exceptions.sendExceptionEvent(a)}}function bT(a){return!G(Event)&&bU(a,Event)}function bU(a,b){try{return a instanceof b}catch(a){return!1}}function bV(a){switch(Object.prototype.toString.call(a)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object DOMError]":return!0;default:return bU(a,Error)}}function bW(a,b){return Object.prototype.toString.call(a)==="[object "+b+"]"}function bX(a){return bW(a,"DOMError")}var bY=/\(error: (.*)\)/;function bZ(a,b,c,d){var e={platform:"web:javascript",filename:a,function:"<anonymous>"===b?"?":b,in_app:!0};return G(c)||(e.lineno=c),G(d)||(e.colno=d),e}var b$,b_,b0,b1=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,b2=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,b3=/\((\S*)(?::(\d+))(?::(\d+))\)/,b4=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,b5=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,b6=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=b.sort((a,b)=>a[0]-b[0]).map(a=>a[1]);return function(a,b){void 0===b&&(b=0);for(var c=[],e=a.split("\n"),f=b;f<e.length;f++){var g=e[f];if(!(g.length>1024)){var h=bY.test(g)?g.replace(bY,"$1"):g;if(!h.match(/\S*Error: /)){for(var i of d){var j=i(h);if(j){c.push(j);break}}if(c.length>=50)break}}}if(!c.length)return[];var k=Array.from(c);return k.reverse(),k.slice(0,50).map(a=>{var b;return T({},a,{filename:a.filename||((b=k)[b.length-1]||{}).filename,function:a.function||"?"})})}}([30,a=>{var b=b1.exec(a);if(b){var[,c,d,e]=b;return bZ(c,"?",+d,+e)}var f=b2.exec(a);if(f){if(f[2]&&0===f[2].indexOf("eval")){var g=b3.exec(f[2]);g&&(f[2]=g[1],f[3]=g[2],f[4]=g[3])}var[h,i]=b7(f[1]||"?",f[2]);return bZ(i,h,f[3]?+f[3]:void 0,f[4]?+f[4]:void 0)}}],[50,a=>{var b=b4.exec(a);if(b){if(b[3]&&b[3].indexOf(" > eval")>-1){var c=b5.exec(b[3]);c&&(b[1]=b[1]||"eval",b[3]=c[1],b[4]=c[2],b[5]="")}var d=b[3],e=b[1]||"?";return[e,d]=b7(e,d),bZ(d,e,b[4]?+b[4]:void 0,b[5]?+b[5]:void 0)}}]),b7=(a,b)=>{var c=-1!==a.indexOf("safari-extension"),d=-1!==a.indexOf("safari-web-extension");return c||d?[-1!==a.indexOf("@")?a.split("@")[0]:"?",c?"safari-extension:"+b:"safari-web-extension:"+b]:[a,b]},b8=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;function b9(a,b){void 0===b&&(b=0);var c=a.stacktrace||a.stack||"",d=a&&ca.test(a.message)?1:0;try{var e,f,g=(e=b6(c,d),f=function(a){var b=globalThis._posthogChunkIds;if(!b)return{};var c=Object.keys(b);return b0&&c.length===b_||(b_=c.length,b0=c.reduce((c,d)=>{b$||(b$={});var e=b$[d];if(e)c[e[0]]=e[1];else for(var f=a(d),g=f.length-1;g>=0;g--){var h=f[g],i=null==h?void 0:h.filename,j=b[d];if(i&&j){c[i]=j,b$[d]=[i,j];break}}return c},{})),b0}(b6),e.forEach(a=>{a.filename&&(a.chunk_id=f[a.filename])}),e);return g.slice(0,g.length-b)}catch(a){}return[]}var ca=/Minified React error #\d+;/i;function cb(a,b){return{$exception_list:function a(b,c){var d,e,f,g,h,i,j,k,l=(d=b,e=c,i=b9(d),j=null==(g=null==e?void 0:e.handled)||g,k=null!=(h=null==e?void 0:e.synthetic)&&h,{type:null!=e&&e.overrideExceptionType?e.overrideExceptionType:d.name,value:(f=d.message).error&&"string"==typeof f.error.message?String(f.error.message):String(f),stacktrace:{frames:i,type:"raw"},mechanism:{handled:j,synthetic:k}});return b.cause&&bV(b.cause)&&b.cause!==b?[l,...a(b.cause,{handled:null==c?void 0:c.handled,synthetic:null==c?void 0:c.synthetic})]:[l]}(a,b),$exception_level:"error"}}function cc(a,b){var c,d,e,f=null==(c=null==b?void 0:b.handled)||c,g=null==(d=null==b?void 0:b.synthetic)||d,h={type:null!=b&&b.overrideExceptionType?b.overrideExceptionType:null!=(e=null==b?void 0:b.defaultExceptionType)?e:"Error",value:a||(null==b?void 0:b.defaultExceptionMessage),mechanism:{handled:f,synthetic:g}};if(null!=b&&b.syntheticException){var i=b9(b.syntheticException,1);i.length&&(h.stacktrace={frames:i,type:"raw"})}return{$exception_list:[h],$exception_level:"error"}}function cd(a,b,c){try{if(!(b in a))return()=>{};var d=a[b],e=c(d);return D(e)&&(e.prototype=e.prototype||{},Object.defineProperties(e,{__posthog_wrapped__:{enumerable:!1,value:!0}})),a[b]=e,()=>{a[b]=d}}catch(a){return()=>{}}}class ce{constructor(a){var b;this._instance=a,this.ft=(null==d||null==(b=d.location)?void 0:b.pathname)||""}get isEnabled(){return"history_change"===this._instance.config.capture_pageview}startIfEnabled(){this.isEnabled&&(P.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this._t&&this._t(),this._t=void 0,P.info("History API monitoring stopped")}monitorHistoryChanges(){var a,b;if(d&&d.history){var c=this;null!=(a=d.history.pushState)&&a.__posthog_wrapped__||cd(d.history,"pushState",a=>function(b,d,e){a.call(this,b,d,e),c.gt("pushState")}),null!=(b=d.history.replaceState)&&b.__posthog_wrapped__||cd(d.history,"replaceState",a=>function(b,d,e){a.call(this,b,d,e),c.gt("replaceState")}),this.bt()}}gt(a){try{var b,c=null==d||null==(b=d.location)?void 0:b.pathname;if(!c)return;c!==this.ft&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:a}),this.ft=c}catch(b){P.error("Error capturing "+a+" pageview",b)}}bt(){if(!this._t){var a=()=>{this.gt("popstate")};ae(d,"popstate",a),this._t=()=>{d&&d.removeEventListener("popstate",a)}}}}function cf(a){var b,c;return(null==(b=JSON.stringify(a,(c=[],function(a,b){if(E(b)){for(;c.length>0&&c[c.length-1]!==this;)c.pop();return c.includes(b)?"[Circular]":(c.push(b),b)}return b})))?void 0:b.length)||0}var cg=(a=>(a[a.DomContentLoaded=0]="DomContentLoaded",a[a.Load=1]="Load",a[a.FullSnapshot=2]="FullSnapshot",a[a.IncrementalSnapshot=3]="IncrementalSnapshot",a[a.Meta=4]="Meta",a[a.Custom=5]="Custom",a[a.Plugin=6]="Plugin",a))(cg||{}),ch=(a=>(a[a.Mutation=0]="Mutation",a[a.MouseMove=1]="MouseMove",a[a.MouseInteraction=2]="MouseInteraction",a[a.Scroll=3]="Scroll",a[a.ViewportResize=4]="ViewportResize",a[a.Input=5]="Input",a[a.TouchMove=6]="TouchMove",a[a.MediaInteraction=7]="MediaInteraction",a[a.StyleSheetRule=8]="StyleSheetRule",a[a.CanvasMutation=9]="CanvasMutation",a[a.Font=10]="Font",a[a.Log=11]="Log",a[a.Drag=12]="Drag",a[a.StyleDeclaration=13]="StyleDeclaration",a[a.Selection=14]="Selection",a[a.AdoptedStyleSheet=15]="AdoptedStyleSheet",a[a.CustomElement=16]="CustomElement",a))(ch||{}),ci="[SessionRecording]",cj="redacted",ck={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:a=>a,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io",".clarity.ms","analytics.google.com","bam.nr-data.net"]},cl=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],cm=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],cn=["/s/","/e/","/i/"];function co(a,b,c,d){if(K(a))return a;var e=(null==b?void 0:b["content-length"])||new Blob([a]).size;return H(e)&&(e=parseInt(e)),e>c?ci+" "+d+" body too large to record ("+e+" bytes)":a}function cp(a,b){if(K(a))return a;var c=a;return bd(c,!1)||(c=ci+" "+b+" body "+cj),X(cm,a=>{var d,e;null!=(d=c)&&d.length&&-1!==(null==(e=c)?void 0:e.indexOf(a))&&(c=ci+" "+b+" body "+cj+" as might contain: "+a)}),c}class cq{constructor(a,b){var c,d;void 0===b&&(b={}),this.yt={},this.wt=a=>{if(!this.yt[a]){this.yt[a]=!0;var b,c,d=this.St(a);null==(b=(c=this.rt).onBlockedNode)||b.call(c,a,d)}},this.$t=a=>{var b=this.St(a);if("svg"!==(null==b?void 0:b.nodeName)&&b instanceof Element){var c=b.closest("svg");if(c)return[this._rrweb.mirror.getId(c),c]}return[a,b]},this.St=a=>this._rrweb.mirror.getNode(a),this.xt=a=>{var b,c,d,e,f,g,h,i;return(null!=(b=null==(c=a.removes)?void 0:c.length)?b:0)+(null!=(d=null==(e=a.attributes)?void 0:e.length)?d:0)+(null!=(f=null==(g=a.texts)?void 0:g.length)?f:0)+(null!=(h=null==(i=a.adds)?void 0:i.length)?h:0)},this.throttleMutations=a=>{if(3!==a.type||0!==a.data.source)return a;var b=a.data,c=this.xt(b);b.attributes&&(b.attributes=b.attributes.filter(a=>{var[b]=this.$t(a.id);return!this.ct.consumeRateLimit(b)&&a}));var d=this.xt(b);return 0!==d||c===d?a:void 0},this._rrweb=a,this.rt=b,this.ct=new bQ({bucketSize:null!=(c=this.rt.bucketSize)?c:100,refillRate:null!=(d=this.rt.refillRate)?d:10,refillInterval:1e3,et:this.wt})}}var cr=Uint8Array,cs=Uint16Array,ct=Uint32Array,cu=new cr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),cv=new cr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),cw=new cr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),cx=function(a,b){for(var c=new cs(31),d=0;d<31;++d)c[d]=b+=1<<a[d-1];var e=new ct(c[30]);for(d=1;d<30;++d)for(var f=c[d];f<c[d+1];++f)e[f]=f-c[d]<<5|d;return[c,e]},cy=cx(cu,2),cz=cy[0],cA=cy[1];cz[28]=258,cA[258]=28;for(var cB=cx(cv,0)[1],cC=new cs(32768),cD=0;cD<32768;++cD){var cE=(43690&cD)>>>1|(21845&cD)<<1;cE=(61680&(cE=(52428&cE)>>>2|(13107&cE)<<2))>>>4|(3855&cE)<<4,cC[cD]=((65280&cE)>>>8|(255&cE)<<8)>>>1}var cF=function(a,b,c){for(var d=a.length,e=0,f=new cs(b);e<d;++e)++f[a[e]-1];var g,h=new cs(b);for(e=0;e<b;++e)h[e]=h[e-1]+f[e-1]<<1;if(c){g=new cs(1<<b);var i=15-b;for(e=0;e<d;++e)if(a[e])for(var j=e<<4|a[e],k=b-a[e],l=h[a[e]-1]++<<k,m=l|(1<<k)-1;l<=m;++l)g[cC[l]>>>i]=j}else for(g=new cs(d),e=0;e<d;++e)g[e]=cC[h[a[e]-1]++]>>>15-a[e];return g},cG=new cr(288);for(cD=0;cD<144;++cD)cG[cD]=8;for(cD=144;cD<256;++cD)cG[cD]=9;for(cD=256;cD<280;++cD)cG[cD]=7;for(cD=280;cD<288;++cD)cG[cD]=8;var cH=new cr(32);for(cD=0;cD<32;++cD)cH[cD]=5;var cI=cF(cG,9,0),cJ=cF(cH,5,0),cK=function(a){return(a/8|0)+(7&a&&1)},cL=function(a,b,c){(null==c||c>a.length)&&(c=a.length);var d=new(a instanceof cs?cs:a instanceof ct?ct:cr)(c-b);return d.set(a.subarray(b,c)),d},cM=function(a,b,c){c<<=7&b;var d=b/8|0;a[d]|=c,a[d+1]|=c>>>8},cN=function(a,b,c){c<<=7&b;var d=b/8|0;a[d]|=c,a[d+1]|=c>>>8,a[d+2]|=c>>>16},cO=function(a,b){for(var c=[],d=0;d<a.length;++d)a[d]&&c.push({s:d,f:a[d]});var e=c.length,f=c.slice();if(!e)return[new cr(0),0];if(1==e){var g=new cr(c[0].s+1);return g[c[0].s]=1,[g,1]}c.sort(function(a,b){return a.f-b.f}),c.push({s:-1,f:25001});var h=c[0],i=c[1],j=0,k=1,l=2;for(c[0]={s:-1,f:h.f+i.f,l:h,r:i};k!=e-1;)h=c[c[j].f<c[l].f?j++:l++],i=c[j!=k&&c[j].f<c[l].f?j++:l++],c[k++]={s:-1,f:h.f+i.f,l:h,r:i};var m=f[0].s;for(d=1;d<e;++d)f[d].s>m&&(m=f[d].s);var n=new cs(m+1),o=cP(c[k-1],n,0);if(o>b){d=0;var p=0,q=o-b,r=1<<q;for(f.sort(function(a,b){return n[b.s]-n[a.s]||a.f-b.f});d<e;++d){var s=f[d].s;if(!(n[s]>b))break;p+=r-(1<<o-n[s]),n[s]=b}for(p>>>=q;p>0;){var t=f[d].s;n[t]<b?p-=1<<b-n[t]++-1:++d}for(;d>=0&&p;--d){var u=f[d].s;n[u]==b&&(--n[u],++p)}o=b}return[new cr(n),o]},cP=function(a,b,c){return -1==a.s?Math.max(cP(a.l,b,c+1),cP(a.r,b,c+1)):b[a.s]=c},cQ=function(a){for(var b=a.length;b&&!a[--b];);for(var c=new cs(++b),d=0,e=a[0],f=1,g=function(a){c[d++]=a},h=1;h<=b;++h)if(a[h]==e&&h!=b)++f;else{if(!e&&f>2){for(;f>138;f-=138)g(32754);f>2&&(g(f>10?f-11<<5|28690:f-3<<5|12305),f=0)}else if(f>3){for(g(e),--f;f>6;f-=6)g(8304);f>2&&(g(f-3<<5|8208),f=0)}for(;f--;)g(e);f=1,e=a[h]}return[c.subarray(0,d),b]},cR=function(a,b){for(var c=0,d=0;d<b.length;++d)c+=a[d]*b[d];return c},cS=function(a,b,c){var d=c.length,e=cK(b+2);a[e]=255&d,a[e+1]=d>>>8,a[e+2]=255^a[e],a[e+3]=255^a[e+1];for(var f=0;f<d;++f)a[e+f+4]=c[f];return 8*(e+4+d)},cT=function(a,b,c,d,e,f,g,h,i,j,k){cM(b,k++,c),++e[256];for(var l=cO(e,15),m=l[0],n=l[1],o=cO(f,15),p=o[0],q=o[1],r=cQ(m),s=r[0],t=r[1],u=cQ(p),v=u[0],w=u[1],x=new cs(19),y=0;y<s.length;++y)x[31&s[y]]++;for(y=0;y<v.length;++y)x[31&v[y]]++;for(var z=cO(x,7),A=z[0],B=z[1],C=19;C>4&&!A[cw[C-1]];--C);var D,E,F,G,H=j+5<<3,I=cR(e,cG)+cR(f,cH)+g,J=cR(e,m)+cR(f,p)+g+14+3*C+cR(x,A)+(2*x[16]+3*x[17]+7*x[18]);if(H<=I&&H<=J)return cS(b,k,a.subarray(i,i+j));if(cM(b,k,1+(J<I)),k+=2,J<I){D=cF(m,n,0),E=m,F=cF(p,q,0),G=p;var K=cF(A,B,0);for(cM(b,k,t-257),cM(b,k+5,w-1),cM(b,k+10,C-4),k+=14,y=0;y<C;++y)cM(b,k+3*y,A[cw[y]]);k+=3*C;for(var L=[s,v],M=0;M<2;++M){var N=L[M];for(y=0;y<N.length;++y){var O=31&N[y];cM(b,k,K[O]),k+=A[O],O>15&&(cM(b,k,N[y]>>>5&127),k+=N[y]>>>12)}}}else D=cI,E=cG,F=cJ,G=cH;for(y=0;y<h;++y)if(d[y]>255){cN(b,k,D[(O=d[y]>>>18&31)+257]),k+=E[O+257],O>7&&(cM(b,k,d[y]>>>23&31),k+=cu[O]);var P=31&d[y];cN(b,k,F[P]),k+=G[P],P>3&&(cN(b,k,d[y]>>>5&8191),k+=cv[P])}else cN(b,k,D[d[y]]),k+=E[d[y]];return cN(b,k,D[256]),k+E[256]},cU=new ct([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),cV=function(){for(var a=new ct(256),b=0;b<256;++b){for(var c=b,d=9;--d;)c=(1&c&&0xedb88320)^c>>>1;a[b]=c}return a}(),cW=function(){var a=0xffffffff;return{p:function(b){for(var c=a,d=0;d<b.length;++d)c=cV[255&c^b[d]]^c>>>8;a=c},d:function(){return 0xffffffff^a}}},cX=function(a,b,c){for(;c;++b)a[b]=c,c>>>=8},cY=function(a,b){var c=b.filename;if(a[0]=31,a[1]=139,a[2]=8,a[8]=b.level<2?4:2*(9==b.level),a[9]=3,0!=b.mtime&&cX(a,4,Math.floor(new Date(b.mtime||Date.now())/1e3)),c){a[3]=8;for(var d=0;d<=c.length;++d)a[d+10]=c.charCodeAt(d)}};function cZ(a,b){void 0===b&&(b={});var c,d,e,f=cW(),g=a.length;f.p(a);var h=(d=b,e=10+((c=b).filename&&c.filename.length+1||0),function(a,b,c,d,e,f){var g=a.length,h=new cr(d+g+5*(1+Math.floor(g/7e3))+8),i=h.subarray(d,h.length-e),j=0;if(!b||g<8)for(var k=0;k<=g;k+=65535){var l=k+65535;l<g?j=cS(i,j,a.subarray(k,l)):(i[k]=f,j=cS(i,j,a.subarray(k,g)))}else{for(var m=cU[b-1],n=m>>>13,o=8191&m,p=(1<<c)-1,q=new cs(32768),r=new cs(p+1),s=Math.ceil(c/3),t=2*s,u=function(b){return(a[b]^a[b+1]<<s^a[b+2]<<t)&p},v=new ct(25e3),w=new cs(288),x=new cs(32),y=0,z=0,A=(k=0,0),B=0,C=0;k<g;++k){var D=u(k),E=32767&k,F=r[D];if(q[E]=F,r[D]=E,B<=k){var G=g-k;if((y>7e3||A>24576)&&G>423){j=cT(a,i,0,v,w,x,z,A,C,k-C,j),A=y=z=0,C=k;for(var H=0;H<286;++H)w[H]=0;for(H=0;H<30;++H)x[H]=0}var I=2,J=0,K=o,L=E-F&32767;if(G>2&&D==u(k-L))for(var M=Math.min(n,G)-1,N=Math.min(32767,k),O=Math.min(258,G);L<=N&&--K&&E!=F;){if(a[k+I]==a[k+I-L]){for(var P=0;P<O&&a[k+P]==a[k+P-L];++P);if(P>I){if(I=P,J=L,P>M)break;var Q=Math.min(L,P-2),R=0;for(H=0;H<Q;++H){var S=k-L+H+32768&32767,T=S-q[S]+32768&32767;T>R&&(R=T,F=S)}}}L+=(E=F)-(F=q[E])+32768&32767}if(J){v[A++]=0x10000000|cA[I]<<18|cB[J];var U=31&cA[I],V=31&cB[J];z+=cu[U]+cv[V],++w[257+U],++x[V],B=k+I,++y}else v[A++]=a[k],++w[a[k]]}}j=cT(a,i,f,v,w,x,z,A,C,k-C,j)}return cL(h,0,d+cK(j)+e)}(a,null==d.level?6:d.level,null==d.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+d.mem,e,8,!0)),i=h.length;return cY(h,b),cX(h,i-8,f.d()),cX(h,i-4,g),h}function c$(a,b){var c=a.length;if("undefined"!=typeof TextEncoder)return(new TextEncoder).encode(a);for(var d=new cr(a.length+(a.length>>>1)),e=0,f=function(a){d[e++]=a},g=0;g<c;++g){if(e+5>d.length){var h=new cr(e+8+(c-g<<1));h.set(d),d=h}var i=a.charCodeAt(g);i<128||b?f(i):(i<2048?f(192|i>>>6):(i>55295&&i<57344?(f(240|(i=65536+(1047552&i)|1023&a.charCodeAt(++g))>>>18),f(128|i>>>12&63)):f(224|i>>>12),f(128|i>>>6&63)),f(128|63&i))}return cL(d,0,e)}var c_="disabled",c0="sampled",c1="active",c2="buffering",c3="paused",c4="trigger",c5=c4+"_activated",c6=c4+"_pending",c7=c4+"_"+c_;function c8(a,b){return b.some(b=>"regex"===b.matching&&new RegExp(b.url).test(a))}class c9{constructor(a){this.kt=a}triggerStatus(a){var b=this.kt.map(b=>b.triggerStatus(a));return b.includes(c5)?c5:b.includes(c6)?c6:c7}stop(){this.kt.forEach(a=>a.stop())}}class da{constructor(a){this.kt=a}triggerStatus(a){var b=new Set;for(var c of this.kt)b.add(c.triggerStatus(a));switch(b.delete(c7),b.size){case 0:return c7;case 1:return Array.from(b)[0];default:return c6}}stop(){this.kt.forEach(a=>a.stop())}}class db{triggerStatus(){return c6}stop(){}}class dc{constructor(a){this.Et=[],this.It=[],this.urlBlocked=!1,this._instance=a}onRemoteConfig(a){var b,c;this.Et=(null==(b=a.sessionRecording)?void 0:b.urlTriggers)||[],this.It=(null==(c=a.sessionRecording)?void 0:c.urlBlocklist)||[]}Pt(a){var b;return 0===this.Et.length?c7:(null==(b=this._instance)?void 0:b.get_property(aA))===a?c5:c6}triggerStatus(a){var b=this.Pt(a),c=b===c5?c5:b===c6?c6:c7;return this._instance.register_for_session({$sdk_debug_replay_url_trigger_status:c}),c}checkUrlTriggerConditions(a,b,c){if(void 0!==d&&d.location.href){var e=d.location.href,f=this.urlBlocked,g=c8(e,this.It);f&&g||(g&&!f?a():!g&&f&&b(),c8(e,this.Et)&&c("url"))}}stop(){}}class dd{constructor(a){this.linkedFlag=null,this.linkedFlagSeen=!1,this.Rt=()=>{},this._instance=a}triggerStatus(){var a=c6;return K(this.linkedFlag)&&(a=c7),this.linkedFlagSeen&&(a=c5),this._instance.register_for_session({$sdk_debug_replay_linked_flag_trigger_status:a}),a}onRemoteConfig(a,b){var c;if(this.linkedFlag=(null==(c=a.sessionRecording)?void 0:c.linkedFlag)||null,!K(this.linkedFlag)&&!this.linkedFlagSeen){var d=H(this.linkedFlag)?this.linkedFlag:this.linkedFlag.flag,e=H(this.linkedFlag)?null:this.linkedFlag.variant;this.Rt=this._instance.onFeatureFlags((a,c)=>{var f=!1;if(E(c)&&d in c){var g=c[d];f=M(g)?!0===g:e?g===e:!!g}this.linkedFlagSeen=f,f&&b(d,e)})}}stop(){this.Rt()}}class de{constructor(a){this.Tt=[],this._instance=a}onRemoteConfig(a){var b;this.Tt=(null==(b=a.sessionRecording)?void 0:b.eventTriggers)||[]}Ct(a){var b;return 0===this.Tt.length?c7:(null==(b=this._instance)?void 0:b.get_property(aB))===a?c5:c6}triggerStatus(a){var b=this.Ct(a),c=b===c5?c5:b===c6?c6:c7;return this._instance.register_for_session({$sdk_debug_replay_event_trigger_status:c}),c}stop(){}}function df(a){return a.isRecordingEnabled?c2:c_}function dg(a){if(!a.receivedFlags)return c2;if(!a.isRecordingEnabled)return c_;if(a.urlTriggerMatching.urlBlocked)return c3;var b=!0===a.isSampled,c=new c9([a.eventTriggerMatching,a.urlTriggerMatching,a.linkedFlagMatching]).triggerStatus(a.sessionId);return b?c0:c===c5?c1:c===c6?c2:!1===a.isSampled?c_:c1}function dh(a){if(!a.receivedFlags)return c2;if(!a.isRecordingEnabled)return c_;if(a.urlTriggerMatching.urlBlocked)return c3;var b=new da([a.eventTriggerMatching,a.urlTriggerMatching,a.linkedFlagMatching]).triggerStatus(a.sessionId),c=b!==c7,d=M(a.isSampled);return c&&b===c6?c2:c&&b===c7||d&&!a.isSampled?c_:!0===a.isSampled?c0:c1}var di="[SessionRecording]",dj=Q(di);function dk(){var a;return null==p||null==(a=p.__PosthogExtensions__)||null==(a=a.rrweb)?void 0:a.record}var dl=[ch.MouseMove,ch.MouseInteraction,ch.Scroll,ch.ViewportResize,ch.Input,ch.TouchMove,ch.MediaInteraction,ch.Drag],dm=a=>({rrwebMethod:a,enqueuedAt:Date.now(),attempt:1});function dn(a){return function(a,b){for(var c="",d=0;d<a.length;){var e=a[d++];e<128||b?c+=String.fromCharCode(e):e<224?c+=String.fromCharCode((31&e)<<6|63&a[d++]):e<240?c+=String.fromCharCode((15&e)<<12|(63&a[d++])<<6|63&a[d++]):c+=String.fromCharCode(55296|(e=((15&e)<<18|(63&a[d++])<<12|(63&a[d++])<<6|63&a[d++])-65536)>>10,56320|1023&e)}return c}(cZ(c$(JSON.stringify(a))),!0)}function dp(a){return a.type===cg.Custom&&"sessionIdle"===a.data.tag}class dq{get sessionId(){return this.Mt}get Ft(){return this._instance.config.session_recording.session_idle_threshold_ms||3e5}get started(){return this.Ot}get At(){if(!this._instance.sessionManager)throw Error(di+" must be started with a valid sessionManager.");return this._instance.sessionManager}get Dt(){var a,b;return this.jt.triggerStatus(this.sessionId)===c6?6e4:null!=(a=null==(b=this._instance.config.session_recording)?void 0:b.full_snapshot_interval_millis)?a:3e5}get Lt(){var a=this._instance.get_property(az);return M(a)?a:null}get Nt(){var a,b,c=null==(a=this.M)?void 0:a.data[(null==(b=this.M)?void 0:b.data.length)-1],{sessionStartTimestamp:d}=this.At.checkAndGetSessionAndWindowId(!0);return c?c.timestamp-d:null}get zt(){var a=!!this._instance.get_property(aq),b=!this._instance.config.disable_session_recording;return d&&a&&b}get Ut(){var a=!!this._instance.get_property(ar),b=this._instance.config.enable_recording_console_log;return null!=b?b:a}get qt(){var a,b,c,d,e,f,g=this._instance.config.session_recording.captureCanvas,h=this._instance.get_property(au),i=null!=(a=null!=(b=null==g?void 0:g.recordCanvas)?b:null==h?void 0:h.enabled)&&a,j=null!=(c=null!=(d=null==g?void 0:g.canvasFps)?d:null==h?void 0:h.fps)?c:4,k=null!=(e=null!=(f=null==g?void 0:g.canvasQuality)?f:null==h?void 0:h.quality)?e:.4;if("string"==typeof k){var l=parseFloat(k);k=isNaN(l)?.4:l}return{enabled:i,fps:bP(j,0,12,"canvas recording fps",4),quality:bP(k,0,1,"canvas recording quality",.4)}}get Bt(){var a,b,c=this._instance.get_property(as),d={recordHeaders:null==(a=this._instance.config.session_recording)?void 0:a.recordHeaders,recordBody:null==(b=this._instance.config.session_recording)?void 0:b.recordBody},e=(null==d?void 0:d.recordHeaders)||(null==c?void 0:c.recordHeaders),f=(null==d?void 0:d.recordBody)||(null==c?void 0:c.recordBody),g=E(this._instance.config.capture_performance)?this._instance.config.capture_performance.network_timing:this._instance.config.capture_performance,h=!!(M(g)?g:null==c?void 0:c.capturePerformance);return e||f||h?{recordHeaders:e,recordBody:f,recordPerformance:h}:void 0}get Ht(){var a,b,c,d,e,f,g=this._instance.get_property(at),h={maskAllInputs:null==(a=this._instance.config.session_recording)?void 0:a.maskAllInputs,maskTextSelector:null==(b=this._instance.config.session_recording)?void 0:b.maskTextSelector,blockSelector:null==(c=this._instance.config.session_recording)?void 0:c.blockSelector},i=null!=(d=null==h?void 0:h.maskAllInputs)?d:null==g?void 0:g.maskAllInputs,j=null!=(e=null==h?void 0:h.maskTextSelector)?e:null==g?void 0:g.maskTextSelector,k=null!=(f=null==h?void 0:h.blockSelector)?f:null==g?void 0:g.blockSelector;return G(i)&&G(j)&&G(k)?void 0:{maskAllInputs:null==i||i,maskTextSelector:j,blockSelector:k}}get Wt(){var a=this._instance.get_property(av);return L(a)?a:null}get Gt(){var a=this._instance.get_property(aw);return L(a)?a:null}get status(){return this.Jt?this.Vt({receivedFlags:this.Jt,isRecordingEnabled:this.zt,isSampled:this.Lt,urlTriggerMatching:this.Kt,eventTriggerMatching:this.Yt,linkedFlagMatching:this.Xt,sessionId:this.sessionId}):c2}constructor(a){if(this.Vt=df,this.Jt=!1,this.Qt=[],this.Zt="unknown",this.ti=Date.now(),this.jt=new db,this.ii=void 0,this.ei=void 0,this.ri=void 0,this.si=void 0,this.ni=void 0,this._forceAllowLocalhostNetworkCapture=!1,this.oi=()=>{this.ai()},this.li=()=>{this.ui("browser offline",{})},this.hi=()=>{this.ui("browser online",{})},this.di=()=>{if(null!=j&&j.visibilityState){var a="window "+j.visibilityState;this.ui(a,{})}},this._instance=a,this.Ot=!1,this.vi="/s/",this.ci=void 0,this.Jt=!1,!this._instance.sessionManager)throw dj.error("started without valid sessionManager"),Error(di+" started without valid sessionManager. This is a bug.");if("always"===this._instance.config.cookieless_mode)throw Error(di+' cannot be used with cookieless_mode="always"');this.Xt=new dd(this._instance),this.Kt=new dc(this._instance),this.Yt=new de(this._instance);var{sessionId:b,windowId:c}=this.At.checkAndGetSessionAndWindowId();this.Mt=b,this.fi=c,this.M=this.pi(),this.Ft>=this.At.sessionTimeoutMs&&dj.warn("session_idle_threshold_ms ("+this.Ft+") is greater than the session timeout ("+this.At.sessionTimeoutMs+"). Session will never be detected as idle")}startIfEnabledOrStop(a){this.zt?(this.gi(a),ae(d,"beforeunload",this.oi),ae(d,"offline",this.li),ae(d,"online",this.hi),ae(d,"visibilitychange",this.di),this.mi(),this.bi(),K(this.ii)&&(this.ii=this._instance.on("eventCaptured",a=>{try{if("$pageview"===a.event){var b=null!=a&&a.properties.$current_url?this.yi(null==a?void 0:a.properties.$current_url):"";if(!b)return;this.ui("$pageview",{href:b})}}catch(a){dj.error("Could not add $pageview to rrweb session",a)}})),this.ei||(this.ei=this.At.onSessionId((a,b,c)=>{var d,e;c&&(this.ui("$session_id_change",{sessionId:a,windowId:b,changeReason:c}),null==(d=this._instance)||null==(d=d.persistence)||d.unregister(aB),null==(e=this._instance)||null==(e=e.persistence)||e.unregister(aA))}))):this.stopRecording()}stopRecording(){var a,b,c,e;this.Ot&&this.ci&&(this.ci(),this.ci=void 0,this.Ot=!1,null==d||d.removeEventListener("beforeunload",this.oi),null==d||d.removeEventListener("offline",this.li),null==d||d.removeEventListener("online",this.hi),null==d||d.removeEventListener("visibilitychange",this.di),this.pi(),clearInterval(this.wi),null==(a=this.ii)||a.call(this),this.ii=void 0,null==(b=this.ni)||b.call(this),this.ni=void 0,null==(c=this.ei)||c.call(this),this.ei=void 0,null==(e=this.si)||e.call(this),this.si=void 0,this.Yt.stop(),this.Kt.stop(),this.Xt.stop(),dj.info("stopped"))}Si(){var a;null==(a=this._instance.persistence)||a.unregister(az)}$i(a){var b,c=this.Mt!==a,d=this.Wt;if(L(d)){var e=this.Lt,f=c||!M(e),g=f?function(a){for(var b=0,c=0;c<a.length;c++)b=(b<<5)-b+a.charCodeAt(c)|0;return Math.abs(b)}(a)%100<bP(100*d,0,100):e;f&&(g?this.xi(c0):dj.warn("Sample rate ("+d+") has determined that this sessionId ("+a+") will not be sent to the server."),this.ui("samplingDecisionMade",{sampleRate:d,isSampled:g})),null==(b=this._instance.persistence)||b.register({[az]:g})}else this.Si()}onRemoteConfig(a){var b,c,d,e;this.ui("$remote_config_received",a),this.ki(a),null!=(b=a.sessionRecording)&&b.endpoint&&(this.vi=null==(e=a.sessionRecording)?void 0:e.endpoint),this.mi(),"any"===(null==(c=a.sessionRecording)?void 0:c.triggerMatchType)?(this.Vt=dg,this.jt=new c9([this.Yt,this.Kt])):(this.Vt=dh,this.jt=new da([this.Yt,this.Kt])),this._instance.register_for_session({$sdk_debug_replay_remote_trigger_matching_config:null==(d=a.sessionRecording)?void 0:d.triggerMatchType}),this.Kt.onRemoteConfig(a),this.Yt.onRemoteConfig(a),this.Xt.onRemoteConfig(a,(a,b)=>{this.xi("linked_flag_matched",{flag:a,variant:b})}),this.Jt=!0,this.startIfEnabledOrStop()}mi(){L(this.Wt)&&K(this.si)&&(this.si=this.At.onSessionId(a=>{this.$i(a)}))}ki(a){if(this._instance.persistence){var b,c=this._instance.persistence,d=()=>{var b,d,e,f,g,h,i,j,k,l=null==(b=a.sessionRecording)?void 0:b.sampleRate,m=K(l)?null:parseFloat(l);K(m)&&this.Si();var n=null==(d=a.sessionRecording)?void 0:d.minimumDurationMilliseconds;c.register({[aq]:!!a.sessionRecording,[ar]:null==(e=a.sessionRecording)?void 0:e.consoleLogRecordingEnabled,[as]:T({capturePerformance:a.capturePerformance},null==(f=a.sessionRecording)?void 0:f.networkPayloadCapture),[at]:null==(g=a.sessionRecording)?void 0:g.masking,[au]:{enabled:null==(h=a.sessionRecording)?void 0:h.recordCanvas,fps:null==(i=a.sessionRecording)?void 0:i.canvasFps,quality:null==(j=a.sessionRecording)?void 0:j.canvasQuality},[av]:m,[aw]:G(n)?null:n,[ax]:null==(k=a.sessionRecording)?void 0:k.scriptConfig})};d(),null==(b=this.ri)||b.call(this),this.ri=this.At.onSessionId(d)}}log(a,b){var c;void 0===b&&(b="log"),null==(c=this._instance.sessionRecording)||c.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:b,trace:[],payload:[JSON.stringify(a)]}},timestamp:Date.now()})}gi(a){if(!G(Object.assign)&&!G(Array.from)&&!(this.Ot||this._instance.config.disable_session_recording||this._instance.consent.isOptedOut())){var b;(this.Ot=!0,this.At.checkAndGetSessionAndWindowId(),dk())?this.Ei():null==(b=p.__PosthogExtensions__)||null==b.loadExternalDependency||b.loadExternalDependency(this._instance,this.Ii,a=>{if(a)return dj.error("could not load recorder",a);this.Ei()}),dj.info("starting"),this.status===c1&&this.xi(a||"recording_initialized")}}get Ii(){var a;return(null==(a=this._instance)||null==(a=a.persistence)||null==(a=a.get_property(ax))?void 0:a.script)||"recorder"}Pi(a){var b;return 3===a.type&&-1!==dl.indexOf(null==(b=a.data)?void 0:b.source)}Ri(a){var b=this.Pi(a);b||this.Zt||a.timestamp-this.ti>this.Ft&&(this.Zt=!0,clearInterval(this.wi),this.ui("sessionIdle",{eventTimestamp:a.timestamp,lastActivityTimestamp:this.ti,threshold:this.Ft,bufferLength:this.M.data.length,bufferSize:this.M.size}),this.ai());var c=!1;if(b&&(this.ti=a.timestamp,this.Zt)){var d="unknown"===this.Zt;this.Zt=!1,d||(this.ui("sessionNoLongerIdle",{reason:"user activity",type:a.type}),c=!0)}if(!this.Zt){var{windowId:e,sessionId:f}=this.At.checkAndGetSessionAndWindowId(!b,a.timestamp),g=this.Mt!==f,h=this.fi!==e;this.fi=e,this.Mt=f,g||h?(this.stopRecording(),this.startIfEnabledOrStop("session_id_changed")):c&&this.Ti()}}Ci(a){try{return a.rrwebMethod(),!0}catch(b){return this.Qt.length<10?this.Qt.push({enqueuedAt:a.enqueuedAt||Date.now(),attempt:a.attempt++,rrwebMethod:a.rrwebMethod}):dj.warn("could not emit queued rrweb event.",b,a),!1}}ui(a,b){return this.Ci(dm(()=>dk().addCustomEvent(a,b)))}Mi(){return this.Ci(dm(()=>dk().takeFullSnapshot()))}Ei(){var a,b,c,d,e={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1};for(var[f,g]of Object.entries(this._instance.config.session_recording||{}))f in e&&("maskInputOptions"===f?e.maskInputOptions=T({password:!0},g):e[f]=g);this.qt&&this.qt.enabled&&(e.recordCanvas=!0,e.sampling={canvas:this.qt.fps},e.dataURLOptions={type:"image/webp",quality:this.qt.quality}),this.Ht&&(e.maskAllInputs=null==(b=this.Ht.maskAllInputs)||b,e.maskTextSelector=null!=(c=this.Ht.maskTextSelector)?c:void 0,e.blockSelector=null!=(d=this.Ht.blockSelector)?d:void 0);var h=dk();if(h){this.Fi=null!=(a=this.Fi)?a:new cq(h,{refillRate:this._instance.config.session_recording.__mutationThrottlerRefillRate,bucketSize:this._instance.config.session_recording.__mutationThrottlerBucketSize,onBlockedNode:(a,b)=>{var c="Too many mutations on node '"+a+"'. Rate limiting. This could be due to SVG animations or something similar";dj.info(c,{node:b}),this.log(di+" "+c,"warn")}});var i=this.Oi();this.ci=h(T({emit:a=>{this.onRRwebEmit(a)},plugins:i},e)),this.ti=Date.now(),this.Zt=M(this.Zt)?this.Zt:"unknown",this.ui("$session_options",{sessionRecordingOptions:e,activePlugins:i.map(a=>null==a?void 0:a.name)}),this.ui("$posthog_config",{config:this._instance.config})}else dj.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}Ti(){if(this.wi&&clearInterval(this.wi),!0!==this.Zt){var a=this.Dt;a&&(this.wi=setInterval(()=>{this.Mi()},a))}}Oi(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n=[],o=null==(l=p.__PosthogExtensions__)||null==(l=l.rrwebPlugins)?void 0:l.getRecordConsolePlugin;o&&this.Ut&&n.push(o());var q=null==(m=p.__PosthogExtensions__)||null==(m=m.rrwebPlugins)?void 0:m.getRecordNetworkPlugin;return this.Bt&&D(q)&&(!bh.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?n.push(q((a=this._instance.config,b=this.Bt,e={payloadSizeLimitBytes:ck.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...ck.performanceEntryTypeToObserve],payloadHostDenyList:[...b.payloadHostDenyList||[],...ck.payloadHostDenyList]},f=!1!==a.session_recording.recordHeaders&&b.recordHeaders,g=!1!==a.session_recording.recordBody&&b.recordBody,h=!1!==a.capture_performance&&b.recordPerformance,d=Math.min(1e6,null!=(c=e.payloadSizeLimitBytes)?c:1e6),i=a=>(null!=a&&a.requestBody&&(a.requestBody=co(a.requestBody,a.requestHeaders,d,"Request")),null!=a&&a.responseBody&&(a.responseBody=co(a.responseBody,a.responseHeaders,d,"Response")),a),j=b=>{var c;return i(((a,b)=>{var c,d=bi(a.name),e=0===b.indexOf("http")?null==(c=bi(b))?void 0:c.pathname:b;"/"===e&&(e="");var f=null==d?void 0:d.pathname.replace(e||"","");if(!(d&&f&&cn.some(a=>0===f.indexOf(a))))return a})((K(c=b.requestHeaders)||X(Object.keys(null!=c?c:{}),a=>{cl.includes(a.toLowerCase())&&(c[a]=cj)}),b),a.api_host))},(k=D(a.session_recording.maskNetworkRequestFn))&&D(a.session_recording.maskCapturedNetworkRequestFn)&&P.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),k&&(a.session_recording.maskCapturedNetworkRequestFn=b=>{var c=a.session_recording.maskNetworkRequestFn({url:b.name});return T({},b,{name:null==c?void 0:c.url})}),e.maskRequestFn=D(a.session_recording.maskCapturedNetworkRequestFn)?b=>{var c,d=j(b);return d&&null!=(c=null==a.session_recording.maskCapturedNetworkRequestFn?void 0:a.session_recording.maskCapturedNetworkRequestFn(d))?c:void 0}:a=>(function(a){if(!G(a))return a.requestBody=cp(a.requestBody,"Request"),a.responseBody=cp(a.responseBody,"Response"),a})(j(a)),T({},ck,e,{recordHeaders:f,recordBody:g,recordPerformance:h,recordInitialRequests:h})))):dj.info("NetworkCapture not started because we are on localhost.")),n}onRRwebEmit(a){var b;if(this.Ai(),a&&E(a)){if(a.type===cg.Meta){var c=this.yi(a.data.href);if(this.Di=c,!c)return;a.data.href=c}else this.ji();if(this.Kt.checkUrlTriggerConditions(()=>this.Li(),()=>this.Ni(),a=>this.zi(a)),!this.Kt.urlBlocked||a.type===cg.Custom&&"recording paused"===a.data.tag){a.type===cg.FullSnapshot&&this.Ti(),a.type===cg.FullSnapshot&&this.Jt&&this.jt.triggerStatus(this.sessionId)===c6&&this.pi();var d=this.Fi?this.Fi.throttleMutations(a):a;if(d){var e=function(a){if(a&&E(a)&&6===a.type&&E(a.data)&&"rrweb/console@1"===a.data.plugin){a.data.payload.payload.length>10&&(a.data.payload.payload=a.data.payload.payload.slice(0,10),a.data.payload.payload.push("...[truncated]"));for(var b=[],c=0;c<a.data.payload.payload.length;c++)a.data.payload.payload[c]&&a.data.payload.payload[c].length>2e3?b.push(a.data.payload.payload[c].slice(0,2e3)+"...[truncated]"):b.push(a.data.payload.payload[c]);return a.data.payload.payload=b,a}return a}(d);if(this.Ri(e),!0!==this.Zt||dp(e)){if(dp(e)){var f=e.data.payload;f&&(e.timestamp=f.lastActivityTimestamp+f.threshold)}var g=null==(b=this._instance.config.session_recording.compress_events)||b?function(a){if(1024>cf(a))return a;try{if(a.type===cg.FullSnapshot)return T({},a,{data:dn(a.data),cv:"2024-10"});if(a.type===cg.IncrementalSnapshot&&a.data.source===ch.Mutation)return T({},a,{cv:"2024-10",data:T({},a.data,{texts:dn(a.data.texts),attributes:dn(a.data.attributes),removes:dn(a.data.removes),adds:dn(a.data.adds)})});if(a.type===cg.IncrementalSnapshot&&a.data.source===ch.StyleSheetRule)return T({},a,{cv:"2024-10",data:T({},a.data,{adds:a.data.adds?dn(a.data.adds):void 0,removes:a.data.removes?dn(a.data.removes):void 0})})}catch(a){dj.error("could not compress event - will use uncompressed event",a)}return a}(e):e,h={$snapshot_bytes:cf(g),$snapshot_data:g,$session_id:this.Mt,$window_id:this.fi};this.status!==c_?this.Ui(h):this.pi()}}}}}ji(){if(!this._instance.config.capture_pageview&&d){var a=this.yi(d.location.href);this.Di!==a&&(this.ui("$url_changed",{href:a}),this.Di=a)}}Ai(){if(this.Qt.length){var a=[...this.Qt];this.Qt=[],a.forEach(a=>{Date.now()-a.enqueuedAt<=2e3&&this.Ci(a)})}}yi(a){var b=this._instance.config.session_recording;if(b.maskNetworkRequestFn){var c,d={url:a};return null==(c=d=b.maskNetworkRequestFn(d))?void 0:c.url}return a}pi(){return this.M={size:0,data:[],sessionId:this.Mt,windowId:this.fi},this.M}ai(){this.qi&&(clearTimeout(this.qi),this.qi=void 0);var a=this.Gt,b=this.Nt,c=L(b)&&b>=0,d=L(a)&&c&&b<a;return this.status===c2||this.status===c3||this.status===c_||d?(this.qi=setTimeout(()=>{this.ai()},2e3),this.M):(this.M.data.length>0&&(function a(b,c){if(void 0===c&&(c=6606028.8),b.size>=c&&b.data.length>1){var d=Math.floor(b.data.length/2),e=b.data.slice(0,d),f=b.data.slice(d);return[a({size:cf(e),data:e,sessionId:b.sessionId,windowId:b.windowId}),a({size:cf(f),data:f,sessionId:b.sessionId,windowId:b.windowId})].flatMap(a=>a)}return[b]})(this.M).forEach(a=>{this.Bi({$snapshot_bytes:a.size,$snapshot_data:a.data,$session_id:a.sessionId,$window_id:a.windowId,$lib:"web",$lib_version:q.LIB_VERSION})}),this.pi())}Ui(a){var b,c=2+((null==(b=this.M)?void 0:b.data.length)||0);!this.Zt&&(this.M.size+a.$snapshot_bytes+c>943718.4||this.M.sessionId!==this.Mt)&&(this.M=this.ai()),this.M.size+=a.$snapshot_bytes,this.M.data.push(a.$snapshot_data),this.qi||this.Zt||(this.qi=setTimeout(()=>{this.ai()},2e3))}Bi(a){this._instance.capture("$snapshot",a,{_url:this._instance.requestRouter.endpointFor("api",this.vi),_noTruncate:!0,_batchKey:"recordings",skip_client_rate_limiting:!0})}zi(a){var b;this.jt.triggerStatus(this.sessionId)===c6&&(null==(b=this._instance)||null==(b=b.persistence)||b.register({["url"===a?aA:aB]:this.Mt}),this.ai(),this.xi(a+"_trigger_matched"))}Li(){this.Kt.urlBlocked||(this.Kt.urlBlocked=!0,clearInterval(this.wi),dj.info("recording paused due to URL blocker"),this.ui("recording paused",{reason:"url blocker"}))}Ni(){this.Kt.urlBlocked&&(this.Kt.urlBlocked=!1,this.Mi(),this.Ti(),this.ui("recording resumed",{reason:"left blocked url"}),dj.info("recording resumed"))}bi(){0!==this.Yt.Tt.length&&K(this.ni)&&(this.ni=this._instance.on("eventCaptured",a=>{try{this.Yt.Tt.includes(a.event)&&this.zi("event")}catch(a){dj.error("Could not activate event trigger",a)}}))}overrideLinkedFlag(){this.Xt.linkedFlagSeen=!0,this.Mi(),this.xi("linked_flag_overridden")}overrideSampling(){var a;null==(a=this._instance.persistence)||a.register({[az]:!0}),this.Mi(),this.xi("sampling_overridden")}overrideTrigger(a){this.zi(a)}xi(a,b){this._instance.register_for_session({$session_recording_start_reason:a}),dj.info(a.replace("_"," "),b),v(["recording_initialized","session_id_changed"],a)||this.ui(a,b)}get sdkDebugProperties(){var{sessionStartTimestamp:a}=this.At.checkAndGetSessionAndWindowId(!0);return{$recording_status:this.status,$sdk_debug_replay_internal_buffer_length:this.M.data.length,$sdk_debug_replay_internal_buffer_size:this.M.size,$sdk_debug_current_session_duration:this.Nt,$sdk_debug_session_start:a}}}var dr=Q("[SegmentIntegration]"),ds="posthog-js";function dt(a,b){var{organization:c,projectId:d,prefix:e,severityAllowList:f=["error"]}=void 0===b?{}:b;return b=>{if(!("*"===f||f.includes(b.level))||!a.__loaded)return b;b.tags||(b.tags={});var g,h,i,j,k,l=a.requestRouter.endpointFor("ui","/project/"+a.config.token+"/person/"+a.get_distinct_id());b.tags["PostHog Person URL"]=l,a.sessionRecordingStarted()&&(b.tags["PostHog Recording URL"]=a.get_session_replay_url({withTimestamp:!0}));var m=(null==(g=b.exception)?void 0:g.values)||[],n=m.map(a=>T({},a,{stacktrace:a.stacktrace?T({},a.stacktrace,{type:"raw",frames:(a.stacktrace.frames||[]).map(a=>T({},a,{platform:"web:javascript"}))}):void 0})),o={$exception_message:(null==(h=m[0])?void 0:h.value)||b.message,$exception_type:null==(i=m[0])?void 0:i.type,$exception_personURL:l,$exception_level:b.level,$exception_list:n,$sentry_event_id:b.event_id,$sentry_exception:b.exception,$sentry_exception_message:(null==(j=m[0])?void 0:j.value)||b.message,$sentry_exception_type:null==(k=m[0])?void 0:k.type,$sentry_tags:b.tags};return c&&d&&(o.$sentry_url=(e||"https://sentry.io/organizations/")+c+"/issues/?project="+d+"&query="+b.event_id),a.exceptions.sendExceptionEvent(o),b}}class du{constructor(a,b,c,d,e){this.name=ds,this.setupOnce=function(f){f(dt(a,{organization:b,projectId:c,prefix:d,severityAllowList:e}))}}}var dv=null!=d&&d.location?bm(d.location.hash,"__posthog")||bm(location.hash,"state"):null,dw="_postHogToolbarParams",dx=Q("[Toolbar]"),dy=function(a){return a[a.UNINITIALIZED=0]="UNINITIALIZED",a[a.LOADING=1]="LOADING",a[a.LOADED=2]="LOADED",a}(dy||{});class dz{constructor(a){this.instance=a}Hi(a){p.ph_toolbar_state=a}Wi(){var a;return null!=(a=p.ph_toolbar_state)?a:dy.UNINITIALIZED}maybeLoadToolbar(a,b,c){if(void 0===a&&(a=void 0),void 0===b&&(b=void 0),void 0===c&&(c=void 0),!d||!j)return!1;a=null!=a?a:d.location,c=null!=c?c:d.history;try{if(!b){try{d.localStorage.setItem("test","test"),d.localStorage.removeItem("test")}catch(a){return!1}b=null==d?void 0:d.localStorage}var e,f=dv||bm(a.hash,"__posthog")||bm(a.hash,"state"),g=f?_(()=>JSON.parse(atob(decodeURIComponent(f))))||_(()=>JSON.parse(decodeURIComponent(f))):null;return g&&"ph_authorize"===g.action?((e=g).source="url",e&&Object.keys(e).length>0&&(g.desiredHash?a.hash=g.desiredHash:c?c.replaceState(c.state,"",a.pathname+a.search):a.hash="")):((e=JSON.parse(b.getItem(dw)||"{}")).source="localstorage",delete e.userIntent),!(!e.token||this.instance.config.token!==e.token)&&(this.loadToolbar(e),!0)}catch(a){return!1}}Gi(a){var b=p.ph_load_toolbar||p.ph_load_editor;!K(b)&&D(b)?b(a,this.instance):dx.warn("No toolbar load function found")}loadToolbar(a){var b,c=!(null==j||!j.getElementById(aR));if(!d||c)return!1;var e="custom"===this.instance.requestRouter.region&&this.instance.config.advanced_disable_toolbar_metrics,f=T({token:this.instance.config.token},a,{apiURL:this.instance.requestRouter.endpointFor("ui")},e?{instrument:!1}:{});return(d.localStorage.setItem(dw,JSON.stringify(T({},f,{source:void 0}))),this.Wi()===dy.LOADED)?this.Gi(f):this.Wi()===dy.UNINITIALIZED&&(this.Hi(dy.LOADING),null==(b=p.__PosthogExtensions__)||null==b.loadExternalDependency||b.loadExternalDependency(this.instance,"toolbar",a=>{if(a)return dx.error("[Toolbar] Failed to load",a),void this.Hi(dy.UNINITIALIZED);this.Hi(dy.LOADED),this.Gi(f)}),ae(d,"turbolinks:load",()=>{this.Hi(dy.UNINITIALIZED),this.loadToolbar(f)})),!0}Ji(a){return this.loadToolbar(a)}maybeLoadEditor(a,b,c){return void 0===a&&(a=void 0),void 0===b&&(b=void 0),void 0===c&&(c=void 0),this.maybeLoadToolbar(a,b,c)}}var dA=Q("[TracingHeaders]");class dB{constructor(a){this.Vi=void 0,this.Ki=void 0,this.nt=()=>{var a,b;G(this.Vi)&&(null==(a=p.__PosthogExtensions__)||null==(a=a.tracingHeadersPatchFns)||a._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager)),G(this.Ki)&&(null==(b=p.__PosthogExtensions__)||null==(b=b.tracingHeadersPatchFns)||b._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=a}J(a){var b,c;null!=(b=p.__PosthogExtensions__)&&b.tracingHeadersPatchFns&&a(),null==(c=p.__PosthogExtensions__)||null==c.loadExternalDependency||c.loadExternalDependency(this._instance,"tracing-headers",b=>{if(b)return dA.error("failed to load script",b);a()})}startIfEnabledOrStop(){var a,b;this._instance.config.__add_tracing_headers?this.J(this.nt):(null==(a=this.Vi)||a.call(this),null==(b=this.Ki)||b.call(this),this.Vi=void 0,this.Ki=void 0)}}var dC=Q("[Web Vitals]");class dD{constructor(a){var b;this.Yi=!1,this.i=!1,this.M={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.Xi=()=>{clearTimeout(this.Qi),0!==this.M.metrics.length&&(this._instance.capture("$web_vitals",this.M.metrics.reduce((a,b)=>T({},a,{["$web_vitals_"+b.name+"_event"]:T({},b),["$web_vitals_"+b.name+"_value"]:b.value}),{})),this.M={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Zi=a=>{var b,c=null==(b=this._instance.sessionManager)?void 0:b.checkAndGetSessionAndWindowId(!0);if(G(c))dC.error("Could not read session ID. Dropping metrics!");else{this.M=this.M||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var d=this.te();G(d)||(K(null==a?void 0:a.name)||K(null==a?void 0:a.value)?dC.error("Invalid metric received",a):this.ie&&a.value>=this.ie?dC.error("Ignoring metric with value >= "+this.ie,a):(this.M.url!==d&&(this.Xi(),this.Qi=setTimeout(this.Xi,this.flushToCaptureTimeoutMs)),G(this.M.url)&&(this.M.url=d),this.M.firstMetricTimestamp=G(this.M.firstMetricTimestamp)?Date.now():this.M.firstMetricTimestamp,a.attribution&&a.attribution.interactionTargetElement&&(a.attribution.interactionTargetElement=void 0),this.M.metrics.push(T({},a,{$current_url:d,$session_id:c.sessionId,$window_id:c.windowId,timestamp:Date.now()})),this.M.metrics.length===this.allowedMetrics.length&&this.Xi()))}},this.nt=()=>{var a,b,c,d,e=p.__PosthogExtensions__;G(e)||G(e.postHogWebVitalsCallbacks)||({onLCP:a,onCLS:b,onFCP:c,onINP:d}=e.postHogWebVitalsCallbacks),a&&b&&c&&d?(this.allowedMetrics.indexOf("LCP")>-1&&a(this.Zi.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&b(this.Zi.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&c(this.Zi.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&d(this.Zi.bind(this)),this.i=!0):dC.error("web vitals callbacks not loaded - not starting")},this._instance=a,this.Yi=!(null==(b=this._instance.persistence)||!b.props[an]),this.startIfEnabled()}get allowedMetrics(){var a,b,c=E(this._instance.config.capture_performance)?null==(a=this._instance.config.capture_performance)?void 0:a.web_vitals_allowed_metrics:void 0;return G(c)?(null==(b=this._instance.persistence)?void 0:b.props[ap])||["CLS","FCP","INP","LCP"]:c}get flushToCaptureTimeoutMs(){return(E(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get ie(){var a=E(this._instance.config.capture_performance)&&L(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:9e5;return 0<a&&a<=6e4?9e5:a}get isEnabled(){var a=null==k?void 0:k.protocol;if("http:"!==a&&"https:"!==a)return dC.info("Web Vitals are disabled on non-http/https protocols"),!1;var b=E(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:M(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return M(b)?b:this.Yi}startIfEnabled(){this.isEnabled&&!this.i&&(dC.info("enabled, starting..."),this.J(this.nt))}onRemoteConfig(a){var b=E(a.capturePerformance)&&!!a.capturePerformance.web_vitals,c=E(a.capturePerformance)?a.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[an]:b}),this._instance.persistence.register({[ap]:c})),this.Yi=b,this.startIfEnabled()}J(a){var b,c;null!=(b=p.__PosthogExtensions__)&&b.postHogWebVitalsCallbacks&&a(),null==(c=p.__PosthogExtensions__)||null==c.loadExternalDependency||c.loadExternalDependency(this._instance,"web-vitals",b=>{b?dC.error("failed to load script",b):a()})}te(){var a=d?d.location.href:void 0;return a||dC.error("Could not determine current URL"),a}}var dE=Q("[Heatmaps]");function dF(a){return E(a)&&"clientX"in a&&"clientY"in a&&L(a.clientX)&&L(a.clientY)}class dG{constructor(a){var b;this.rageclicks=new bg,this.Yi=!1,this.i=!1,this.ee=null,this.instance=a,this.Yi=!(null==(b=this.instance.persistence)||!b.props[aj])}get flushIntervalMilliseconds(){var a=5e3;return E(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(a=this.instance.config.capture_heatmaps.flush_interval_milliseconds),a}get isEnabled(){return G(this.instance.config.capture_heatmaps)?G(this.instance.config.enable_heatmaps)?this.Yi:this.instance.config.enable_heatmaps:!1!==this.instance.config.capture_heatmaps}startIfEnabled(){if(this.isEnabled)this.i||(dE.info("starting..."),this.re(),this.ee=setInterval(this.se.bind(this),this.flushIntervalMilliseconds));else{var a,b;clearInterval(null!=(a=this.ee)?a:void 0),null==(b=this.ne)||b.stop(),this.getAndClearBuffer()}}onRemoteConfig(a){var b=!!a.heatmaps;this.instance.persistence&&this.instance.persistence.register({[aj]:b}),this.Yi=b,this.startIfEnabled()}getAndClearBuffer(){var a=this.M;return this.M=void 0,a}oe(a){this.ae(a.originalEvent,"deadclick")}re(){d&&j&&(ae(d,"beforeunload",this.se.bind(this)),ae(j,"click",a=>this.ae(a||(null==d?void 0:d.event)),{capture:!0}),ae(j,"mousemove",a=>this.le(a||(null==d?void 0:d.event)),{capture:!0}),this.ne=new bO(this.instance,bM,this.oe.bind(this)),this.ne.startIfEnabled(),this.i=!0)}ue(a,b){var c=this.instance.scrollManager.scrollY(),e=this.instance.scrollManager.scrollX(),f=this.instance.scrollManager.scrollElement(),g=function(a,b,c){for(var e=a;e&&aV(e)&&!aW(e,"body")&&e!==c;){if(v(b,null==d?void 0:d.getComputedStyle(e).position))return!0;e=a4(e)}return!1}(a2(a),["fixed","sticky"],f);return{x:a.clientX+(g?0:e),y:a.clientY+(g?0:c),target_fixed:g,type:b}}ae(a,b){var c;if(void 0===b&&(b="click"),!aU(a.target)&&dF(a)){var d=this.ue(a,b);null!=(c=this.rageclicks)&&c.isRageClick(a.clientX,a.clientY,(new Date).getTime())&&this.he(T({},d,{type:"rageclick"})),this.he(d)}}le(a){!aU(a.target)&&dF(a)&&(clearTimeout(this.de),this.de=setTimeout(()=>{this.he(this.ue(a,"mousemove"))},500))}he(a){if(d){var b=d.location.href;this.M=this.M||{},this.M[b]||(this.M[b]=[]),this.M[b].push(a)}}se(){this.M&&!F(this.M)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class dH{constructor(a){this._instance=a}doPageView(a,b){var c,e=this.ve(a,b);return this.ce={pathname:null!=(c=null==d?void 0:d.location.pathname)?c:"",pageViewId:b,timestamp:a},this._instance.scrollManager.resetContext(),e}doPageLeave(a){var b;return this.ve(a,null==(b=this.ce)?void 0:b.pageViewId)}doEvent(){var a;return{$pageview_id:null==(a=this.ce)?void 0:a.pageViewId}}ve(a,b){var c=this.ce;if(!c)return{$pageview_id:b};var d={$pageview_id:b,$prev_pageview_id:c.pageViewId},e=this._instance.scrollManager.getContext();if(e&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:f,lastScrollY:g,maxScrollY:h,maxContentHeight:i,lastContentY:j,maxContentY:k}=e;if(!(G(f)||G(g)||G(h)||G(i)||G(j)||G(k))){f=Math.ceil(f),g=Math.ceil(g),h=Math.ceil(h),i=Math.ceil(i),j=Math.ceil(j),k=Math.ceil(k);var l=f<=1?1:bP(g/f,0,1),m=f<=1?1:bP(h/f,0,1),n=i<=1?1:bP(j/i,0,1),o=i<=1?1:bP(k/i,0,1);d=Y(d,{$prev_pageview_last_scroll:g,$prev_pageview_last_scroll_percentage:l,$prev_pageview_max_scroll:h,$prev_pageview_max_scroll_percentage:m,$prev_pageview_last_content:j,$prev_pageview_last_content_percentage:n,$prev_pageview_max_content:k,$prev_pageview_max_content_percentage:o})}}return c.pathname&&(d.$prev_pageview_pathname=c.pathname),c.timestamp&&(d.$prev_pageview_duration=(a.getTime()-c.timestamp.getTime())/1e3),d}}var dI=function(a){var b,c,d,e,f="";for(b=c=0,d=(a=(a+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,e=0;e<d;e++){var g=a.charCodeAt(e),h=null;g<128?c++:h=g>127&&g<2048?String.fromCharCode(g>>6|192,63&g|128):String.fromCharCode(g>>12|224,g>>6&63|128,63&g|128),J(h)||(c>b&&(f+=a.substring(b,c)),f+=h,b=c=e+1)}return c>b&&(f+=a.substring(b,a.length)),f},dJ=!!m||!!l,dK="text/plain",dL=(a,b)=>{var[c,d]=a.split("?"),e=T({},b);null==d||d.split("&").forEach(a=>{var[b]=a.split("=");delete e[b]});var f=bj(e);return c+"?"+(f=f?(d?d+"&":"")+f:d)},dM=(a,b)=>JSON.stringify(a,(a,b)=>"bigint"==typeof b?b.toString():b,b),dN=a=>{var{data:b,compression:c}=a;if(b){if(c===t.GZipJS){var d=new Blob([cZ(c$(dM(b)),{mtime:0})],{type:dK});return{contentType:dK,body:d,estimatedSize:d.size}}if(c===t.Base64){var e=(a=>"data="+encodeURIComponent("string"==typeof a?a:dM(a)))(function(a){var b,c,d,e,f,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=0,i=0,j="",k=[];if(!a)return a;a=dI(a);do b=(f=a.charCodeAt(h++)<<16|a.charCodeAt(h++)<<8|a.charCodeAt(h++))>>18&63,c=f>>12&63,d=f>>6&63,e=63&f,k[i++]=g.charAt(b)+g.charAt(c)+g.charAt(d)+g.charAt(e);while(h<a.length);switch(j=k.join(""),a.length%3){case 1:j=j.slice(0,-2)+"==";break;case 2:j=j.slice(0,-1)+"="}return j}(dM(b)));return{contentType:"application/x-www-form-urlencoded",body:e,estimatedSize:new Blob([e]).size}}var f=dM(b);return{contentType:"application/json",body:f,estimatedSize:new Blob([f]).size}}},dO=[];l&&dO.push({transport:"fetch",method:a=>{var b,c,{contentType:d,body:e,estimatedSize:f}=null!=(b=dN(a))?b:{},g=new Headers;X(a.headers,function(a,b){g.append(b,a)}),d&&g.append("Content-Type",d);var h=a.url,i=null;if(n){var j=new n;i={signal:j.signal,timeout:setTimeout(()=>j.abort(),a.timeout)}}l(h,T({method:(null==a?void 0:a.method)||"GET",headers:g,keepalive:"POST"===a.method&&52428.8>(f||0),body:e,signal:null==(c=i)?void 0:c.signal},a.fetchOptions)).then(b=>b.text().then(c=>{var d={statusCode:b.status,text:c};if(200===b.status)try{d.json=JSON.parse(c)}catch(a){P.error(a)}null==a.callback||a.callback(d)})).catch(b=>{P.error(b),null==a.callback||a.callback({statusCode:0,text:b})}).finally(()=>i?clearTimeout(i.timeout):null)}}),m&&dO.push({transport:"XHR",method:a=>{var b,c=new m;c.open(a.method||"GET",a.url,!0);var{contentType:d,body:e}=null!=(b=dN(a))?b:{};X(a.headers,function(a,b){c.setRequestHeader(b,a)}),d&&c.setRequestHeader("Content-Type",d),a.timeout&&(c.timeout=a.timeout),c.withCredentials=!0,c.onreadystatechange=()=>{if(4===c.readyState){var b={statusCode:c.status,text:c.responseText};if(200===c.status)try{b.json=JSON.parse(c.responseText)}catch(a){}null==a.callback||a.callback(b)}},c.send(e)}}),null!=i&&i.sendBeacon&&dO.push({transport:"sendBeacon",method:a=>{var b=dL(a.url,{beacon:"1"});try{var c,{contentType:d,body:e}=null!=(c=dN(a))?c:{},f="string"==typeof e?new Blob([e],{type:d}):e;i.sendBeacon(b,f)}catch(a){}}});var dP=function(a,b){if(!function(a){try{new RegExp(a)}catch(a){return!1}return!0}(b))return!1;try{return new RegExp(b).test(a)}catch(a){return!1}};function dQ(a,b,c){return dM({distinct_id:a,userPropertiesToSet:b,userPropertiesToSetOnce:c})}var dR={exact:(a,b)=>b.some(b=>a.some(a=>b===a)),is_not:(a,b)=>b.every(b=>a.every(a=>b!==a)),regex:(a,b)=>b.some(b=>a.some(a=>dP(b,a))),not_regex:(a,b)=>b.every(b=>a.every(a=>!dP(b,a))),icontains:(a,b)=>b.map(dS).some(b=>a.map(dS).some(a=>b.includes(a))),not_icontains:(a,b)=>b.map(dS).every(b=>a.map(dS).every(a=>!b.includes(a)))},dS=a=>a.toLowerCase(),dT=Q("[Error tracking]");class dU{constructor(a){var b,c;this.fe=[],this._instance=a,this.fe=null!=(b=null==(c=this._instance.persistence)?void 0:c.get_property(al))?b:[]}onRemoteConfig(a){var b,c,d,e=null!=(b=null==(c=a.errorTracking)?void 0:c.suppressionRules)?b:[],f=null==(d=a.errorTracking)?void 0:d.captureExtensionExceptions;this.fe=e,this._instance.persistence&&this._instance.persistence.register({[al]:this.fe,[am]:f})}get pe(){var a,b=!!this._instance.get_property(am),c=this._instance.config.error_tracking.captureExtensionExceptions;return null!=(a=null!=c?c:b)&&a}sendExceptionEvent(a){if(this._e(a))dT.info("Skipping exception capture because a suppression rule matched");else{if(this.pe||!this.ge(a))return this._instance.capture("$exception",a,{_noTruncate:!0,_batchKey:"exceptionEvent"});dT.info("Skipping exception capture because it was thrown by an extension")}}_e(a){var b=a.$exception_list;if(!b||!C(b)||0===b.length)return!1;var c=b.reduce((a,b)=>{var{type:c,value:d}=b;return H(c)&&c.length>0&&a.$exception_types.push(c),H(d)&&d.length>0&&a.$exception_values.push(d),a},{$exception_types:[],$exception_values:[]});return this.fe.some(a=>{var b=a.values.map(a=>{var b,d=dR[a.operator],e=C(a.value)?a.value:[a.value],f=null!=(b=c[a.key])?b:[];return e.length>0&&d(e,f)});return"OR"===a.type?b.some(Boolean):b.every(Boolean)})}ge(a){var b=a.$exception_list;return!(!b||!C(b))&&b.flatMap(a=>{var b,c;return null!=(b=null==(c=a.stacktrace)?void 0:c.frames)?b:[]}).some(a=>a.filename&&a.filename.startsWith("chrome-extension://"))}}var dV="Mobile",dW="Android",dX="Tablet",dY=dW+" "+dX,dZ="iPad",d$="Apple",d_=d$+" Watch",d0="Safari",d1="BlackBerry",d2="Samsung",d3=d2+"Browser",d4=d2+" Internet",d5="Chrome",d6=d5+" OS",d7=d5+" iOS",d8="Internet Explorer",d9=d8+" "+dV,ea="Opera",eb=ea+" Mini",ec="Edge",ed="Microsoft "+ec,ee="Firefox",ef=ee+" iOS",eg="Nintendo",eh="PlayStation",ei="Xbox",ej=dW+" "+dV,ek=dV+" "+d0,el="Windows",em=el+" Phone",en="Nokia",eo="Ouya",ep="Generic",eq=ep+" "+dV.toLowerCase(),er=ep+" "+dX.toLowerCase(),es="Konqueror",et="(\\d+(\\.\\d+)?)",eu=RegExp("Version/"+et),ev=RegExp(ei,"i"),ew=RegExp(eh+" \\w+","i"),ex=RegExp(eg+" \\w+","i"),ey=RegExp(d1+"|PlayBook|BB10","i"),ez={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},eA=function(a,b){let c;return b=b||"",v(a," OPR/")&&v(a,"Mini")?eb:v(a," OPR/")?ea:ey.test(a)?d1:v(a,"IE"+dV)||v(a,"WPDesktop")?d9:v(a,d3)?d4:v(a,ec)||v(a,"Edg/")?ed:v(a,"FBIOS")?"Facebook "+dV:v(a,"UCWEB")||v(a,"UCBrowser")?"UC Browser":v(a,"CriOS")?d7:v(a,"CrMo")||v(a,d5)?d5:v(a,dW)&&v(a,d0)?ej:v(a,"FxiOS")?ef:v(a.toLowerCase(),es.toLowerCase())?es:(c=b)&&v(c,d$)||v(a,d0)&&!v(a,d5)&&!v(a,dW)?v(a,dV)?ek:d0:v(a,ee)?ee:v(a,"MSIE")||v(a,"Trident/")?d8:v(a,"Gecko")?ee:""},eB={[d9]:[RegExp("rv:"+et)],[ed]:[RegExp(ec+"?\\/"+et)],[d5]:[RegExp("("+d5+"|CrMo)\\/"+et)],[d7]:[RegExp("CriOS\\/"+et)],"UC Browser":[RegExp("(UCBrowser|UCWEB)\\/"+et)],[d0]:[eu],[ek]:[eu],[ea]:[RegExp("(Opera|OPR)\\/"+et)],[ee]:[RegExp(ee+"\\/"+et)],[ef]:[RegExp("FxiOS\\/"+et)],[es]:[RegExp("Konqueror[:/]?"+et,"i")],[d1]:[RegExp(d1+" "+et),eu],[ej]:[RegExp("android\\s"+et,"i")],[d4]:[RegExp(d3+"\\/"+et)],[d8]:[RegExp("(rv:|MSIE )"+et)],Mozilla:[RegExp("rv:"+et)]},eC=function(a,b){var c=eB[eA(a,b)];if(G(c))return null;for(var d=0;d<c.length;d++){var e=c[d],f=a.match(e);if(f)return parseFloat(f[f.length-2])}return null},eD=[[RegExp(ei+"; "+ei+" (.*?)[);]","i"),a=>[ei,a&&a[1]||""]],[RegExp(eg,"i"),[eg,""]],[RegExp(eh,"i"),[eh,""]],[ey,[d1,""]],[RegExp(el,"i"),(a,b)=>{if(/Phone/.test(b)||/WPDesktop/.test(b))return[em,""];if(new RegExp(dV).test(b)&&!/IEMobile\b/.test(b))return[el+" "+dV,""];var c=/Windows NT ([0-9.]+)/i.exec(b);if(c&&c[1]){var d=ez[c[1]]||"";return/arm/i.test(b)&&(d="RT"),[el,d]}return[el,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,a=>a&&a[3]?["iOS",[a[3],a[4],a[5]||"0"].join(".")]:["iOS",""]],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,a=>{var b="";return a&&a.length>=3&&(b=G(a[2])?a[3]:a[2]),["watchOS",b]}],[RegExp("("+dW+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+dW+")","i"),a=>a&&a[2]?[dW,[a[2],a[3],a[4]||"0"].join(".")]:[dW,""]],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,a=>{var b=["Mac OS X",""];if(a&&a[1]){var c=[a[1],a[2],a[3]||"0"];b[1]=c.join(".")}return b}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[d6,""]],[/Linux|debian/i,["Linux",""]]],eE=function(a){return ex.test(a)?eg:ew.test(a)?eh:ev.test(a)?ei:RegExp(eo,"i").test(a)?eo:RegExp("("+em+"|WPDesktop)","i").test(a)?em:/iPad/.test(a)?dZ:/iPod/.test(a)?"iPod Touch":/iPhone/.test(a)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(a)?d_:ey.test(a)?d1:/(kobo)\s(ereader|touch)/i.test(a)?"Kobo":RegExp(en,"i").test(a)?en:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(a)||/(kf[a-z]+)( bui|\)).+silk\//i.test(a)?"Kindle Fire":/(Android|ZTE)/i.test(a)?!new RegExp(dV).test(a)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(a)?/pixel[\daxl ]{1,6}/i.test(a)&&!/pixel c/i.test(a)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(a)||/lmy47v/i.test(a)&&!/QTAQZ3/i.test(a)?dW:dY:dW:RegExp("(pda|"+dV+")","i").test(a)?eq:RegExp(dX,"i").test(a)&&!RegExp(dX+" pc","i").test(a)?er:""},eF="https?://(.*)",eG=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],eH=Z(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],eG),eI="<masked>",eJ=["li_fat_id"];function eK(a,b,c){if(!j)return{};var d,e=b?Z([],eG,c||[]):[],f=eL(bl(j.URL,e,eI),a);return Y((d={},X(eJ,function(a){var b=bA.D(a);d[a]=b||null}),d),f)}function eL(a,b){var c=eH.concat(b||[]),d={};return X(c,function(b){var c=bk(a,b);d[b]=c||null}),d}function eM(a){var b=a?0===a.search(eF+"google.([^/?]*)")?"google":0===a.search(eF+"bing.com")?"bing":0===a.search(eF+"yahoo.com")?"yahoo":0===a.search(eF+"duckduckgo.com")?"duckduckgo":null:null,c={};if(!J(b)){c.$search_engine=b;var d=j?bk(j.referrer,"yahoo"!=b?"q":"p"):"";d.length&&(c.ph_keyword=d)}return c}function eN(){return navigator.language||navigator.userLanguage}function eO(){return(null==j?void 0:j.referrer)||"$direct"}function eP(a,b){var c=a?Z([],eG,b||[]):[],d=null==k?void 0:k.href.substring(0,1e3);return{r:eO().substring(0,1e3),u:d?bl(d,c,eI):void 0}}function eQ(a){var b,{r:c,u:d}=a,e={$referrer:c,$referring_domain:null==c?void 0:"$direct"==c?"$direct":null==(b=bi(c))?void 0:b.host};if(d){e.$current_url=d;var f=bi(d);e.$host=null==f?void 0:f.host,e.$pathname=null==f?void 0:f.pathname,Y(e,eL(d))}return c&&Y(e,eM(c)),e}function eR(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(a){return}}var eS=Q("[FeatureFlags]"),eT="$active_feature_flags",eU="$override_feature_flags",eV="$feature_flag_payloads",eW="$override_feature_flag_payloads",eX="$feature_flag_request_id",eY=a=>{var b={};for(var[c,d]of $(a||{}))d&&(b[c]=d);return b},eZ=function(a){return a.FeatureFlags="feature_flags",a.Recordings="recordings",a}({});class e${constructor(a){this.me=!1,this.be=!1,this.ye=!1,this.we=!1,this.Se=!1,this.$e=!1,this.xe=!1,this._instance=a,this.featureFlagEventHandlers=[]}flags(){if(this._instance.config.__preview_remote_config)this.$e=!0;else{var a=!this.ke&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.Ee({disableFlags:a})}}get hasLoadedFlags(){return this.be}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var a=this._instance.get_property(aE),b=this._instance.get_property(eU),c=this._instance.get_property(eW);if(!c&&!b)return a||{};var d=Y({},a||{});for(var e of[...new Set([...Object.keys(c||{}),...Object.keys(b||{})])]){var f,g,h=d[e],i=null==b?void 0:b[e],j=G(i)?null!=(f=null==h?void 0:h.enabled)&&f:!!i,k=G(i)?h.variant:"string"==typeof i?i:void 0,l=null==c?void 0:c[e],m=T({},h,{enabled:j,variant:j?null!=k?k:null==h?void 0:h.variant:void 0});j!==(null==h?void 0:h.enabled)&&(m.original_enabled=null==h?void 0:h.enabled),k!==(null==h?void 0:h.variant)&&(m.original_variant=null==h?void 0:h.variant),l&&(m.metadata=T({},null==h?void 0:h.metadata,{payload:l,original_payload:null==h||null==(g=h.metadata)?void 0:g.payload})),d[e]=m}return this.me||(eS.warn(" Overriding feature flag details!",{flagDetails:a,overriddenPayloads:c,finalDetails:d}),this.me=!0),d}getFlagVariants(){var a=this._instance.get_property(aC),b=this._instance.get_property(eU);if(!b)return a||{};for(var c=Y({},a),d=Object.keys(b),e=0;e<d.length;e++)c[d[e]]=b[d[e]];return this.me||(eS.warn(" Overriding feature flags!",{enabledFlags:a,overriddenFlags:b,finalFlags:c}),this.me=!0),c}getFlagPayloads(){var a=this._instance.get_property(eV),b=this._instance.get_property(eW);if(!b)return a||{};for(var c=Y({},a||{}),d=Object.keys(b),e=0;e<d.length;e++)c[d[e]]=b[d[e]];return this.me||(eS.warn(" Overriding feature flag payloads!",{flagPayloads:a,overriddenPayloads:b,finalPayloads:c}),this.me=!0),c}reloadFeatureFlags(){this.we||this._instance.config.advanced_disable_feature_flags||this.ke||(this.ke=setTimeout(()=>{this.Ee()},5))}Ie(){clearTimeout(this.ke),this.ke=void 0}ensureFlagsLoaded(){this.be||this.ye||this.ke||this.reloadFeatureFlags()}setAnonymousDistinctId(a){this.$anon_distinct_id=a}setReloadingPaused(a){this.we=a}Ee(a){var b;if(this.Ie(),!this._instance.I())if(this.ye)this.Se=!0;else{var c={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:T({},(null==(b=this._instance.persistence)?void 0:b.get_initial_props())||{},this._instance.get_property(aF)||{}),group_properties:this._instance.get_property(aG)};(null!=a&&a.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(c.disable_flags=!0);var d=this._instance.config.__preview_remote_config,e=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",f=this._instance.requestRouter.endpointFor("api",(d?"/flags/?v=2":"/flags/?v=2&config=true")+e);d&&(c.timezone=eR()),this.ye=!0,this._instance.Pe({method:"POST",url:f,data:c,compression:this._instance.config.disable_compression?void 0:t.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:a=>{var b,d,e,f=!0;200===a.statusCode&&(this.Se||(this.$anon_distinct_id=void 0),f=!1),this.ye=!1,this.$e||(this.$e=!0,this._instance.Re(null!=(e=a.json)?e:{})),(!c.disable_flags||this.Se)&&((this.xe=!f,a.json&&null!=(d=a.json.quotaLimited)&&d.includes(eZ.FeatureFlags))?eS.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more."):(c.disable_flags||this.receivedFeatureFlags(null!=(b=a.json)?b:{},f),this.Se&&(this.Se=!1,this.Ee())))}})}}getFeatureFlag(a,b){if(void 0===b&&(b={}),this.be||this.getFlags()&&this.getFlags().length>0){var c=this.getFlagVariants()[a],d=""+c,e=this._instance.get_property(eX)||void 0,f=this._instance.get_property(aJ)||{};if((b.send_event||!("send_event"in b))&&(!(a in f)||!f[a].includes(d))){C(f[a])?f[a].push(d):f[a]=[d],null==(i=this._instance.persistence)||i.register({[aJ]:f});var g=this.getFeatureFlagDetails(a),h={$feature_flag:a,$feature_flag_response:c,$feature_flag_payload:this.getFeatureFlagPayload(a)||null,$feature_flag_request_id:e,$feature_flag_bootstrapped_response:(null==(j=this._instance.config.bootstrap)||null==(j=j.featureFlags)?void 0:j[a])||null,$feature_flag_bootstrapped_payload:(null==(k=this._instance.config.bootstrap)||null==(k=k.featureFlagPayloads)?void 0:k[a])||null,$used_bootstrap_value:!this.xe};G(null==g||null==(l=g.metadata)?void 0:l.version)||(h.$feature_flag_version=g.metadata.version);var i,j,k,l,m,n,o,p,q,r,s=null!=(m=null==g||null==(n=g.reason)?void 0:n.description)?m:null==g||null==(o=g.reason)?void 0:o.code;s&&(h.$feature_flag_reason=s),null!=g&&null!=(p=g.metadata)&&p.id&&(h.$feature_flag_id=g.metadata.id),G(null==g?void 0:g.original_variant)&&G(null==g?void 0:g.original_enabled)||(h.$feature_flag_original_response=G(g.original_variant)?g.original_enabled:g.original_variant),null!=g&&null!=(q=g.metadata)&&q.original_payload&&(h.$feature_flag_original_payload=null==g||null==(r=g.metadata)?void 0:r.original_payload),this._instance.capture("$feature_flag_called",h)}return c}eS.warn('getFeatureFlag for key "'+a+"\" failed. Feature flags didn't load in time.")}getFeatureFlagDetails(a){return this.getFlagsWithDetails()[a]}getFeatureFlagPayload(a){return this.getFlagPayloads()[a]}getRemoteConfigPayload(a,b){var c=this._instance.config.token;this._instance.Pe({method:"POST",url:this._instance.requestRouter.endpointFor("api","/flags/?v=2&config=true"),data:{distinct_id:this._instance.get_distinct_id(),token:c},compression:this._instance.config.disable_compression?void 0:t.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:c=>{var d,e=null==(d=c.json)?void 0:d.featureFlagPayloads;b((null==e?void 0:e[a])||void 0)}})}isFeatureEnabled(a,b){if(void 0===b&&(b={}),this.be||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(a,b);eS.warn('isFeatureEnabled for key "'+a+"\" failed. Feature flags didn't load in time.")}addFeatureFlagsHandler(a){this.featureFlagEventHandlers.push(a)}removeFeatureFlagsHandler(a){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(b=>b!==a)}receivedFeatureFlags(a,b){if(this._instance.persistence){this.be=!0;var c=this.getFlagVariants(),d=this.getFlagPayloads(),e=this.getFlagsWithDetails();!function(a,b,c,d,e){void 0===c&&(c={}),void 0===d&&(d={}),void 0===e&&(e={});var f,g=((f=a.flags)?(a.featureFlags=Object.fromEntries(Object.keys(f).map(a=>{var b;return[a,null!=(b=f[a].variant)?b:f[a].enabled]})),a.featureFlagPayloads=Object.fromEntries(Object.keys(f).filter(a=>f[a].enabled).filter(a=>{var b;return null==(b=f[a].metadata)?void 0:b.payload}).map(a=>{var b;return[a,null==(b=f[a].metadata)?void 0:b.payload]}))):eS.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),a),h=g.flags,i=g.featureFlags,j=g.featureFlagPayloads;if(i){var k=a.requestId;if(C(i)){eS.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var l={};if(i)for(var m=0;m<i.length;m++)l[i[m]]=!0;b&&b.register({[eT]:i,[aC]:l})}else{var n=i,o=j,p=h;a.errorsWhileComputingFlags&&(n=T({},c,n),o=T({},d,o),p=T({},e,p)),b&&b.register(T({[eT]:Object.keys(eY(n)),[aC]:n||{},[eV]:o||{},[aE]:p||{}},k?{[eX]:k}:{}))}}}(a,this._instance.persistence,c,d,e),this.Te(b)}}override(a,b){void 0===b&&(b=!1),eS.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:a,suppressWarning:b})}overrideFeatureFlags(a){if(!this._instance.__loaded||!this._instance.persistence)return eS.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(!1===a)return this._instance.persistence.unregister(eU),this._instance.persistence.unregister(eW),void this.Te();if(a&&"object"==typeof a&&("flags"in a||"payloads"in a)){var b;if(this.me=!!(null!=(b=a.suppressWarning)&&b),"flags"in a){if(!1===a.flags)this._instance.persistence.unregister(eU);else if(a.flags)if(C(a.flags)){for(var c={},d=0;d<a.flags.length;d++)c[a.flags[d]]=!0;this._instance.persistence.register({[eU]:c})}else this._instance.persistence.register({[eU]:a.flags})}return"payloads"in a&&(!1===a.payloads?this._instance.persistence.unregister(eW):a.payloads&&this._instance.persistence.register({[eW]:a.payloads})),void this.Te()}this.Te()}onFeatureFlags(a){if(this.addFeatureFlagsHandler(a),this.be){var{flags:b,flagVariants:c}=this.Ce();a(b,c)}return()=>this.removeFeatureFlagsHandler(a)}updateEarlyAccessFeatureEnrollment(a,b,c){var d,e=(this._instance.get_property(aD)||[]).find(b=>b.flagKey===a),f={["$feature_enrollment/"+a]:b},g={$feature_flag:a,$feature_enrollment:b,$set:f};e&&(g.$early_access_feature_name=e.name),c&&(g.$feature_enrollment_stage=c),this._instance.capture("$feature_enrollment_update",g),this.setPersonPropertiesForFlags(f,!1);var h=T({},this.getFlagVariants(),{[a]:b});null==(d=this._instance.persistence)||d.register({[eT]:Object.keys(eY(h)),[aC]:h}),this.Te()}getEarlyAccessFeatures(a,b,c){void 0===b&&(b=!1);var d=this._instance.get_property(aD),e=c?"&"+c.map(a=>"stage="+a).join("&"):"";if(d&&!b)return a(d);this._instance.Pe({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+e),method:"GET",callback:b=>{var c,d;if(b.json){var e=b.json.earlyAccessFeatures;return null==(c=this._instance.persistence)||c.unregister(aD),null==(d=this._instance.persistence)||d.register({[aD]:e}),a(e)}}})}Ce(){var a=this.getFlags(),b=this.getFlagVariants();return{flags:a.filter(a=>b[a]),flagVariants:Object.keys(b).filter(a=>b[a]).reduce((a,c)=>(a[c]=b[c],a),{})}}Te(a){var{flags:b,flagVariants:c}=this.Ce();this.featureFlagEventHandlers.forEach(d=>d(b,c,{errorsLoading:a}))}setPersonPropertiesForFlags(a,b){void 0===b&&(b=!0);var c=this._instance.get_property(aF)||{};this._instance.register({[aF]:T({},c,a)}),b&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(aF)}setGroupPropertiesForFlags(a,b){void 0===b&&(b=!0);var c=this._instance.get_property(aG)||{};0!==Object.keys(c).length&&Object.keys(c).forEach(b=>{c[b]=T({},c[b],a[b]),delete a[b]}),this._instance.register({[aG]:T({},c,a)}),b&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(a){if(a){var b=this._instance.get_property(aG)||{};this._instance.register({[aG]:T({},b,{[a]:{}})})}else this._instance.unregister(aG)}reset(){this.be=!1,this.ye=!1,this.we=!1,this.Se=!1,this.$e=!1,this.xe=!1,this.$anon_distinct_id=void 0,this.Ie(),this.me=!1}}var e_=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class e0{constructor(a,b){this.S=a,this.props={},this.Me=!1,this.Fe=(a=>{var b="";return a.token&&(b=a.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),a.persistence_name?"ph_"+a.persistence_name:"ph_"+b+"_posthog"})(a),this.B=this.Oe(a),this.load(),a.debug&&P.info("Persistence loaded",a.persistence,T({},this.props)),this.update_config(a,a,b),this.save()}isDisabled(){return!!this.Ae}Oe(a){-1===e_.indexOf(a.persistence.toLowerCase())&&(P.critical("Unknown persistence type "+a.persistence+"; falling back to localStorage+cookie"),a.persistence="localStorage+cookie");var b=a.persistence.toLowerCase();return"localstorage"===b&&bC.O()?bC:"localstorage+cookie"===b&&bE.O()?bE:"sessionstorage"===b&&bI.O()?bI:"memory"===b?bG:"cookie"===b?bA:bE.O()?bE:bA}properties(){var a={};return X(this.props,function(b,c){if(c===aC&&E(b))for(var d,e=Object.keys(b),f=0;f<e.length;f++)a["$feature/"+e[f]]=b[e[f]];else d=!1,(J(aT)?d:h&&aT.indexOf===h?-1!=aT.indexOf(c):(X(aT,function(a){if(d||(d=a===c))return V}),d))||(a[c]=b)}),a}load(){if(!this.Ae){var a=this.B.j(this.Fe);a&&(this.props=Y({},a))}}save(){this.Ae||this.B.L(this.Fe,this.props,this.De,this.je,this.Le,this.S.debug)}remove(){this.B.N(this.Fe,!1),this.B.N(this.Fe,!0)}clear(){this.remove(),this.props={}}register_once(a,b,c){if(E(a)){G(b)&&(b="None"),this.De=G(c)?this.Ne:c;var d=!1;if(X(a,(a,c)=>{this.props.hasOwnProperty(c)&&this.props[c]!==b||(this.props[c]=a,d=!0)}),d)return this.save(),!0}return!1}register(a,b){if(E(a)){this.De=G(b)?this.Ne:b;var c=!1;if(X(a,(b,d)=>{a.hasOwnProperty(d)&&this.props[d]!==b&&(this.props[d]=b,c=!0)}),c)return this.save(),!0}return!1}unregister(a){a in this.props&&(delete this.props[a],this.save())}update_campaign_params(){if(!this.Me){var a=eK(this.S.custom_campaign_params,this.S.mask_personal_data_properties,this.S.custom_personal_data_properties);F(ab(a))||this.register(a),this.Me=!0}}update_search_keyword(){var a;this.register((a=null==j?void 0:j.referrer)?eM(a):{})}update_referrer_info(){var a;this.register_once({$referrer:eO(),$referring_domain:null!=j&&j.referrer&&(null==(a=bi(j.referrer))?void 0:a.host)||"$direct"},void 0)}set_initial_person_info(){this.props[aN]||this.props[aO]||this.register_once({[aP]:eP(this.S.mask_personal_data_properties,this.S.custom_personal_data_properties)},void 0)}get_initial_props(){var a={};X([aO,aN],b=>{var c=this.props[b];c&&X(c,function(b,c){a["$initial_"+x(c)]=b})});var b,c,d=this.props[aP];return d&&Y(a,(b=eQ(d),c={},X(b,function(a,b){c["$initial_"+x(b)]=a}),c)),a}safe_merge(a){return X(this.props,function(b,c){c in a||(a[c]=b)}),a}update_config(a,b,c){if(this.Ne=this.De=a.cookie_expiration,this.set_disabled(a.disable_persistence||!!c),this.set_cross_subdomain(a.cross_subdomain_cookie),this.set_secure(a.secure_cookie),a.persistence!==b.persistence){var d=this.Oe(a),e=this.props;this.clear(),this.B=d,this.props=e,this.save()}}set_disabled(a){this.Ae=a,this.Ae?this.remove():this.save()}set_cross_subdomain(a){a!==this.je&&(this.je=a,this.remove(),this.save())}set_secure(a){a!==this.Le&&(this.Le=a,this.remove(),this.save())}set_event_timer(a,b){var c=this.props[ah]||{};c[a]=b,this.props[ah]=c,this.save()}remove_event_timer(a){var b=(this.props[ah]||{})[a];return G(b)||(delete this.props[ah][a],this.save()),b}get_property(a){return this.props[a]}set_property(a,b){this.props[a]=b,this.save()}}class e1{constructor(){this.ze={},this.ze={}}on(a,b){return this.ze[a]||(this.ze[a]=[]),this.ze[a].push(b),()=>{this.ze[a]=this.ze[a].filter(a=>a!==b)}}emit(a,b){for(var c of this.ze[a]||[])c(b);for(var d of this.ze["*"]||[])d(a,b)}}class e2{constructor(a){this.Ue=new e1,this.qe=(a,b)=>this.Be(a,b)&&this.He(a,b)&&this.We(a,b),this.Be=(a,b)=>null==b||!b.event||(null==a?void 0:a.event)===(null==b?void 0:b.event),this._instance=a,this.Ge=new Set,this.Je=new Set}init(){var a,b;G(null==(a=this._instance)?void 0:a.Ve)||null==(b=this._instance)||b.Ve((a,b)=>{this.on(a,b)})}register(a){var b,c;if(!G(null==(b=this._instance)?void 0:b.Ve)&&(a.forEach(a=>{var b,c;null==(b=this.Je)||b.add(a),null==(c=a.steps)||c.forEach(a=>{var b;null==(b=this.Ge)||b.add((null==a?void 0:a.event)||"")})}),null!=(c=this._instance)&&c.autocapture)){var d,e=new Set;a.forEach(a=>{var b;null==(b=a.steps)||b.forEach(a=>{null!=a&&a.selector&&e.add(null==a?void 0:a.selector)})}),null==(d=this._instance)||d.autocapture.setElementSelectors(e)}}on(a,b){var c;null!=b&&0!=a.length&&(this.Ge.has(a)||this.Ge.has(null==b?void 0:b.event))&&this.Je&&(null==(c=this.Je)?void 0:c.size)>0&&this.Je.forEach(a=>{this.Ke(b,a)&&this.Ue.emit("actionCaptured",a.name)})}Ye(a){this.onAction("actionCaptured",b=>a(b))}Ke(a,b){if(null==(null==b?void 0:b.steps))return!1;for(var c of b.steps)if(this.qe(a,c))return!0;return!1}onAction(a,b){return this.Ue.on(a,b)}He(a,b){if(null!=b&&b.url){var c,d=null==a||null==(c=a.properties)?void 0:c.$current_url;if(!d||"string"!=typeof d||!e2.Xe(d,null==b?void 0:b.url,(null==b?void 0:b.url_matching)||"contains"))return!1}return!0}static Xe(a,b,c){switch(c){case"regex":return!!d&&dP(a,b);case"exact":return b===a;case"contains":return dP(a,e2.Qe(b).replace(/_/g,".").replace(/%/g,".*"));default:return!1}}static Qe(a){return a.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}We(a,b){if((null!=b&&b.href||null!=b&&b.tag_name||null!=b&&b.text)&&!this.Ze(a).some(a=>!(null!=b&&b.href&&!e2.Xe(a.href||"",null==b?void 0:b.href,(null==b?void 0:b.href_matching)||"exact"))&&(null==b||!b.tag_name||a.tag_name===(null==b?void 0:b.tag_name))&&!(null!=b&&b.text&&!e2.Xe(a.text||"",null==b?void 0:b.text,(null==b?void 0:b.text_matching)||"exact")&&!e2.Xe(a.$el_text||"",null==b?void 0:b.text,(null==b?void 0:b.text_matching)||"exact"))))return!1;if(null!=b&&b.selector){var c,d=null==a||null==(c=a.properties)?void 0:c.$element_selectors;if(!d||!d.includes(null==b?void 0:b.selector))return!1}return!0}Ze(a){return null==(null==a?void 0:a.properties.$elements)?[]:null==a?void 0:a.properties.$elements}}(function(a){a.Button="button",a.Tab="tab",a.Selector="selector"})({}),function(a){a.TopLeft="top_left",a.TopRight="top_right",a.TopCenter="top_center",a.MiddleLeft="middle_left",a.MiddleRight="middle_right",a.MiddleCenter="middle_center",a.Left="left",a.Center="center",a.Right="right",a.NextToTrigger="next_to_trigger"}({});var e3=function(a){return a.Popover="popover",a.API="api",a.Widget="widget",a.ExternalSurvey="external_survey",a}({}),e4=(function(a){a.Open="open",a.MultipleChoice="multiple_choice",a.SingleChoice="single_choice",a.Rating="rating",a.Link="link"}({}),function(a){a.NextQuestion="next_question",a.End="end",a.ResponseBased="response_based",a.SpecificQuestion="specific_question"}({}),function(a){a.Once="once",a.Recurring="recurring",a.Always="always"}({}),function(a){return a.SHOWN="survey shown",a.DISMISSED="survey dismissed",a.SENT="survey sent",a}({})),e5=function(a){return a.SURVEY_ID="$survey_id",a.SURVEY_NAME="$survey_name",a.SURVEY_RESPONSE="$survey_response",a.SURVEY_ITERATION="$survey_iteration",a.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",a.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",a.SURVEY_SUBMISSION_ID="$survey_submission_id",a.SURVEY_QUESTIONS="$survey_questions",a.SURVEY_COMPLETED="$survey_completed",a}({}),e6=Q("[Surveys]"),e7="seenSurvey_",e8=a=>{var b=""+e7+a.id;return a.current_iteration&&a.current_iteration>0&&(b=""+e7+a.id+"_"+a.current_iteration),b},e9=[e3.Popover,e3.Widget,e3.API];class fa{constructor(a){this._instance=a,this.tr=new Map,this.ir=new Map}register(a){var b;G(null==(b=this._instance)?void 0:b.Ve)||(this.er(a),this.rr(a))}rr(a){var b=a.filter(a=>{var b,c;return(null==(b=a.conditions)?void 0:b.actions)&&(null==(c=a.conditions)||null==(c=c.actions)||null==(c=c.values)?void 0:c.length)>0});0!==b.length&&(null==this.sr&&(this.sr=new e2(this._instance),this.sr.init(),this.sr.Ye(a=>{this.onAction(a)})),b.forEach(a=>{var b,c,d,e,f;a.conditions&&null!=(b=a.conditions)&&b.actions&&null!=(c=a.conditions)&&null!=(c=c.actions)&&c.values&&(null==(d=a.conditions)||null==(d=d.actions)||null==(d=d.values)?void 0:d.length)>0&&(null==(e=this.sr)||e.register(a.conditions.actions.values),null==(f=a.conditions)||null==(f=f.actions)||null==(f=f.values)||f.forEach(b=>{if(b&&b.name){var c=this.ir.get(b.name);c&&c.push(a.id),this.ir.set(b.name,c||[a.id])}}))}))}er(a){var b;0!==a.filter(a=>{var b,c;return(null==(b=a.conditions)?void 0:b.events)&&(null==(c=a.conditions)||null==(c=c.events)||null==(c=c.values)?void 0:c.length)>0}).length&&(null==(b=this._instance)||b.Ve((a,b)=>{this.onEvent(a,b)}),a.forEach(a=>{var b;null==(b=a.conditions)||null==(b=b.events)||null==(b=b.values)||b.forEach(b=>{if(b&&b.name){var c=this.tr.get(b.name);c&&c.push(a.id),this.tr.set(b.name,c||[a.id])}})}))}onEvent(a,b){var c,d=(null==(c=this._instance)||null==(c=c.persistence)?void 0:c.props[aI])||[];if("survey shown"===a&&b&&d.length>0){e6.info("survey event matched, removing survey from activated surveys",{event:a,eventPayload:b,existingActivatedSurveys:d});var e,f=null==b||null==(e=b.properties)?void 0:e.$survey_id;if(f){var g=d.indexOf(f);g>=0&&(d.splice(g,1),this.nr(d))}}else this.tr.has(a)&&(e6.info("survey event matched, updating activated surveys",{event:a,surveys:this.tr.get(a)}),this.nr(d.concat(this.tr.get(a)||[])))}onAction(a){var b,c=(null==(b=this._instance)||null==(b=b.persistence)?void 0:b.props[aI])||[];this.ir.has(a)&&this.nr(c.concat(this.ir.get(a)||[]))}nr(a){var b;null==(b=this._instance)||null==(b=b.persistence)||b.register({[aI]:[...new Set(a)]})}getSurveys(){var a;return(null==(a=this._instance)||null==(a=a.persistence)?void 0:a.props[aI])||[]}getEventToSurveys(){return this.tr}ar(){return this.sr}}class fb{constructor(a){this.lr=void 0,this._surveyManager=null,this.ur=!1,this.hr=!1,this.dr=[],this._instance=a,this._surveyEventReceiver=null}onRemoteConfig(a){var b=a.surveys;if(K(b))return e6.warn("Flags not loaded yet. Not loading surveys.");var c=C(b);this.lr=c?b.length>0:b,e6.info("flags response received, isSurveysEnabled: "+this.lr),this.loadIfEnabled()}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var a=[],b=0;b<localStorage.length;b++){var c=localStorage.key(b);(null!=c&&c.startsWith(e7)||null!=c&&c.startsWith("inProgressSurvey_"))&&a.push(c)}a.forEach(a=>localStorage.removeItem(a))}loadIfEnabled(){if(!this._surveyManager)if(this.hr)e6.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)e6.info("Disabled. Not loading surveys.");else if(this._instance.config.cookieless_mode)e6.info("Not loading surveys in cookieless mode.");else{var a=null==p?void 0:p.__PosthogExtensions__;if(a){if(!G(this.lr)||this._instance.config.advanced_enable_surveys){var b=this.lr||this._instance.config.advanced_enable_surveys;this.hr=!0;try{var c=a.generateSurveys;if(c)return void this.vr(c,b);var d=a.loadExternalDependency;if(!d)return void this.cr("PostHog loadExternalDependency extension not found.");d(this._instance,"surveys",c=>{c||!a.generateSurveys?this.cr("Could not load surveys script",c):this.vr(a.generateSurveys,b)})}catch(a){throw this.cr("Error initializing surveys",a),a}finally{this.hr=!1}}}else e6.error("PostHog Extensions not found.")}}vr(a,b){this._surveyManager=a(this._instance,b),this._surveyEventReceiver=new fa(this._instance),e6.info("Surveys loaded successfully"),this.pr({isLoaded:!0})}cr(a,b){e6.error(a,b),this.pr({isLoaded:!1,error:a})}onSurveysLoaded(a){return this.dr.push(a),this._surveyManager&&this.pr({isLoaded:!0}),()=>{this.dr=this.dr.filter(b=>b!==a)}}getSurveys(a,b){if(void 0===b&&(b=!1),this._instance.config.disable_surveys)return e6.info("Disabled. Not loading surveys."),a([]);var c=this._instance.get_property(aH);if(c&&!b)return a(c,{isLoaded:!0});if(this.ur)return a([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.ur=!0,this._instance.Pe({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:b=>{this.ur=!1;var c=b.statusCode;if(200!==c||!b.json){var d="Surveys API could not be loaded, status: "+c;return e6.error(d),a([],{isLoaded:!1,error:d})}var e,f,g=b.json.surveys||[],h=g.filter(a=>{var b,c;return!(!a.start_date||a.end_date)&&(!(null==(b=a.conditions)||null==(b=b.events)||null==(b=b.values)||!b.length)||!(null==(c=a.conditions)||null==(c=c.actions)||null==(c=c.values)||!c.length))});return h.length>0&&(null==(f=this._surveyEventReceiver)||f.register(h)),null==(e=this._instance.persistence)||e.register({[aH]:g}),a(g,{isLoaded:!0})}})}catch(a){throw this.ur=!1,a}}pr(a){for(var b of this.dr)try{if(!a.isLoaded)return b([],a);this.getSurveys(b)}catch(a){e6.error("Error in survey callback",a)}}getActiveMatchingSurveys(a,b){if(void 0===b&&(b=!1),!K(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(a,b);e6.warn("init was not called")}_r(a){var b=null;return this.getSurveys(c=>{var d;b=null!=(d=c.find(b=>b.id===a))?d:null}),b}gr(a){if(K(this._surveyManager))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var b="string"==typeof a?this._r(a):a;return b?this._surveyManager.checkSurveyEligibility(b):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(a){if(K(this._surveyManager))return e6.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var b=this.gr(a);return{visible:b.eligible,disabledReason:b.reason}}canRenderSurveyAsync(a,b){return K(this._surveyManager)?(e6.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise(c=>{this.getSurveys(b=>{var d,e=null!=(d=b.find(b=>b.id===a))?d:null;if(e){var f=this.gr(e);c({visible:f.eligible,disabledReason:f.reason})}else c({visible:!1,disabledReason:"Survey not found"})},b)})}renderSurvey(a,b){if(K(this._surveyManager))e6.warn("init was not called");else{var c=this._r(a);if(c)if(e9.includes(c.type)){var d=null==j?void 0:j.querySelector(b);d?this._surveyManager.renderSurvey(c,d):e6.warn("Survey element not found")}else e6.warn("Surveys of type "+c.type+" cannot be rendered in the app");else e6.warn("Survey not found")}}}var fc=Q("[RateLimiter]");class fd{constructor(a){var b,c;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=a=>{var b=a.text;if(b&&b.length)try{(JSON.parse(b).quota_limited||[]).forEach(a=>{fc.info((a||"events")+" is quota limited."),this.serverLimits[a]=(new Date).getTime()+6e4})}catch(a){return void fc.warn('could not rate limit - continuing. Error: "'+(null==a?void 0:a.message)+'"',{text:b})}},this.instance=a,this.captureEventsPerSecond=(null==(b=a.config.rate_limiting)?void 0:b.events_per_second)||10,this.captureEventsBurstLimit=Math.max((null==(c=a.config.rate_limiting)?void 0:c.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(a){void 0===a&&(a=!1);var b,c,d,e=(new Date).getTime(),f=null!=(b=null==(c=this.instance.persistence)?void 0:c.get_property(aM))?b:{tokens:this.captureEventsBurstLimit,last:e};f.tokens+=(e-f.last)/1e3*this.captureEventsPerSecond,f.last=e,f.tokens>this.captureEventsBurstLimit&&(f.tokens=this.captureEventsBurstLimit);var g=f.tokens<1;return g||a||(f.tokens=Math.max(0,f.tokens-1)),!g||this.lastEventRateLimited||a||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=g,null==(d=this.instance.persistence)||d.set_property(aM,f),{isRateLimited:g,remainingTokens:f.tokens}}isServerRateLimited(a){var b=this.serverLimits[a||"events"]||!1;return!1!==b&&(new Date).getTime()<b}}var fe=Q("[RemoteConfig]");class ff{constructor(a){this._instance=a}get remoteConfig(){var a;return null==(a=p._POSTHOG_REMOTE_CONFIG)||null==(a=a[this._instance.config.token])?void 0:a.config}mr(a){var b,c;null!=(b=p.__PosthogExtensions__)&&b.loadExternalDependency?null==(c=p.__PosthogExtensions__)||null==c.loadExternalDependency||c.loadExternalDependency(this._instance,"remote-config",()=>a(this.remoteConfig)):(fe.error("PostHog Extensions not found. Cannot load remote config."),a())}br(a){this._instance.Pe({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:b=>{a(b.json)}})}load(){try{if(this.remoteConfig)return fe.info("Using preloaded remote config",this.remoteConfig),void this.Re(this.remoteConfig);if(this._instance.I())return void fe.warn("Remote config is disabled. Falling back to local config.");this.mr(a=>{if(!a)return fe.info("No config found after loading remote JS config. Falling back to JSON."),void this.br(a=>{this.Re(a)});this.Re(a)})}catch(a){fe.error("Error loading remote config",a)}}Re(a){a?this._instance.config.__preview_remote_config?(this._instance.Re(a),!1!==a.hasFeatureFlags&&this._instance.featureFlags.ensureFlagsLoaded()):fe.info("__preview_remote_config is disabled. Logging config instead",a):fe.error("Failed to fetch remote config from PostHog.")}}class fg{constructor(a,b){this.yr=!0,this.wr=[],this.Sr=bP((null==b?void 0:b.flush_interval_ms)||3e3,250,5e3,"flush interval",3e3),this.$r=a}enqueue(a){this.wr.push(a),this.kr||this.Er()}unload(){this.Ir();var a=Object.values(this.wr.length>0?this.Pr():{});[...a.filter(a=>0===a.url.indexOf("/e")),...a.filter(a=>0!==a.url.indexOf("/e"))].map(a=>{this.$r(T({},a,{transport:"sendBeacon"}))})}enable(){this.yr=!1,this.Er()}Er(){var a=this;this.yr||(this.kr=setTimeout(()=>{if(this.Ir(),this.wr.length>0){var b=this.Pr();for(var c in b)!function(){var d=b[c],e=(new Date).getTime();d.data&&C(d.data)&&X(d.data,a=>{a.offset=Math.abs(a.timestamp-e),delete a.timestamp}),a.$r(d)}()}},this.Sr))}Ir(){clearTimeout(this.kr),this.kr=void 0}Pr(){var a={};return X(this.wr,b=>{var c,d=(b?b.batchKey:null)||b.url;G(a[d])&&(a[d]=T({},b,{data:[]})),null==(c=a[d].data)||c.push(b.data)}),this.wr=[],a}}var fh=["retriesPerformedSoFar"];class fi{constructor(a){this.Rr=!1,this.Tr=3e3,this.wr=[],this._instance=a,this.wr=[],this.Cr=!0,!G(d)&&"onLine"in d.navigator&&(this.Cr=d.navigator.onLine,ae(d,"online",()=>{this.Cr=!0,this.se()}),ae(d,"offline",()=>{this.Cr=!1}))}get length(){return this.wr.length}retriableRequest(a){var{retriesPerformedSoFar:b}=a,c=U(a,fh);L(b)&&b>0&&(c.url=dL(c.url,{retry_count:b})),this._instance.Pe(T({},c,{callback:a=>{200!==a.statusCode&&(a.statusCode<400||a.statusCode>=500)&&(null!=b?b:0)<10?this.Mr(T({retriesPerformedSoFar:b},c)):null==c.callback||c.callback(a)}}))}Mr(a){var b,c,d,e=a.retriesPerformedSoFar||0;a.retriesPerformedSoFar=e+1;var f=(d=(Math.random()-.5)*((c=Math.min(18e5,b=3e3*Math.pow(2,e)))-b/2),Math.ceil(c+d)),g=Date.now()+f;this.wr.push({retryAt:g,requestOptions:a});var h="Enqueued failed request for retry in "+f;navigator.onLine||(h+=" (Browser is offline)"),P.warn(h),this.Rr||(this.Rr=!0,this.Fr())}Fr(){this.Or&&clearTimeout(this.Or),this.Or=setTimeout(()=>{this.Cr&&this.wr.length>0&&this.se(),this.Fr()},this.Tr)}se(){var a=Date.now(),b=[],c=this.wr.filter(c=>c.retryAt<a||(b.push(c),!1));if(this.wr=b,c.length>0)for(var{requestOptions:d}of c)this.retriableRequest(d)}unload(){for(var{requestOptions:a}of(this.Or&&(clearTimeout(this.Or),this.Or=void 0),this.wr))try{this._instance.Pe(T({},a,{transport:"sendBeacon"}))}catch(a){P.error(a)}this.wr=[]}}class fj{constructor(a){this.Ar=()=>{this.Dr||(this.Dr={});var a,b,c,d,e=this.scrollElement(),f=this.scrollY(),g=e?Math.max(0,e.scrollHeight-e.clientHeight):0,h=f+((null==e?void 0:e.clientHeight)||0),i=(null==e?void 0:e.scrollHeight)||0;this.Dr.lastScrollY=Math.ceil(f),this.Dr.maxScrollY=Math.max(f,null!=(a=this.Dr.maxScrollY)?a:0),this.Dr.maxScrollHeight=Math.max(g,null!=(b=this.Dr.maxScrollHeight)?b:0),this.Dr.lastContentY=h,this.Dr.maxContentY=Math.max(h,null!=(c=this.Dr.maxContentY)?c:0),this.Dr.maxContentHeight=Math.max(i,null!=(d=this.Dr.maxContentHeight)?d:0)},this._instance=a}getContext(){return this.Dr}resetContext(){var a=this.Dr;return setTimeout(this.Ar,0),a}startMeasuringScrollPosition(){ae(d,"scroll",this.Ar,{capture:!0}),ae(d,"scrollend",this.Ar,{capture:!0}),ae(d,"resize",this.Ar)}scrollElement(){if(!this._instance.config.scroll_root_selector)return null==d?void 0:d.document.documentElement;for(var a of C(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector]){var b=null==d?void 0:d.document.querySelector(a);if(b)return b}}scrollY(){if(this._instance.config.scroll_root_selector){var a=this.scrollElement();return a&&a.scrollTop||0}return d&&(d.scrollY||d.pageYOffset||d.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var a=this.scrollElement();return a&&a.scrollLeft||0}return d&&(d.scrollX||d.pageXOffset||d.document.documentElement.scrollLeft)||0}}var fk=a=>eP(null==a?void 0:a.config.mask_personal_data_properties,null==a?void 0:a.config.custom_personal_data_properties);class fl{constructor(a,b,c,d){this.jr=a=>{var b=this.Lr();if(!b||b.sessionId!==a){var c={sessionId:a,props:this.Nr(this._instance)};this.zr.register({[aL]:c})}},this._instance=a,this.Ur=b,this.zr=c,this.Nr=d||fk,this.Ur.onSessionId(this.jr)}Lr(){return this.zr.props[aL]}getSetOnceProps(){var a,b=null==(a=this.Lr())?void 0:a.props;return b?"r"in b?eQ(b):{$referring_domain:b.referringDomain,$pathname:b.initialPathName,utm_source:b.utm_source,utm_campaign:b.utm_campaign,utm_medium:b.utm_medium,utm_content:b.utm_content,utm_term:b.utm_term}:{}}getSessionProps(){var a={};return X(ab(this.getSetOnceProps()),(b,c)=>{"$current_url"===c&&(c="url"),a["$session_entry_"+x(c)]=b}),a}}var fm=Q("[SessionId]");class fn{constructor(a,b,c){if(this.qr=[],this.Br=(a,b)=>Math.abs(a-b)>this.sessionTimeoutMs,!a.persistence)throw Error("SessionIdManager requires a PostHogPersistence instance");if("always"===a.config.cookieless_mode)throw Error('SessionIdManager cannot be used with cookieless_mode="always"');this.S=a.config,this.zr=a.persistence,this.fi=void 0,this.Mt=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Hr=b||bw,this.Wr=c||bw;var d,e=this.S.persistence_name||this.S.token,f=this.S.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*bP(f,60,36e3,"session_idle_timeout_seconds",1800),a.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Gr(),this.Jr="ph_"+e+"_window_id",this.Vr="ph_"+e+"_primary_window_exists",this.Kr()){var g=bI.j(this.Jr),h=bI.j(this.Vr);g&&!h?this.fi=g:bI.N(this.Jr),bI.L(this.Vr,!0)}if(null!=(d=this.S.bootstrap)&&d.sessionID)try{var i=(a=>{var b=a.replace(/-/g,"");if(32!==b.length)throw Error("Not a valid UUID");if("7"!==b[12])throw Error("Not a UUIDv7");return parseInt(b.substring(0,12),16)})(this.S.bootstrap.sessionID);this.Yr(this.S.bootstrap.sessionID,(new Date).getTime(),i)}catch(a){fm.error("Invalid sessionID in bootstrap",a)}this.Xr()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(a){return G(this.qr)&&(this.qr=[]),this.qr.push(a),this.Mt&&a(this.Mt,this.fi),()=>{this.qr=this.qr.filter(b=>b!==a)}}Kr(){return"memory"!==this.S.persistence&&!this.zr.Ae&&bI.O()}Qr(a){a!==this.fi&&(this.fi=a,this.Kr()&&bI.L(this.Jr,a))}Zr(){return this.fi?this.fi:this.Kr()?bI.j(this.Jr):null}Yr(a,b,c){a===this.Mt&&b===this._sessionActivityTimestamp&&c===this._sessionStartTimestamp||(this._sessionStartTimestamp=c,this._sessionActivityTimestamp=b,this.Mt=a,this.zr.register({[ay]:[b,a,c]}))}ts(){if(this.Mt&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this.Mt,this._sessionStartTimestamp];var a=this.zr.props[ay];return C(a)&&2===a.length&&a.push(a[0]),a||[0,null,0]}resetSessionId(){this.Yr(null,null,null)}Xr(){ae(d,"beforeunload",()=>{this.Kr()&&bI.N(this.Vr)},{capture:!1})}checkAndGetSessionAndWindowId(a,b){if(void 0===a&&(a=!1),void 0===b&&(b=null),"always"===this.S.cookieless_mode)throw Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode="always"');var c=b||(new Date).getTime(),[d,e,f]=this.ts(),g=this.Zr(),h=L(f)&&f>0&&Math.abs(c-f)>864e5,i=!1,j=!e,k=!a&&this.Br(c,d);j||k||h?(e=this.Hr(),g=this.Wr(),fm.info("new session ID generated",{sessionId:e,windowId:g,changeReason:{noSessionId:j,activityTimeout:k,sessionPastMaximumLength:h}}),f=c,i=!0):g||(g=this.Wr(),i=!0);var l=0===d||!a||h?c:d,m=0===f?(new Date).getTime():f;return this.Qr(g),this.Yr(e,l,m),a||this.Gr(),i&&this.qr.forEach(a=>a(e,g,i?{noSessionId:j,activityTimeout:k,sessionPastMaximumLength:h}:void 0)),{sessionId:e,windowId:g,sessionStartTimestamp:m,changeReason:i?{noSessionId:j,activityTimeout:k,sessionPastMaximumLength:h}:void 0,lastActivityTimestamp:d}}Gr(){clearTimeout(this.es),this.es=setTimeout(()=>{var[a]=this.ts();this.Br((new Date).getTime(),a)&&this.resetSessionId()},1.1*this.sessionTimeoutMs)}}var fo=["$set_once","$set"],fp=Q("[SiteApps]");class fq{constructor(a){this._instance=a,this.rs=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}ss(a,b){if(b){var c=this.globalsForEvent(b);this.rs.push(c),this.rs.length>1e3&&(this.rs=this.rs.slice(10))}}get siteAppLoaders(){var a;return null==(a=p._POSTHOG_REMOTE_CONFIG)||null==(a=a[this._instance.config.token])?void 0:a.siteApps}init(){if(this.isEnabled){var a=this._instance.Ve(this.ss.bind(this));this.ns=()=>{a(),this.rs=[],this.ns=void 0}}}globalsForEvent(a){if(!a)throw Error("Event payload is required");var b,c,d,e,f,g,h,i={},j=this._instance.get_property("$groups")||[];for(var[k,l]of Object.entries(this._instance.get_property("$stored_group_properties")||{}))i[k]={id:j[k],type:k,properties:l};var{$set_once:m,$set:n}=a;return{event:T({},U(a,fo),{properties:T({},a.properties,n?{$set:T({},null!=(b=null==(c=a.properties)?void 0:c.$set)?b:{},n)}:{},m?{$set_once:T({},null!=(d=null==(e=a.properties)?void 0:e.$set_once)?d:{},m)}:{}),elements_chain:null!=(f=null==(g=a.properties)?void 0:g.$elements_chain)?f:"",distinct_id:null==(h=a.properties)?void 0:h.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:i}}setupSiteApp(a){var b=this.apps[a.id],c=()=>{var c;!b.errored&&this.rs.length&&(fp.info("Processing "+this.rs.length+" events for site app with id "+a.id),this.rs.forEach(a=>null==b.processEvent?void 0:b.processEvent(a)),b.processedBuffer=!0),Object.values(this.apps).every(a=>a.processedBuffer||a.errored)&&(null==(c=this.ns)||c.call(this))},d=!1,e=e=>{b.errored=!e,b.loaded=!0,fp.info("Site app with id "+a.id+" "+(e?"loaded":"errored")),d&&c()};try{var{processEvent:f}=a.init({posthog:this._instance,callback:a=>{e(a)}});f&&(b.processEvent=f),d=!0}catch(b){fp.error("Error while initializing PostHog app with config id "+a.id,b),e(!1)}if(d&&b.loaded)try{c()}catch(c){fp.error("Error while processing buffered events PostHog app with config id "+a.id,c),b.errored=!0}}os(){var a=this.siteAppLoaders||[];for(var b of a)this.apps[b.id]={id:b.id,loaded:!1,errored:!1,processedBuffer:!1};for(var c of a)this.setupSiteApp(c)}ls(a){if(0!==Object.keys(this.apps).length){var b=this.globalsForEvent(a);for(var c of Object.values(this.apps))try{null==c.processEvent||c.processEvent(b)}catch(b){fp.error("Error while processing event "+a.event+" for site app "+c.id,b)}}}onRemoteConfig(a){var b,c,d,e=this;if(null!=(b=this.siteAppLoaders)&&b.length)return this.isEnabled?(this.os(),void this._instance.on("eventCaptured",a=>this.ls(a))):void fp.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if(null==(c=this.ns)||c.call(this),null!=(d=a.siteApps)&&d.length)if(this.isEnabled){var f=function(a){var b;p["__$$ph_site_app_"+a]=e._instance,null==(b=p.__PosthogExtensions__)||null==b.loadSiteApp||b.loadSiteApp(e._instance,h,b=>{if(b)return fp.error("Error while initializing PostHog app with config id "+a,b)})};for(var{id:g,url:h}of a.siteApps)f(g)}else fp.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var fr=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercel-screenshot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],fs=function(a,b){if(!a)return!1;var c=a.toLowerCase();return fr.concat(b||[]).some(a=>{var b=a.toLowerCase();return -1!==c.indexOf(b)})},ft=function(a,b){if(!a)return!1;var c=a.userAgent;if(c&&fs(c,b))return!0;try{var d=null==a?void 0:a.userAgentData;if(null!=d&&d.brands&&d.brands.some(a=>fs(null==a?void 0:a.brand,b)))return!0}catch(a){}return!!a.webdriver},fu=function(a){return a.US="us",a.EU="eu",a.CUSTOM="custom",a}({}),fv="i.posthog.com";class fw{constructor(a){this.us={},this.instance=a}get apiHost(){var a=this.instance.config.api_host.trim().replace(/\/$/,"");return"https://app.posthog.com"===a?"https://us.i.posthog.com":a}get uiHost(){var a,b=null==(a=this.instance.config.ui_host)?void 0:a.replace(/\/$/,"");return b||(b=this.apiHost.replace("."+fv,".posthog.com")),"https://app.posthog.com"===b?"https://us.posthog.com":b}get region(){return this.us[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.us[this.apiHost]=fu.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.us[this.apiHost]=fu.EU:this.us[this.apiHost]=fu.CUSTOM),this.us[this.apiHost]}endpointFor(a,b){if(void 0===b&&(b=""),b&&(b="/"===b[0]?b:"/"+b),"ui"===a)return this.uiHost+b;if(this.region===fu.CUSTOM)return this.apiHost+b;var c=fv+b;switch(a){case"assets":return"https://"+this.region+"-assets."+c;case"api":return"https://"+this.region+"."+c}}}var fx={icontains:(a,b)=>!!d&&b.href.toLowerCase().indexOf(a.toLowerCase())>-1,not_icontains:(a,b)=>!!d&&-1===b.href.toLowerCase().indexOf(a.toLowerCase()),regex:(a,b)=>!!d&&dP(b.href,a),not_regex:(a,b)=>!!d&&!dP(b.href,a),exact:(a,b)=>b.href===a,is_not:(a,b)=>b.href!==a};class fy{constructor(a){var b=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(a){void 0===a&&(a=!1),b.getWebExperiments(a=>{fy.hs("retrieved web experiments from the server"),b.ds=new Map,a.forEach(a=>{if(a.feature_flag_key){b.ds&&(fy.hs("setting flag key ",a.feature_flag_key," to web experiment ",a),null==(c=b.ds)||c.set(a.feature_flag_key,a));var c,d=b._instance.getFeatureFlag(a.feature_flag_key);H(d)&&a.variants[d]&&b.vs(a.name,d,a.variants[d].transforms)}else if(a.variants)for(var e in a.variants){var f=a.variants[e];fy.cs(f)&&b.vs(a.name,e,f.transforms)}})},a)},this._instance=a,this._instance.onFeatureFlags(a=>{this.onFeatureFlags(a)})}onFeatureFlags(a){if(this._is_bot())fy.hs("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(K(this.ds))return this.ds=new Map,this.loadIfEnabled(),void this.previewWebExperiment();fy.hs("applying feature flags",a),a.forEach(a=>{var b;if(this.ds&&null!=(b=this.ds)&&b.has(a)){var c,d=this._instance.getFeatureFlag(a),e=null==(c=this.ds)?void 0:c.get(a);d&&null!=e&&e.variants[d]&&this.vs(e.name,d,e.variants[d].transforms)}})}}previewWebExperiment(){var a=fy.getWindowLocation();if(null!=a&&a.search){var b=bk(null==a?void 0:a.search,"__experiment_id"),c=bk(null==a?void 0:a.search,"__experiment_variant");b&&c&&(fy.hs("previewing web experiments "+b+" && "+c),this.getWebExperiments(a=>{this.fs(parseInt(b),c,a)},!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(a,b,c){if(this._instance.config.disable_web_experiments&&!c)return a([]);var d=this._instance.get_property("$web_experiments");if(d&&!b)return a(d);this._instance.Pe({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:b=>200===b.statusCode&&b.json?a(b.json.experiments||[]):a([])})}fs(a,b,c){var d=c.filter(b=>b.id===a);d&&d.length>0&&(fy.hs("Previewing web experiment ["+d[0].name+"] with variant ["+b+"]"),this.vs(d[0].name,b,d[0].variants[b].transforms))}static cs(a){return!K(a.conditions)&&fy.ps(a)&&fy._s(a)}static ps(a){if(K(a.conditions)||K(null==(b=a.conditions)?void 0:b.url))return!0;var b,c,d,e,f=fy.getWindowLocation();return!!f&&(null==(c=a.conditions)||!c.url||fx[null!=(d=null==(e=a.conditions)?void 0:e.urlMatchType)?d:"icontains"](a.conditions.url,f))}static getWindowLocation(){return null==d?void 0:d.location}static _s(a){if(K(a.conditions)||K(null==(c=a.conditions)?void 0:c.utm))return!0;var b=eK();if(b.utm_source){var c,d,e,f,g,h,i,j,k,l=null==(d=a.conditions)||null==(d=d.utm)||!d.utm_campaign||(null==(e=a.conditions)||null==(e=e.utm)?void 0:e.utm_campaign)==b.utm_campaign,m=null==(f=a.conditions)||null==(f=f.utm)||!f.utm_source||(null==(g=a.conditions)||null==(g=g.utm)?void 0:g.utm_source)==b.utm_source,n=null==(h=a.conditions)||null==(h=h.utm)||!h.utm_medium||(null==(i=a.conditions)||null==(i=i.utm)?void 0:i.utm_medium)==b.utm_medium,o=null==(j=a.conditions)||null==(j=j.utm)||!j.utm_term||(null==(k=a.conditions)||null==(k=k.utm)?void 0:k.utm_term)==b.utm_term;return l&&n&&o&&m}return!1}static hs(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];P.info("[WebExperiments] "+a,c)}vs(a,b,c){this._is_bot()?fy.hs("Refusing to render web experiment since the viewer is a likely bot"):"control"!==b?c.forEach(c=>{if(c.selector){fy.hs("applying transform of variant "+b+" for experiment "+a+" ",c);var d,e=null==(d=document)?void 0:d.querySelectorAll(c.selector);null==e||e.forEach(a=>{c.html&&(a.innerHTML=c.html),c.css&&a.setAttribute("style",c.css)})}}):fy.hs("Control variants leave the page unmodified.")}_is_bot(){return i&&this._instance?ft(i,this._instance.config.custom_blocked_useragents):void 0}}var fz=Q("[PostHog ExternalIntegrations]"),fA={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};class fB{constructor(a){this._instance=a}J(a,b){var c;null==(c=p.__PosthogExtensions__)||null==c.loadExternalDependency||c.loadExternalDependency(this._instance,a,a=>{if(a)return fz.error("failed to load script",a);b()})}startIfEnabledOrStop(){var a,b=this,c=function(a){var c,d,f;!e||null!=(c=p.__PosthogExtensions__)&&null!=(c=c.integrations)&&c[a]||b.J(fA[a],()=>{var c;null==(c=p.__PosthogExtensions__)||null==(c=c.integrations)||null==(c=c[a])||c.start(b._instance)}),!e&&null!=(d=p.__PosthogExtensions__)&&null!=(d=d.integrations)&&d[a]&&(null==(f=p.__PosthogExtensions__)||null==(f=f.integrations)||null==(f=f[a])||f.stop())};for(var[d,e]of Object.entries(null!=(a=this._instance.config.integrations)?a:{}))c(d)}}var fC={},fD=()=>{},fE="posthog",fF=!dJ&&-1===(null==o?void 0:o.indexOf("MSIE"))&&-1===(null==o?void 0:o.indexOf("Mozilla")),fG=a=>{var b;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:function(a){var b=null==a?void 0:a.hostname;if(!H(b))return!1;var c=b.split(".").slice(-2).join(".");for(var d of ac)if(c===d)return!1;return!0}(null==j?void 0:j.location),persistence:"localStorage+cookie",persistence_name:"",loaded:fD,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:"2025-05-24"!==a||"history_change",capture_pageleave:"if_capture_pageview",defaults:null!=a?a:"unset",debug:k&&H(null==k?void 0:k.search)&&-1!==k.search.indexOf("__posthog_debug=true")||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:"https:"===(null==d||null==(b=d.location)?void 0:b.protocol),ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:a=>{var b="Bad HTTP status: "+a.statusCode+" "+a.text;P.error(b)},get_device_id:a=>a,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:3e3},error_tracking:{},_onCapture:fD}},fH=a=>{var b={};G(a.process_person)||(b.person_profiles=a.process_person),G(a.xhr_headers)||(b.request_headers=a.xhr_headers),G(a.cookie_name)||(b.persistence_name=a.cookie_name),G(a.disable_cookie)||(b.disable_persistence=a.disable_cookie),G(a.store_google)||(b.save_campaign_params=a.store_google),G(a.verbose)||(b.debug=a.verbose);var c=Y({},b,a);return C(a.property_blacklist)&&(G(a.property_denylist)?c.property_denylist=a.property_blacklist:C(a.property_denylist)?c.property_denylist=[...a.property_blacklist,...a.property_denylist]:P.error("Invalid value for property_denylist config: "+a.property_denylist)),c};class fI{constructor(){this.__forceAllowLocalhost=!1}get gs(){return this.__forceAllowLocalhost}set gs(a){P.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=a}}class fJ{get decideEndpointWasHit(){var a,b;return null!=(a=null==(b=this.featureFlags)?void 0:b.hasLoadedFlags)&&a}get flagsEndpointWasHit(){var a,b;return null!=(a=null==(b=this.featureFlags)?void 0:b.hasLoadedFlags)&&a}constructor(){this.webPerformance=new fI,this.bs=!1,this.version=q.LIB_VERSION,this.ys=new e1,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=fG(),this.SentryIntegration=du,this.sentryIntegration=a=>(function(a,b){var c=dt(a,b);return{name:ds,processEvent:a=>c(a)}})(this,a),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.ws=!1,this.Ss=null,this.$s=null,this.xs=null,this.featureFlags=new e$(this),this.toolbar=new dz(this),this.scrollManager=new fj(this),this.pageViewManager=new dH(this),this.surveys=new fb(this),this.experiments=new fy(this),this.exceptions=new dU(this),this.rateLimiter=new fd(this),this.requestRouter=new fw(this),this.consent=new bK(this),this.externalIntegrations=new fB(this),this.people={set:(a,b,c)=>{var d=H(a)?{[a]:b}:a;this.setPersonProperties(d),null==c||c({})},set_once:(a,b,c)=>{var d=H(a)?{[a]:b}:a;this.setPersonProperties(void 0,d),null==c||c({})}},this.on("eventCaptured",a=>P.info('send "'+(null==a?void 0:a.event)+'"',a))}init(a,b,c){if(c&&c!==fE){var d,e=null!=(d=fC[c])?d:new fJ;return e._init(a,b,c),fC[c]=e,fC[fE][c]=e,e}return this._init(a,b,c)}_init(a,b,c){if(void 0===b&&(b={}),G(a)||I(a))return P.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return P.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this.ks=b,this.Es=[],b.person_profiles&&(this.$s=b.person_profiles),this.set_config(Y({},fG(b.defaults),fH(b),{name:c,token:a})),this.config.on_xhr_error&&P.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=b.disable_compression?void 0:t.GZipJS;var e=this.Is();this.persistence=new e0(this.config,e),this.sessionPersistence="sessionStorage"===this.config.persistence||"memory"===this.config.persistence?this.persistence:new e0(T({},this.config,{persistence:"sessionStorage"}),e);var f=T({},this.persistence.props),g=T({},this.sessionPersistence.props);this.register({$initialization_time:(new Date).toISOString()}),this.Ps=new fg(a=>this.Rs(a),this.config.request_queue_config),this.Ts=new fi(this),this.__request_queue=[];var h="always"===this.config.cookieless_mode||"on_reject"===this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut();if(h||(this.sessionManager=new fn(this),this.sessionPropsManager=new fl(this,this.sessionManager,this.persistence)),new dB(this).startIfEnabledOrStop(),this.siteApps=new fq(this),null==(i=this.siteApps)||i.init(),h||(this.sessionRecording=new dq(this),this.sessionRecording.startIfEnabledOrStop()),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new bp(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new dG(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new dD(this),this.exceptionObserver=new bS(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new bO(this,bN),this.deadClicksAutocapture.startIfEnabled(),this.historyAutocapture=new ce(this),this.historyAutocapture.startIfEnabled(),q.DEBUG=q.DEBUG||this.config.debug,q.DEBUG&&P.info("Starting in debug mode",{this:this,config:b,thisC:T({},this.config),p:f,s:g}),void 0!==(null==(j=b.bootstrap)?void 0:j.distinctID)){var i,j,k,l,m=this.config.get_device_id(bw()),n=null!=(k=b.bootstrap)&&k.isIdentifiedID?m:b.bootstrap.distinctID;this.persistence.set_property(aK,null!=(l=b.bootstrap)&&l.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:b.bootstrap.distinctID,$device_id:n})}if(this.Cs()){var o,p,r=Object.keys((null==(o=b.bootstrap)?void 0:o.featureFlags)||{}).filter(a=>{var c;return!(null==(c=b.bootstrap)||null==(c=c.featureFlags)||!c[a])}).reduce((a,c)=>{var d;return a[c]=(null==(d=b.bootstrap)||null==(d=d.featureFlags)?void 0:d[c])||!1,a},{}),s=Object.keys((null==(p=b.bootstrap)?void 0:p.featureFlagPayloads)||{}).filter(a=>r[a]).reduce((a,c)=>{var d,e;return null!=(d=b.bootstrap)&&null!=(d=d.featureFlagPayloads)&&d[c]&&(a[c]=null==(e=b.bootstrap)||null==(e=e.featureFlagPayloads)?void 0:e[c]),a},{});this.featureFlags.receivedFeatureFlags({featureFlags:r,featureFlagPayloads:s})}if(h)this.register_once({distinct_id:aS,$device_id:null},"");else if(!this.get_distinct_id()){var u=this.config.get_device_id(bw());this.register_once({distinct_id:u,$device_id:u},""),this.persistence.set_property(aK,"anonymous")}return ae(d,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),b.segment?function(a,b){var c=a.config.segment;if(!c)return b();!function(a,b){var c=a.config.segment;if(!c)return b();var d=c=>{var d=()=>c.anonymousId()||bw();a.config.get_device_id=d,c.id()&&(a.register({distinct_id:c.id(),$device_id:d()}),a.persistence.set_property(aK,"identified")),b()},e=c.user();"then"in e&&D(e.then)?e.then(a=>d(a)):d(e)}(a,()=>{var d;c.register((Promise&&Promise.resolve||dr.warn("This browser does not have Promise support, and can not use the segment integration"),d=(b,c)=>{if(!c)return b;b.event.userId||b.event.anonymousId===a.get_distinct_id()||(dr.info("No userId set, resetting PostHog"),a.reset()),b.event.userId&&b.event.userId!==a.get_distinct_id()&&(dr.info("UserId set, identifying with PostHog"),a.identify(b.event.userId));var d=a.calculateEventProperties(c,b.event.properties);return b.event.properties=Object.assign({},d,b.event.properties),b},{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:a=>d(a,a.event.event),page:a=>d(a,"$pageview"),identify:a=>d(a,"$identify"),screen:a=>d(a,"$screen")})).then(()=>{b()})})}(this,()=>this.Ms()):this.Ms(),D(this.config._onCapture)&&this.config._onCapture!==fD&&(P.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",a=>this.config._onCapture(a.event,a))),this.config.ip&&P.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Re(a){var b,c,d,e,f,g,h,i;if(!j||!j.body)return P.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this.Re(a)},500);this.compression=void 0,a.supportedCompression&&!this.config.disable_compression&&(this.compression=v(a.supportedCompression,t.GZipJS)?t.GZipJS:v(a.supportedCompression,t.Base64)?t.Base64:void 0),null!=(b=a.analytics)&&b.endpoint&&(this.analyticsDefaultEndpoint=a.analytics.endpoint),this.set_config({person_profiles:this.$s?this.$s:"identified_only"}),null==(c=this.siteApps)||c.onRemoteConfig(a),null==(d=this.sessionRecording)||d.onRemoteConfig(a),null==(e=this.autocapture)||e.onRemoteConfig(a),null==(f=this.heatmaps)||f.onRemoteConfig(a),this.surveys.onRemoteConfig(a),null==(g=this.webVitalsAutocapture)||g.onRemoteConfig(a),null==(h=this.exceptionObserver)||h.onRemoteConfig(a),this.exceptions.onRemoteConfig(a),null==(i=this.deadClicksAutocapture)||i.onRemoteConfig(a)}Ms(){try{this.config.loaded(this)}catch(a){P.critical("`loaded` function failed",a)}this.Fs(),this.config.capture_pageview&&setTimeout(()=>{this.consent.isOptedIn()&&this.Os()},1),new ff(this).load(),this.featureFlags.flags()}Fs(){var a;this.is_capturing()&&this.config.request_batching&&(null==(a=this.Ps)||a.enable())}_dom_loaded(){this.is_capturing()&&W(this.__request_queue,a=>this.Rs(a)),this.__request_queue=[],this.Fs()}_handle_unload(){var a,b;this.config.request_batching?(this.As()&&this.capture("$pageleave"),null==(a=this.Ps)||a.unload(),null==(b=this.Ts)||b.unload()):this.As()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}Pe(a){this.__loaded&&(fF?this.__request_queue.push(a):this.rateLimiter.isServerRateLimited(a.batchKey)||(a.transport=a.transport||this.config.api_transport,a.url=dL(a.url,{ip:+!!this.config.ip}),a.headers=T({},this.config.request_headers),a.compression="best-available"===a.compression?this.compression:a.compression,a.fetchOptions=a.fetchOptions||this.config.fetch_options,(a=>{var b,c,d,e=T({},a);e.timeout=e.timeout||6e4,e.url=dL(e.url,{_:(new Date).getTime().toString(),ver:q.LIB_VERSION,compression:e.compression});var f=null!=(b=e.transport)?b:"fetch",g=null!=(c=null==(d=ad(dO,a=>a.transport===f))?void 0:d.method)?c:dO[0].method;if(!g)throw Error("No available transport method");g(e)})(T({},a,{callback:b=>{var c,d;this.rateLimiter.checkForLimiting(b),b.statusCode>=400&&(null==(c=(d=this.config).on_request_error)||c.call(d,b)),null==a.callback||a.callback(b)}}))))}Rs(a){this.Ts?this.Ts.retriableRequest(a):this.Pe(a)}_execute_array(a){var b,c=[],d=[],e=[];W(a,a=>{a&&(C(b=a[0])?e.push(a):D(a)?a.call(this):C(a)&&"alias"===b?c.push(a):C(a)&&-1!==b.indexOf("capture")&&D(this[b])?e.push(a):d.push(a))});var f=function(a,b){W(a,function(a){if(C(a[0])){var c=b;X(a,function(a){c=c[a[0]].apply(c,a.slice(1))})}else this[a[0]].apply(this,a.slice(1))},b)};f(c,this),f(d,this),f(e,this)}Cs(){var a,b;return(null==(a=this.config.bootstrap)?void 0:a.featureFlags)&&Object.keys(null==(b=this.config.bootstrap)?void 0:b.featureFlags).length>0||!1}push(a){this._execute_array([a])}capture(a,b,c){var d;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Ps){if(this.is_capturing())if(!G(a)&&H(a)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var e=null!=c&&c.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(null==e||!e.isRateLimited){null!=b&&b.$current_url&&!H(null==b?void 0:b.$current_url)&&(P.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),null==b||delete b.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var f=new Date,g=(null==c?void 0:c.timestamp)||f,h=bw(),i={uuid:h,event:a,properties:this.calculateEventProperties(a,b||{},g,h)};e&&(i.properties.$lib_rate_limit_remaining_tokens=e.remainingTokens),(null==c?void 0:c.$set)&&(i.$set=null==c?void 0:c.$set);var j,k=this.Ds(null==c?void 0:c.$set_once);if(k&&(i.$set_once=k),(l=i,m=null!=c&&c._noTruncate?null:this.config.properties_string_max_length,n=a=>H(a)&&!J(m)?a.slice(0,m):a,o=new Set,i=function a(b,c){var d;return b!==Object(b)?n?n(b,c):b:o.has(b)?void 0:(o.add(b),C(b)?(d=[],W(b,b=>{d.push(a(b))})):(d={},X(b,(b,c)=>{o.has(b)||(d[c]=a(b,c))})),d)}(l)).timestamp=g,G(null==c?void 0:c.timestamp)||(i.properties.$event_time_override_provided=!0,i.properties.$event_time_override_system_time=f),a===e4.DISMISSED||a===e4.SENT){var l,m,n,o,p,q,r,s=null==b?void 0:b[e5.SURVEY_ID],t=null==b?void 0:b[e5.SURVEY_ITERATION];j={id:s,current_iteration:t},localStorage.getItem(e8(j))||localStorage.setItem(e8(j),"true"),i.$set=T({},i.$set,{[(p={id:s,current_iteration:t},r="$survey_"+(q=a===e4.SENT?"responded":"dismissed")+"/"+p.id,p.current_iteration&&p.current_iteration>0&&(r="$survey_"+q+"/"+p.id+"/"+p.current_iteration),r)]:!0})}var u=T({},i.properties.$set,i.$set);if(F(u)||this.setPersonPropertiesForFlags(u),!K(this.config.before_send)){var v=this.js(i);if(!v)return;i=v}this.ys.emit("eventCaptured",i);var w={method:"POST",url:null!=(d=null==c?void 0:c._url)?d:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:i,compression:"best-available",batchKey:null==c?void 0:c._batchKey};return!this.config.request_batching||c&&(null==c||!c._batchKey)||null!=c&&c.send_instantly?this.Rs(w):this.Ps.enqueue(w),i}P.critical("This capture call is ignored due to client rate limiting.")}}else P.error("No event name provided to posthog.capture")}else P.uninitializedWarning("posthog.capture")}Ve(a){return this.on("eventCaptured",b=>a(b.event,b))}calculateEventProperties(a,b,c,e,f){if(c=c||new Date,!this.persistence||!this.sessionPersistence)return b;var g,h=f?void 0:this.persistence.remove_event_timer(a),i=T({},b);if(i.token=this.config.token,i.$config_defaults=this.config.defaults,("always"==this.config.cookieless_mode||"on_reject"==this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut())&&(i.$cookieless_mode=!0),"$snapshot"===a){var l=T({},this.persistence.properties(),this.sessionPersistence.properties());return i.distinct_id=l.distinct_id,(!H(i.distinct_id)&&!L(i.distinct_id)||I(i.distinct_id))&&P.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),i}var m,n=function(a,b){if(!o)return{};var c,e,f=a?Z([],eG,b||[]):[],[g,h]=function(a){for(var b=0;b<eD.length;b++){var[c,d]=eD[b],e=c.exec(a),f=e&&(D(d)?d(e,a):d);if(f)return f}return["",""]}(o);return Y(ab({$os:g,$os_version:h,$browser:eA(o,navigator.vendor),$device:eE(o),$device_type:(e=eE(o))===dZ||e===dY||"Kobo"===e||"Kindle Fire"===e||e===er?dX:e===eg||e===ei||e===eh||e===eo?"Console":e===d_?"Wearable":e?dV:"Desktop",$timezone:eR(),$timezone_offset:function(){try{return(new Date).getTimezoneOffset()}catch(a){return}}()}),{$current_url:bl(null==k?void 0:k.href,f,eI),$host:null==k?void 0:k.host,$pathname:null==k?void 0:k.pathname,$raw_user_agent:o.length>1e3?o.substring(0,997)+"...":o,$browser_version:eC(o,navigator.vendor),$browser_language:eN(),$browser_language_prefix:"string"==typeof(c=eN())?c.split("-")[0]:void 0,$screen_height:null==d?void 0:d.screen.height,$screen_width:null==d?void 0:d.screen.width,$viewport_height:null==d?void 0:d.innerHeight,$viewport_width:null==d?void 0:d.innerWidth,$lib:"web",$lib_version:q.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:p,windowId:r}=this.sessionManager.checkAndGetSessionAndWindowId(f,c.getTime());i.$session_id=p,i.$window_id=r}this.sessionPropsManager&&Y(i,this.sessionPropsManager.getSessionProps());try{this.sessionRecording&&Y(i,this.sessionRecording.sdkDebugProperties),i.$sdk_debug_retry_queue_size=null==(g=this.Ts)?void 0:g.length}catch(a){i.$sdk_debug_error_capturing_properties=String(a)}if(this.requestRouter.region===fu.CUSTOM&&(i.$lib_custom_api_host=this.config.api_host),m="$pageview"!==a||f?"$pageleave"!==a||f?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(c):this.pageViewManager.doPageView(c,e),i=Y(i,m),"$pageview"===a&&j&&(i.title=j.title),!G(h)){var s=c.getTime()-h;i.$duration=parseFloat((s/1e3).toFixed(3))}o&&this.config.opt_out_useragent_filter&&(i.$browser_type=this._is_bot()?"bot":"browser"),(i=Y({},n,this.persistence.properties(),this.sessionPersistence.properties(),i)).$is_identified=this._isIdentified(),C(this.config.property_denylist)?X(this.config.property_denylist,function(a){delete i[a]}):P.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var t=this.config.sanitize_properties;t&&(P.error("sanitize_properties is deprecated. Use before_send instead"),i=t(i,a));var u=this.Ls();return i.$process_person_profile=u,u&&!f&&this.Ns("_calculate_event_properties"),i}Ds(a){if(!this.persistence||!this.Ls()||this.bs)return a;var b,c=Y({},this.persistence.get_initial_props(),(null==(b=this.sessionPropsManager)?void 0:b.getSetOnceProps())||{},a||{}),d=this.config.sanitize_properties;return d&&(P.error("sanitize_properties is deprecated. Use before_send instead"),c=d(c,"$set_once")),this.bs=!0,F(c)?void 0:c}register(a,b){var c;null==(c=this.persistence)||c.register(a,b)}register_once(a,b,c){var d;null==(d=this.persistence)||d.register_once(a,b,c)}register_for_session(a){var b;null==(b=this.sessionPersistence)||b.register(a)}unregister(a){var b;null==(b=this.persistence)||b.unregister(a)}unregister_for_session(a){var b;null==(b=this.sessionPersistence)||b.unregister(a)}zs(a,b){this.register({[a]:b})}getFeatureFlag(a,b){return this.featureFlags.getFeatureFlag(a,b)}getFeatureFlagPayload(a){var b=this.featureFlags.getFeatureFlagPayload(a);try{return JSON.parse(b)}catch(a){return b}}isFeatureEnabled(a,b){return this.featureFlags.isFeatureEnabled(a,b)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(a,b,c){this.featureFlags.updateEarlyAccessFeatureEnrollment(a,b,c)}getEarlyAccessFeatures(a,b,c){return void 0===b&&(b=!1),this.featureFlags.getEarlyAccessFeatures(a,b,c)}on(a,b){return this.ys.on(a,b)}onFeatureFlags(a){return this.featureFlags.onFeatureFlags(a)}onSurveysLoaded(a){return this.surveys.onSurveysLoaded(a)}onSessionId(a){var b,c;return null!=(b=null==(c=this.sessionManager)?void 0:c.onSessionId(a))?b:()=>{}}getSurveys(a,b){void 0===b&&(b=!1),this.surveys.getSurveys(a,b)}getActiveMatchingSurveys(a,b){void 0===b&&(b=!1),this.surveys.getActiveMatchingSurveys(a,b)}renderSurvey(a,b){this.surveys.renderSurvey(a,b)}canRenderSurvey(a){return this.surveys.canRenderSurvey(a)}canRenderSurveyAsync(a,b){return void 0===b&&(b=!1),this.surveys.canRenderSurveyAsync(a,b)}identify(a,b,c){if(!this.__loaded||!this.persistence)return P.uninitializedWarning("posthog.identify");if(L(a)&&(a=a.toString(),P.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),a)if(["distinct_id","distinctid"].includes(a.toLowerCase()))P.critical('The string "'+a+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(a!==aS){if(this.Ns("posthog.identify")){var d=this.get_distinct_id();this.register({$user_id:a}),this.get_property("$device_id")||this.register_once({$had_persisted_distinct_id:!0,$device_id:d},""),a!==d&&a!==this.get_property(ag)&&(this.unregister(ag),this.register({distinct_id:a}));var e="anonymous"===(this.persistence.get_property(aK)||"anonymous");a!==d&&e?(this.persistence.set_property(aK,"identified"),this.setPersonPropertiesForFlags(T({},c||{},b||{}),!1),this.capture("$identify",{distinct_id:a,$anon_distinct_id:d},{$set:b||{},$set_once:c||{}}),this.xs=dQ(a,b,c),this.featureFlags.setAnonymousDistinctId(d)):(b||c)&&this.setPersonProperties(b,c),a!==d&&(this.reloadFeatureFlags(),this.unregister(aJ))}}else P.critical('The string "'+aS+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else P.error("Unique user id has not been set in posthog.identify")}setPersonProperties(a,b){if((a||b)&&this.Ns("posthog.setPersonProperties")){var c=dQ(this.get_distinct_id(),a,b);this.xs!==c?(this.setPersonPropertiesForFlags(T({},b||{},a||{})),this.capture("$set",{$set:a||{},$set_once:b||{}}),this.xs=c):P.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(a,b,c){if(a&&b){if(this.Ns("posthog.group")){var d=this.getGroups();d[a]!==b&&this.resetGroupPropertiesForFlags(a),this.register({$groups:T({},d,{[a]:b})}),c&&(this.capture("$groupidentify",{$group_type:a,$group_key:b,$group_set:c}),this.setGroupPropertiesForFlags({[a]:c})),d[a]===b||c||this.reloadFeatureFlags()}}else P.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(a,b){void 0===b&&(b=!0),this.featureFlags.setPersonPropertiesForFlags(a,b)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(a,b){void 0===b&&(b=!0),this.Ns("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(a,b)}resetGroupPropertiesForFlags(a){this.featureFlags.resetGroupPropertiesForFlags(a)}reset(a){if(P.info("reset"),!this.__loaded)return P.uninitializedWarning("posthog.reset");var b,c,d,e,f=this.get_property("$device_id");if(this.consent.reset(),null==(b=this.persistence)||b.clear(),null==(c=this.sessionPersistence)||c.clear(),this.surveys.reset(),this.featureFlags.reset(),null==(d=this.persistence)||d.set_property(aK,"anonymous"),null==(e=this.sessionManager)||e.resetSessionId(),this.xs=null,"always"===this.config.cookieless_mode)this.register_once({distinct_id:aS,$device_id:null},"");else{var g=this.config.get_device_id(bw());this.register_once({distinct_id:g,$device_id:a?g:f},"")}this.register({$last_posthog_reset:(new Date).toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var a,b;return null!=(a=null==(b=this.sessionManager)?void 0:b.checkAndGetSessionAndWindowId(!0).sessionId)?a:""}get_session_replay_url(a){if(!this.sessionManager)return"";var{sessionId:b,sessionStartTimestamp:c}=this.sessionManager.checkAndGetSessionAndWindowId(!0),d=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+b);if(null!=a&&a.withTimestamp&&c){var e,f=null!=(e=a.timestampLookBack)?e:10;if(!c)return d;d+="?t="+Math.max(Math.floor(((new Date).getTime()-c)/1e3)-f,0)}return d}alias(a,b){return a===this.get_property(af)?(P.critical("Attempting to create alias for existing People user - aborting."),-2):this.Ns("posthog.alias")?(G(b)&&(b=this.get_distinct_id()),a!==b?(this.zs(ag,a),this.capture("$create_alias",{alias:a,distinct_id:b})):(P.warn("alias matches current distinct_id - skipping api call."),this.identify(a),-1)):void 0}set_config(a){var b=T({},this.config);if(E(a)){Y(this.config,fH(a));var c,d,e,f,g,h=this.Is();null==(c=this.persistence)||c.update_config(this.config,b,h),this.sessionPersistence="sessionStorage"===this.config.persistence||"memory"===this.config.persistence?this.persistence:new e0(T({},this.config,{persistence:"sessionStorage"}),h),bC.O()&&"true"===bC.D("ph_debug")&&(this.config.debug=!0),this.config.debug&&(q.DEBUG=!0,P.info("set_config",{config:a,oldConfig:b,newConfig:T({},this.config)})),null==(d=this.sessionRecording)||d.startIfEnabledOrStop(),null==(e=this.autocapture)||e.startIfEnabled(),null==(f=this.heatmaps)||f.startIfEnabled(),this.surveys.loadIfEnabled(),this.Us(),null==(g=this.externalIntegrations)||g.startIfEnabledOrStop()}}startSessionRecording(a){var b,c,d,e,f,g=!0===a,h={sampling:g||!(null==a||!a.sampling),linked_flag:g||!(null==a||!a.linked_flag),url_trigger:g||!(null==a||!a.url_trigger),event_trigger:g||!(null==a||!a.event_trigger)};Object.values(h).some(Boolean)&&(null==(b=this.sessionManager)||b.checkAndGetSessionAndWindowId(),h.sampling&&(null==(c=this.sessionRecording)||c.overrideSampling()),h.linked_flag&&(null==(d=this.sessionRecording)||d.overrideLinkedFlag()),h.url_trigger&&(null==(e=this.sessionRecording)||e.overrideTrigger("url")),h.event_trigger&&(null==(f=this.sessionRecording)||f.overrideTrigger("event"))),this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var a;return!(null==(a=this.sessionRecording)||!a.started)}captureException(a,b){var c=Error("PostHog syntheticException");return this.exceptions.sendExceptionEvent(T({},function(a,b){var{error:c,event:d}=a,e={$exception_list:[]},f=c||d;if(bX(f)||bW(f,"DOMException")){if("stack"in f)e=cb(f,b);else{var g=f.name||(bX(f)?"DOMError":"DOMException"),h=f.message?g+": "+f.message:g;e=cc(h,T({},b,{overrideExceptionType:bX(f)?"DOMError":"DOMException",defaultExceptionMessage:h}))}return"code"in f&&(e.$exception_DOMException_code=""+f.code),e}if(bW(f,"ErrorEvent")&&f.error)return cb(f.error,b);if(bV(f))return cb(f,b);if(bW(f,"Object")||bT(f))return function(a,b){var c,d,e,f=null==(d=null==b?void 0:b.handled)||d,g=null==(e=null==b?void 0:b.synthetic)||e,h={type:null!=b&&b.overrideExceptionType?b.overrideExceptionType:bT(a)?a.constructor.name:"Error",value:"Non-Error 'exception' captured with keys: "+function(a,b){void 0===b&&(b=40);var c=Object.keys(a);if(c.sort(),!c.length)return"[object has no keys]";for(var d=c.length;d>0;d--){var e=c.slice(0,d).join(", ");if(!(e.length>b))return d===c.length||e.length<=b?e:e.slice(0,b)+"..."}return""}(a),mechanism:{handled:f,synthetic:g}};if(null!=b&&b.syntheticException){var i=b9(null==b?void 0:b.syntheticException,1);i.length&&(h.stacktrace={frames:i,type:"raw"})}return{$exception_list:[h],$exception_level:H(c=a.level)&&!I(c)&&u.indexOf(c)>=0?a.level:"error"}}(f,b);if(G(c)&&H(d)){var i="Error",j=d,k=d.match(b8);return k&&(i=k[1],j=k[2]),cc(j,T({},b,{overrideExceptionType:i,defaultExceptionMessage:j}))}return cc(f,b)}(a instanceof Error?{error:a,event:a.message}:{event:a},{syntheticException:c}),b))}loadToolbar(a){return this.toolbar.loadToolbar(a)}get_property(a){var b;return null==(b=this.persistence)?void 0:b.props[a]}getSessionProperty(a){var b;return null==(b=this.sessionPersistence)?void 0:b.props[a]}toString(){var a,b=null!=(a=this.config.name)?a:fE;return b!==fE&&(b=fE+"."+b),b}_isIdentified(){var a,b;return"identified"===(null==(a=this.persistence)?void 0:a.get_property(aK))||"identified"===(null==(b=this.sessionPersistence)?void 0:b.get_property(aK))}Ls(){var a,b;return!("never"===this.config.person_profiles||"identified_only"===this.config.person_profiles&&!this._isIdentified()&&F(this.getGroups())&&(null==(a=this.persistence)||null==(a=a.props)||!a[ag])&&(null==(b=this.persistence)||null==(b=b.props)||!b[aQ]))}As(){return!0===this.config.capture_pageleave||"if_capture_pageview"===this.config.capture_pageleave&&(!0===this.config.capture_pageview||"history_change"===this.config.capture_pageview)}createPersonProfile(){this.Ls()||this.Ns("posthog.createPersonProfile")&&this.setPersonProperties({},{})}Ns(a){return"never"===this.config.person_profiles?(P.error(a+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.zs(aQ,!0),!0)}Is(){if("always"===this.config.cookieless_mode)return!0;var a=this.consent.isOptedOut(),b=this.config.opt_out_persistence_by_default||"on_reject"===this.config.cookieless_mode;return this.config.disable_persistence||a&&!!b}Us(){var a,b,c,d,e=this.Is();return(null==(a=this.persistence)?void 0:a.Ae)!==e&&(null==(c=this.persistence)||c.set_disabled(e)),(null==(b=this.sessionPersistence)?void 0:b.Ae)!==e&&(null==(d=this.sessionPersistence)||d.set_disabled(e)),e}opt_in_capturing(a){if("always"!==this.config.cookieless_mode){var b;"on_reject"===this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut()&&(this.reset(!0),this.sessionManager=new fn(this),this.persistence&&(this.sessionPropsManager=new fl(this,this.sessionManager,this.persistence)),this.sessionRecording=new dq(this),this.sessionRecording.startIfEnabledOrStop()),this.consent.optInOut(!0),this.Us(),(G(null==a?void 0:a.captureEventName)||null!=a&&a.captureEventName)&&this.capture(null!=(b=null==a?void 0:a.captureEventName)?b:"$opt_in",null==a?void 0:a.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Os()}else P.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}opt_out_capturing(){var a;"always"!==this.config.cookieless_mode?("on_reject"===this.config.cookieless_mode&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.Us(),"on_reject"===this.config.cookieless_mode&&(this.register({distinct_id:aS,$device_id:null}),this.sessionManager=void 0,this.sessionPropsManager=void 0,null==(a=this.sessionRecording)||a.stopRecording(),this.sessionRecording=void 0,this.Os())):P.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}is_capturing(){return"always"===this.config.cookieless_mode||("on_reject"===this.config.cookieless_mode?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.Us()}_is_bot(){return i?ft(i,this.config.custom_blocked_useragents):void 0}Os(){j&&("visible"===j.visibilityState?this.ws||(this.ws=!0,this.capture("$pageview",{title:j.title},{send_instantly:!0}),this.Ss&&(j.removeEventListener("visibilitychange",this.Ss),this.Ss=null)):this.Ss||(this.Ss=this.Os.bind(this),ae(j,"visibilitychange",this.Ss)))}debug(a){!1===a?(null==d||d.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(null==d||d.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}I(){var a,b,c,d,e=this.ks||{};return"advanced_disable_flags"in e?!!e.advanced_disable_flags:!1!==this.config.advanced_disable_flags?!!this.config.advanced_disable_flags:!0===this.config.advanced_disable_decide?(P.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(b="advanced_disable_decide",c=(a="advanced_disable_flags")in e&&!G(e[a]),d=b in e&&!G(e[b]),c?e[a]:!!d&&(P&&P.warn("Config field '"+b+"' is deprecated. Please use '"+a+"' instead. The old field will be removed in a future major version."),e[b]))}js(a){if(K(this.config.before_send))return a;var b=C(this.config.before_send)?this.config.before_send:[this.config.before_send],c=a;for(var d of b){if(K(c=d(c))){var e="Event '"+a.event+"' was rejected in beforeSend function";return N(a.event)?P.warn(e+". This can cause unexpected behavior."):P.info(e),null}c.properties&&!F(c.properties)||P.warn("Event '"+a.event+"' has no properties after beforeSend function, this is likely an error.")}return c}getPageViewId(){var a;return null==(a=this.pageViewManager.ce)?void 0:a.pageViewId}captureTraceFeedback(a,b){this.capture("$ai_feedback",{$ai_trace_id:String(a),$ai_feedback_text:b})}captureTraceMetric(a,b,c){this.capture("$ai_metric",{$ai_trace_id:String(a),$ai_metric_name:b,$ai_metric_value:String(c)})}}!function(a,b){for(var c=0;c<b.length;c++)a.prototype[b[c]]=aa(a.prototype[b[c]])}(fJ,["identify"]);var fK,fL=(fK=fC[fE]=new fJ,function(){function a(){a.done||(a.done=!0,fF=!1,X(fC,function(a){a._dom_loaded()}))}null!=j&&j.addEventListener?"complete"===j.readyState?a():ae(j,"DOMContentLoaded",a,{capture:!1}):d&&P.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")}(),fK)},7332:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{formatUrl:function(){return f},formatWithValidation:function(){return h},urlObjectKeys:function(){return g}});let d=c(5823)._(c(5238)),e=/https?|ftp|gopher|file/;function f(a){let{auth:b,hostname:c}=a,f=a.protocol||"",g=a.pathname||"",h=a.hash||"",i=a.query||"",j=!1;b=b?encodeURIComponent(b).replace(/%3A/i,":")+"@":"",a.host?j=b+a.host:c&&(j=b+(~c.indexOf(":")?"["+c+"]":c),a.port&&(j+=":"+a.port)),i&&"object"==typeof i&&(i=String(d.urlQueryToSearchParams(i)));let k=a.search||i&&"?"+i||"";return f&&!f.endsWith(":")&&(f+=":"),a.slashes||(!f||e.test(f))&&!1!==j?(j="//"+(j||""),g&&"/"!==g[0]&&(g="/"+g)):j||(j=""),h&&"#"!==h[0]&&(h="#"+h),k&&"?"!==k[0]&&(k="?"+k),""+f+j+(g=g.replace(/[?#]/g,encodeURIComponent))+(k=k.replace("#","%23"))+h}let g=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function h(a){return f(a)}},7377:(a,b)=>{"use strict";function c(a){let b=parseInt(a.slice(0,2),16),c=b>>1&63,d=Array(6);for(let a=0;a<6;a++){let b=c>>5-a&1;d[a]=1===b}return{type:1==(b>>7&1)?"use-cache":"server-action",usedArgs:d,hasRestArgs:1==(1&b)}}function d(a,b){let c=Array(a.length);for(let d=0;d<a.length;d++)(d<6&&b.usedArgs[d]||d>=6&&b.hasRestArgs)&&(c[d]=a[d]);return c}Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{extractInfoFromServerReferenceId:function(){return c},omitUnusedArgs:function(){return d}})},7545:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"isLocalURL",{enumerable:!0,get:function(){return f}});let d=c(1962),e=c(3043);function f(a){if(!(0,d.isAbsoluteUrl)(a))return!0;try{let b=(0,d.getLocationOrigin)(),c=new URL(a,b);return c.origin===b&&(0,e.hasBasePath)(c.pathname)}catch(a){return!1}}},7685:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{GracefulDegradeBoundary:function(){return f},default:function(){return g}});let d=c(1124),e=c(8301);class f extends e.Component{static getDerivedStateFromError(a){return{hasError:!0}}componentDidMount(){let a=this.htmlRef.current;this.state.hasError&&a&&Object.entries(this.htmlAttributes).forEach(b=>{let[c,d]=b;a.setAttribute(c,d)})}render(){let{hasError:a}=this.state;return a?(0,d.jsx)("html",{ref:this.htmlRef,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:this.rootHtml}}):this.props.children}constructor(a){super(a),this.state={hasError:!1},this.rootHtml="",this.htmlAttributes={},this.htmlRef=(0,e.createRef)()}}let g=f;("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},7743:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{prefetchQueue:function(){return f},prefetchReducer:function(){return g}});let d=c(6241),e=c(491),f=new d.PromiseQueue(5),g=function(a,b){(0,e.prunePrefetchCache)(a.prefetchCache);let{url:c}=b;return(0,e.getOrCreatePrefetchCacheEntry)({url:c,nextUrl:a.nextUrl,prefetchCache:a.prefetchCache,kind:b.kind,tree:a.tree,allowAliasing:!0}),a};("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},7854:(a,b,c)=>{"use strict";c.d(b,{so:()=>h});var d=c(7196),e=c(8301),f=c.n(e),g=(0,e.createContext)({client:d.Ay});function h(a){var b=a.children,c=a.client,h=a.apiKey,i=a.options,j=(0,e.useRef)(null),k=(0,e.useMemo)(function(){return c?(h&&console.warn("[PostHog.js] You have provided both `client` and `apiKey` to `PostHogProvider`. `apiKey` will be ignored in favour of `client`."),i&&console.warn("[PostHog.js] You have provided both `client` and `options` to `PostHogProvider`. `options` will be ignored in favour of `client`."),c):(h||console.warn("[PostHog.js] No `apiKey` or `client` were provided to `PostHogProvider`. Using default global `window.posthog` instance. You must initialize it manually. This is not recommended behavior."),d.Ay)},[c,h,JSON.stringify(i)]);return(0,e.useEffect)(function(){if(!c){var a=j.current;a?(h!==a.apiKey&&console.warn("[PostHog.js] You have provided a different `apiKey` to `PostHogProvider` than the one that was already initialized. This is not supported by our provider and we'll keep using the previous key. If you need to toggle between API Keys you need to control the `client` yourself and pass it in as a prop rather than an `apiKey` prop."),i&&!function a(b,c,d){if(void 0===d&&(d=new WeakMap),b===c)return!0;if("object"!=typeof b||null===b||"object"!=typeof c||null===c)return!1;if(d.has(b)&&d.get(b)===c)return!0;d.set(b,c);var e=Object.keys(b),f=Object.keys(c);if(e.length!==f.length)return!1;for(var g=0;g<e.length;g++){var h=e[g];if(!f.includes(h)||!a(b[h],c[h],d))return!1}return!0}(i,a.options)&&d.Ay.set_config(i)):(d.Ay.__loaded&&console.warn("[PostHog.js] `posthog` was already loaded elsewhere. This may cause issues."),d.Ay.init(h,i)),j.current={apiKey:h,options:null!=i?i:{}}}},[c,h,JSON.stringify(i)]),f().createElement(g.Provider,{value:{client:k}},b)}var i=function(a,b){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)};"function"==typeof SuppressedError&&SuppressedError;var j=function(a){return"function"==typeof a},k={componentStack:null,exceptionEvent:null,error:null},l={INVALID_FALLBACK:"[PostHog.js][PostHogErrorBoundary] Invalid fallback prop, provide a valid React element or a function that returns a valid React element."};!function(a){if("function"!=typeof a&&null!==a)throw TypeError("Class extends value "+String(a)+" is not a constructor or null");function b(){this.constructor=c}function c(b){var c=a.call(this,b)||this;return c.state=k,c}i(c,a),c.prototype=null===a?Object.create(a):(b.prototype=a.prototype,new b),c.prototype.componentDidCatch=function(a,b){var c,d=this.props.additionalProperties;j(d)?c=d(a):"object"==typeof d&&(c=d);var e=this.context.client.captureException(a,c),f=b.componentStack;this.setState({error:a,componentStack:f,exceptionEvent:e})},c.prototype.render=function(){var a=this.props,b=a.children,c=a.fallback,d=this.state;if(null==d.componentStack)return j(b)?b():b;var e=j(c)?f().createElement(c,{error:d.error,componentStack:d.componentStack,exceptionEvent:d.exceptionEvent}):c;return f().isValidElement(e)?e:(console.warn(l.INVALID_FALLBACK),f().createElement(f().Fragment,null))},c.contextType=g}(f().Component)},7898:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(3339).A)("git-branch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]])},8065:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"AppRouterAnnouncer",{enumerable:!0,get:function(){return g}});let d=c(8301),e=c(3312),f="next-route-announcer";function g(a){let{tree:b}=a,[c,g]=(0,d.useState)(null);(0,d.useEffect)(()=>(g(function(){var a;let b=document.getElementsByName(f)[0];if(null==b||null==(a=b.shadowRoot)?void 0:a.childNodes[0])return b.shadowRoot.childNodes[0];{let a=document.createElement(f);a.style.cssText="position:absolute";let b=document.createElement("div");return b.ariaLive="assertive",b.id="__next-route-announcer__",b.role="alert",b.style.cssText="position:absolute;border:0;height:1px;margin:-1px;padding:0;width:1px;clip:rect(0 0 0 0);overflow:hidden;white-space:nowrap;word-wrap:normal",a.attachShadow({mode:"open"}).appendChild(b),document.body.appendChild(a),b}}()),()=>{let a=document.getElementsByTagName(f)[0];(null==a?void 0:a.isConnected)&&document.body.removeChild(a)}),[]);let[h,i]=(0,d.useState)(""),j=(0,d.useRef)(void 0);return(0,d.useEffect)(()=>{let a="";if(document.title)a=document.title;else{let b=document.querySelector("h1");b&&(a=b.innerText||b.textContent||"")}void 0!==j.current&&j.current!==a&&i(a),j.current=a},[b]),c?(0,e.createPortal)(h,c):null}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},8151:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{computeChangedPath:function(){return j},extractPathFromFlightRouterState:function(){return i},getSelectedParams:function(){return function a(b,c){for(let d of(void 0===c&&(c={}),Object.values(b[1]))){let b=d[0],f=Array.isArray(b),g=f?b[1]:b;!g||g.startsWith(e.PAGE_SEGMENT_KEY)||(f&&("c"===b[2]||"oc"===b[2])?c[b[0]]=b[1].split("/"):f&&(c[b[0]]=b[1]),c=a(d,c))}return c}}});let d=c(1054),e=c(2454),f=c(3754),g=a=>"string"==typeof a?"children"===a?"":a:a[1];function h(a){return a.reduce((a,b)=>{let c;return""===(b="/"===(c=b)[0]?c.slice(1):c)||(0,e.isGroupSegment)(b)?a:a+"/"+b},"")||"/"}function i(a){var b;let c=Array.isArray(a[0])?a[0][1]:a[0];if(c===e.DEFAULT_SEGMENT_KEY||d.INTERCEPTION_ROUTE_MARKERS.some(a=>c.startsWith(a)))return;if(c.startsWith(e.PAGE_SEGMENT_KEY))return"";let f=[g(c)],j=null!=(b=a[1])?b:{},k=j.children?i(j.children):void 0;if(void 0!==k)f.push(k);else for(let[a,b]of Object.entries(j)){if("children"===a)continue;let c=i(b);void 0!==c&&f.push(c)}return h(f)}function j(a,b){let c=function a(b,c){let[e,h]=b,[j,k]=c,l=g(e),m=g(j);if(d.INTERCEPTION_ROUTE_MARKERS.some(a=>l.startsWith(a)||m.startsWith(a)))return"";if(!(0,f.matchSegment)(e,j)){var n;return null!=(n=i(c))?n:""}for(let b in h)if(k[b]){let c=a(h[b],k[b]);if(null!==c)return g(j)+"/"+c}return null}(a,b);return null==c||"/"===c?c:h(c.split("/"))}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},8430:(a,b)=>{"use strict";function c(a){let b=a.indexOf("#"),c=a.indexOf("?"),d=c>-1&&(b<0||c<b);return d||b>-1?{pathname:a.substring(0,d?c:b),query:d?a.substring(c,b>-1?b:void 0):"",hash:b>-1?a.slice(b):""}:{pathname:a,query:"",hash:""}}Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"parsePath",{enumerable:!0,get:function(){return c}})},8763:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{fillCacheWithNewSubTreeData:function(){return i},fillCacheWithNewSubTreeDataButOnlyLoading:function(){return j}});let d=c(1349),e=c(5939),f=c(5812),g=c(2454);function h(a,b,c,h,i,j){let{segmentPath:k,seedData:l,tree:m,head:n}=h,o=b,p=c;for(let b=0;b<k.length;b+=2){let c=k[b],h=k[b+1],q=b===k.length-2,r=(0,f.createRouterCacheKey)(h),s=p.parallelRoutes.get(c);if(!s)continue;let t=o.parallelRoutes.get(c);t&&t!==s||(t=new Map(s),o.parallelRoutes.set(c,t));let u=s.get(r),v=t.get(r);if(q){if(l&&(!v||!v.lazyData||v===u)){let b=l[0],c=l[1],f=l[3];v={lazyData:null,rsc:j||b!==g.PAGE_SEGMENT_KEY?c:null,prefetchRsc:null,head:null,prefetchHead:null,loading:f,parallelRoutes:j&&u?new Map(u.parallelRoutes):new Map,navigatedAt:a},u&&j&&(0,d.invalidateCacheByRouterState)(v,u,m),j&&(0,e.fillLazyItemsTillLeafWithHead)(a,v,u,m,l,n,i),t.set(r,v)}continue}v&&u&&(v===u&&(v={lazyData:v.lazyData,rsc:v.rsc,prefetchRsc:v.prefetchRsc,head:v.head,prefetchHead:v.prefetchHead,parallelRoutes:new Map(v.parallelRoutes),loading:v.loading},t.set(r,v)),o=v,p=u)}}function i(a,b,c,d,e){h(a,b,c,d,e,!0)}function j(a,b,c,d,e){h(a,b,c,d,e,!1)}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},8975:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(3339).A)("boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]])},9022:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"restoreReducer",{enumerable:!0,get:function(){return f}});let d=c(1830),e=c(8151);function f(a,b){var c;let{url:f,tree:g}=b,h=(0,d.createHrefFromUrl)(f),i=g||a.tree,j=a.cache;return{canonicalUrl:h,pushRef:{pendingPush:!1,mpaNavigation:!1,preserveCustomHistoryState:!0},focusAndScrollRef:a.focusAndScrollRef,cache:j,prefetchCache:a.prefetchCache,tree:i,nextUrl:null!=(c=(0,e.extractPathFromFlightRouterState)(i))?c:f.pathname}}c(1808),("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},9286:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"assignLocation",{enumerable:!0,get:function(){return e}});let d=c(2464);function e(a,b){if(a.startsWith(".")){let c=b.origin+b.pathname;return new URL((c.endsWith("/")?c:c+"/")+a)}return new URL((0,d.addBasePath)(a),b.href)}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},9384:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"default",{enumerable:!0,get:function(){return g}});let d=c(5288),e=c(1124);c(8301),c(7685);let f=c(9753);function g(a){let{children:b,errorComponent:c,errorStyles:d,errorScripts:g}=a;return(0,e.jsx)(f.ErrorBoundary,{errorComponent:c,errorStyles:d,errorScripts:g,children:b})}c(344),("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},9427:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"useMergedRef",{enumerable:!0,get:function(){return e}});let d=c(8301);function e(a,b){let c=(0,d.useRef)(null),e=(0,d.useRef)(null);return(0,d.useCallback)(d=>{if(null===d){let a=c.current;a&&(c.current=null,a());let b=e.current;b&&(e.current=null,b())}else a&&(c.current=f(a,d)),b&&(e.current=f(b,d))},[a,b])}function f(a,b){if("function"!=typeof a)return a.current=b,()=>{a.current=null};{let c=a(b);return"function"==typeof c?c:()=>a(null)}}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},9439:(a,b,c)=>{"use strict";c.d(b,{Ay:()=>T});let d=a=>"string"==typeof a,e=()=>{let a,b,c=new Promise((c,d)=>{a=c,b=d});return c.resolve=a,c.reject=b,c},f=a=>null==a?"":""+a,g=/###/g,h=a=>a&&a.indexOf("###")>-1?a.replace(g,"."):a,i=a=>!a||d(a),j=(a,b,c)=>{let e=d(b)?b.split("."):b,f=0;for(;f<e.length-1;){if(i(a))return{};let b=h(e[f]);!a[b]&&c&&(a[b]=new c),a=Object.prototype.hasOwnProperty.call(a,b)?a[b]:{},++f}return i(a)?{}:{obj:a,k:h(e[f])}},k=(a,b,c)=>{let{obj:d,k:e}=j(a,b,Object);if(void 0!==d||1===b.length){d[e]=c;return}let f=b[b.length-1],g=b.slice(0,b.length-1),h=j(a,g,Object);for(;void 0===h.obj&&g.length;)f=`${g[g.length-1]}.${f}`,h=j(a,g=g.slice(0,g.length-1),Object),h?.obj&&void 0!==h.obj[`${h.k}.${f}`]&&(h.obj=void 0);h.obj[`${h.k}.${f}`]=c},l=(a,b)=>{let{obj:c,k:d}=j(a,b);if(c&&Object.prototype.hasOwnProperty.call(c,d))return c[d]},m=(a,b,c)=>{for(let e in b)"__proto__"!==e&&"constructor"!==e&&(e in a?d(a[e])||a[e]instanceof String||d(b[e])||b[e]instanceof String?c&&(a[e]=b[e]):m(a[e],b[e],c):a[e]=b[e]);return a},n=a=>a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};let p=a=>d(a)?a.replace(/[&<>"'\/]/g,a=>o[a]):a;class q{constructor(a){this.capacity=a,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(a){let b=this.regExpMap.get(a);if(void 0!==b)return b;let c=new RegExp(a);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(a,c),this.regExpQueue.push(a),c}}let r=[" ",",","?","!",";"],s=new q(20),t=(a,b,c=".")=>{if(!a)return;if(a[b]){if(!Object.prototype.hasOwnProperty.call(a,b))return;return a[b]}let d=b.split(c),e=a;for(let a=0;a<d.length;){let b;if(!e||"object"!=typeof e)return;let f="";for(let g=a;g<d.length;++g)if(g!==a&&(f+=c),f+=d[g],void 0!==(b=e[f])){if(["string","number","boolean"].indexOf(typeof b)>-1&&g<d.length-1)continue;a+=g-a+1;break}e=b}return e},u=a=>a?.replace("_","-"),v={type:"logger",log(a){this.output("log",a)},warn(a){this.output("warn",a)},error(a){this.output("error",a)},output(a,b){console?.[a]?.apply?.(console,b)}};class w{constructor(a,b={}){this.init(a,b)}init(a,b={}){this.prefix=b.prefix||"i18next:",this.logger=a||v,this.options=b,this.debug=b.debug}log(...a){return this.forward(a,"log","",!0)}warn(...a){return this.forward(a,"warn","",!0)}error(...a){return this.forward(a,"error","")}deprecate(...a){return this.forward(a,"warn","WARNING DEPRECATED: ",!0)}forward(a,b,c,e){return e&&!this.debug?null:(d(a[0])&&(a[0]=`${c}${this.prefix} ${a[0]}`),this.logger[b](a))}create(a){return new w(this.logger,{...{prefix:`${this.prefix}:${a}:`},...this.options})}clone(a){return(a=a||this.options).prefix=a.prefix||this.prefix,new w(this.logger,a)}}var x=new w;class y{constructor(){this.observers={}}on(a,b){return a.split(" ").forEach(a=>{this.observers[a]||(this.observers[a]=new Map);let c=this.observers[a].get(b)||0;this.observers[a].set(b,c+1)}),this}off(a,b){if(this.observers[a]){if(!b)return void delete this.observers[a];this.observers[a].delete(b)}}emit(a,...b){this.observers[a]&&Array.from(this.observers[a].entries()).forEach(([a,c])=>{for(let d=0;d<c;d++)a(...b)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([c,d])=>{for(let e=0;e<d;e++)c.apply(c,[a,...b])})}}class z extends y{constructor(a,b={ns:["translation"],defaultNS:"translation"}){super(),this.data=a||{},this.options=b,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(a){0>this.options.ns.indexOf(a)&&this.options.ns.push(a)}removeNamespaces(a){let b=this.options.ns.indexOf(a);b>-1&&this.options.ns.splice(b,1)}getResource(a,b,c,e={}){let f,g=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,h=void 0!==e.ignoreJSONStructure?e.ignoreJSONStructure:this.options.ignoreJSONStructure;a.indexOf(".")>-1?f=a.split("."):(f=[a,b],c&&(Array.isArray(c)?f.push(...c):d(c)&&g?f.push(...c.split(g)):f.push(c)));let i=l(this.data,f);return(!i&&!b&&!c&&a.indexOf(".")>-1&&(a=f[0],b=f[1],c=f.slice(2).join(".")),!i&&h&&d(c))?t(this.data?.[a]?.[b],c,g):i}addResource(a,b,c,d,e={silent:!1}){let f=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,g=[a,b];c&&(g=g.concat(f?c.split(f):c)),a.indexOf(".")>-1&&(g=a.split("."),d=b,b=g[1]),this.addNamespaces(b),k(this.data,g,d),e.silent||this.emit("added",a,b,c,d)}addResources(a,b,c,e={silent:!1}){for(let e in c)(d(c[e])||Array.isArray(c[e]))&&this.addResource(a,b,e,c[e],{silent:!0});e.silent||this.emit("added",a,b,c)}addResourceBundle(a,b,c,d,e,f={silent:!1,skipCopy:!1}){let g=[a,b];a.indexOf(".")>-1&&(g=a.split("."),d=c,c=b,b=g[1]),this.addNamespaces(b);let h=l(this.data,g)||{};f.skipCopy||(c=JSON.parse(JSON.stringify(c))),d?m(h,c,e):h={...h,...c},k(this.data,g,h),f.silent||this.emit("added",a,b,c)}removeResourceBundle(a,b){this.hasResourceBundle(a,b)&&delete this.data[a][b],this.removeNamespaces(b),this.emit("removed",a,b)}hasResourceBundle(a,b){return void 0!==this.getResource(a,b)}getResourceBundle(a,b){return b||(b=this.options.defaultNS),this.getResource(a,b)}getDataByLanguage(a){return this.data[a]}hasLanguageSomeTranslations(a){let b=this.getDataByLanguage(a);return!!(b&&Object.keys(b)||[]).find(a=>b[a]&&Object.keys(b[a]).length>0)}toJSON(){return this.data}}var A={processors:{},addPostProcessor(a){this.processors[a.name]=a},handle(a,b,c,d,e){return a.forEach(a=>{b=this.processors[a]?.process(b,c,d,e)??b}),b}};let B={},C=a=>!d(a)&&"boolean"!=typeof a&&"number"!=typeof a;class D extends y{constructor(a,b={}){super(),((a,b,c)=>{a.forEach(a=>{b[a]&&(c[a]=b[a])})})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],a,this),this.options=b,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=x.create("translator")}changeLanguage(a){a&&(this.language=a)}exists(a,b={interpolation:{}}){let c={...b};if(null==a)return!1;let d=this.resolve(a,c);return d?.res!==void 0}extractFromKey(a,b){let c=void 0!==b.nsSeparator?b.nsSeparator:this.options.nsSeparator;void 0===c&&(c=":");let e=void 0!==b.keySeparator?b.keySeparator:this.options.keySeparator,f=b.ns||this.options.defaultNS||[],g=c&&a.indexOf(c)>-1,h=!this.options.userDefinedKeySeparator&&!b.keySeparator&&!this.options.userDefinedNsSeparator&&!b.nsSeparator&&!((a,b,c)=>{b=b||"",c=c||"";let d=r.filter(a=>0>b.indexOf(a)&&0>c.indexOf(a));if(0===d.length)return!0;let e=s.getRegExp(`(${d.map(a=>"?"===a?"\\?":a).join("|")})`),f=!e.test(a);if(!f){let b=a.indexOf(c);b>0&&!e.test(a.substring(0,b))&&(f=!0)}return f})(a,c,e);if(g&&!h){let b=a.match(this.interpolator.nestingRegexp);if(b&&b.length>0)return{key:a,namespaces:d(f)?[f]:f};let g=a.split(c);(c!==e||c===e&&this.options.ns.indexOf(g[0])>-1)&&(f=g.shift()),a=g.join(e)}return{key:a,namespaces:d(f)?[f]:f}}translate(a,b,c){let e="object"==typeof b?{...b}:b;if("object"!=typeof e&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof options&&(e={...e}),e||(e={}),null==a)return"";Array.isArray(a)||(a=[String(a)]);let f=void 0!==e.returnDetails?e.returnDetails:this.options.returnDetails,g=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,{key:h,namespaces:i}=this.extractFromKey(a[a.length-1],e),j=i[i.length-1],k=void 0!==e.nsSeparator?e.nsSeparator:this.options.nsSeparator;void 0===k&&(k=":");let l=e.lng||this.language,m=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l?.toLowerCase()==="cimode")return m?f?{res:`${j}${k}${h}`,usedKey:h,exactUsedKey:h,usedLng:l,usedNS:j,usedParams:this.getUsedParamsDetails(e)}:`${j}${k}${h}`:f?{res:h,usedKey:h,exactUsedKey:h,usedLng:l,usedNS:j,usedParams:this.getUsedParamsDetails(e)}:h;let n=this.resolve(a,e),o=n?.res,p=n?.usedKey||h,q=n?.exactUsedKey||h,r=void 0!==e.joinArrays?e.joinArrays:this.options.joinArrays,s=!this.i18nFormat||this.i18nFormat.handleAsObject,t=void 0!==e.count&&!d(e.count),u=D.hasDefaultValue(e),v=t?this.pluralResolver.getSuffix(l,e.count,e):"",w=e.ordinal&&t?this.pluralResolver.getSuffix(l,e.count,{ordinal:!1}):"",x=t&&!e.ordinal&&0===e.count,y=x&&e[`defaultValue${this.options.pluralSeparator}zero`]||e[`defaultValue${v}`]||e[`defaultValue${w}`]||e.defaultValue,z=o;s&&!o&&u&&(z=y);let A=C(z),B=Object.prototype.toString.apply(z);if(s&&z&&A&&0>["[object Number]","[object Function]","[object RegExp]"].indexOf(B)&&!(d(r)&&Array.isArray(z))){if(!e.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let a=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,z,{...e,ns:i}):`key '${h} (${this.language})' returned an object instead of string.`;return f?(n.res=a,n.usedParams=this.getUsedParamsDetails(e),n):a}if(g){let a=Array.isArray(z),b=a?[]:{},c=a?q:p;for(let a in z)if(Object.prototype.hasOwnProperty.call(z,a)){let d=`${c}${g}${a}`;u&&!o?b[a]=this.translate(d,{...e,defaultValue:C(y)?y[a]:void 0,...{joinArrays:!1,ns:i}}):b[a]=this.translate(d,{...e,joinArrays:!1,ns:i}),b[a]===d&&(b[a]=z[a])}o=b}}else if(s&&d(r)&&Array.isArray(o))(o=o.join(r))&&(o=this.extendTranslation(o,a,e,c));else{let b=!1,d=!1;!this.isValidLookup(o)&&u&&(b=!0,o=y),this.isValidLookup(o)||(d=!0,o=h);let f=(e.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&d?void 0:o,i=u&&y!==o&&this.options.updateMissing;if(d||b||i){if(this.logger.log(i?"updateKey":"missingKey",l,j,h,i?y:o),g){let a=this.resolve(h,{...e,keySeparator:!1});a&&a.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let a=[],b=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if("fallback"===this.options.saveMissingTo&&b&&b[0])for(let c=0;c<b.length;c++)a.push(b[c]);else"all"===this.options.saveMissingTo?a=this.languageUtils.toResolveHierarchy(e.lng||this.language):a.push(e.lng||this.language);let c=(a,b,c)=>{let d=u&&c!==o?c:f;this.options.missingKeyHandler?this.options.missingKeyHandler(a,j,b,d,i,e):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(a,j,b,d,i,e),this.emit("missingKey",a,j,b,o)};this.options.saveMissing&&(this.options.saveMissingPlurals&&t?a.forEach(a=>{let b=this.pluralResolver.getSuffixes(a,e);x&&e[`defaultValue${this.options.pluralSeparator}zero`]&&0>b.indexOf(`${this.options.pluralSeparator}zero`)&&b.push(`${this.options.pluralSeparator}zero`),b.forEach(b=>{c([a],h+b,e[`defaultValue${b}`]||y)})}):c(a,h,y))}o=this.extendTranslation(o,a,e,n,c),d&&o===h&&this.options.appendNamespaceToMissingKey&&(o=`${j}${k}${h}`),(d||b)&&this.options.parseMissingKeyHandler&&(o=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${j}${k}${h}`:h,b?o:void 0,e))}return f?(n.res=o,n.usedParams=this.getUsedParamsDetails(e),n):o}extendTranslation(a,b,c,e,f){if(this.i18nFormat?.parse)a=this.i18nFormat.parse(a,{...this.options.interpolation.defaultVariables,...c},c.lng||this.language||e.usedLng,e.usedNS,e.usedKey,{resolved:e});else if(!c.skipInterpolation){let g;c.interpolation&&this.interpolator.init({...c,...{interpolation:{...this.options.interpolation,...c.interpolation}}});let h=d(a)&&(c?.interpolation?.skipOnVariables!==void 0?c.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(h){let b=a.match(this.interpolator.nestingRegexp);g=b&&b.length}let i=c.replace&&!d(c.replace)?c.replace:c;if(this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),a=this.interpolator.interpolate(a,i,c.lng||this.language||e.usedLng,c),h){let b=a.match(this.interpolator.nestingRegexp);g<(b&&b.length)&&(c.nest=!1)}!c.lng&&e&&e.res&&(c.lng=this.language||e.usedLng),!1!==c.nest&&(a=this.interpolator.nest(a,(...a)=>f?.[0]!==a[0]||c.context?this.translate(...a,b):(this.logger.warn(`It seems you are nesting recursively key: ${a[0]} in key: ${b[0]}`),null),c)),c.interpolation&&this.interpolator.reset()}let g=c.postProcess||this.options.postProcess,h=d(g)?[g]:g;return null!=a&&h?.length&&!1!==c.applyPostProcessor&&(a=A.handle(h,a,b,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...e,usedParams:this.getUsedParamsDetails(c)},...c}:c,this)),a}resolve(a,b={}){let c,e,f,g,h;return d(a)&&(a=[a]),a.forEach(a=>{if(this.isValidLookup(c))return;let i=this.extractFromKey(a,b),j=i.key;e=j;let k=i.namespaces;this.options.fallbackNS&&(k=k.concat(this.options.fallbackNS));let l=void 0!==b.count&&!d(b.count),m=l&&!b.ordinal&&0===b.count,n=void 0!==b.context&&(d(b.context)||"number"==typeof b.context)&&""!==b.context,o=b.lngs?b.lngs:this.languageUtils.toResolveHierarchy(b.lng||this.language,b.fallbackLng);k.forEach(a=>{this.isValidLookup(c)||(h=a,!B[`${o[0]}-${a}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(h)&&(B[`${o[0]}-${a}`]=!0,this.logger.warn(`key "${e}" for languages "${o.join(", ")}" won't get resolved as namespace "${h}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),o.forEach(d=>{let e;if(this.isValidLookup(c))return;g=d;let h=[j];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(h,j,d,a,b);else{let a;l&&(a=this.pluralResolver.getSuffix(d,b.count,b));let c=`${this.options.pluralSeparator}zero`,e=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(l&&(b.ordinal&&0===a.indexOf(e)&&h.push(j+a.replace(e,this.options.pluralSeparator)),h.push(j+a),m&&h.push(j+c)),n){let d=`${j}${this.options.contextSeparator||"_"}${b.context}`;h.push(d),l&&(b.ordinal&&0===a.indexOf(e)&&h.push(d+a.replace(e,this.options.pluralSeparator)),h.push(d+a),m&&h.push(d+c))}}for(;e=h.pop();)this.isValidLookup(c)||(f=e,c=this.getResource(d,a,e,b))}))})}),{res:c,usedKey:e,exactUsedKey:f,usedLng:g,usedNS:h}}isValidLookup(a){return void 0!==a&&!(!this.options.returnNull&&null===a)&&!(!this.options.returnEmptyString&&""===a)}getResource(a,b,c,d={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(a,b,c,d):this.resourceStore.getResource(a,b,c,d)}getUsedParamsDetails(a={}){let b=a.replace&&!d(a.replace),c=b?a.replace:a;if(b&&void 0!==a.count&&(c.count=a.count),this.options.interpolation.defaultVariables&&(c={...this.options.interpolation.defaultVariables,...c}),!b)for(let a of(c={...c},["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"]))delete c[a];return c}static hasDefaultValue(a){let b="defaultValue";for(let c in a)if(Object.prototype.hasOwnProperty.call(a,c)&&b===c.substring(0,b.length)&&void 0!==a[c])return!0;return!1}}class E{constructor(a){this.options=a,this.supportedLngs=this.options.supportedLngs||!1,this.logger=x.create("languageUtils")}getScriptPartFromCode(a){if(!(a=u(a))||0>a.indexOf("-"))return null;let b=a.split("-");return 2===b.length||(b.pop(),"x"===b[b.length-1].toLowerCase())?null:this.formatLanguageCode(b.join("-"))}getLanguagePartFromCode(a){if(!(a=u(a))||0>a.indexOf("-"))return a;let b=a.split("-");return this.formatLanguageCode(b[0])}formatLanguageCode(a){if(d(a)&&a.indexOf("-")>-1){let b;try{b=Intl.getCanonicalLocales(a)[0]}catch(a){}return(b&&this.options.lowerCaseLng&&(b=b.toLowerCase()),b)?b:this.options.lowerCaseLng?a.toLowerCase():a}return this.options.cleanCode||this.options.lowerCaseLng?a.toLowerCase():a}isSupportedCode(a){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(a=this.getLanguagePartFromCode(a)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(a)>-1}getBestMatchFromCodes(a){let b;return a?(a.forEach(a=>{if(b)return;let c=this.formatLanguageCode(a);(!this.options.supportedLngs||this.isSupportedCode(c))&&(b=c)}),!b&&this.options.supportedLngs&&a.forEach(a=>{if(b)return;let c=this.getScriptPartFromCode(a);if(this.isSupportedCode(c))return b=c;let d=this.getLanguagePartFromCode(a);if(this.isSupportedCode(d))return b=d;b=this.options.supportedLngs.find(a=>{if(a===d||!(0>a.indexOf("-")&&0>d.indexOf("-"))&&(a.indexOf("-")>0&&0>d.indexOf("-")&&a.substring(0,a.indexOf("-"))===d||0===a.indexOf(d)&&d.length>1))return a})}),b||(b=this.getFallbackCodes(this.options.fallbackLng)[0]),b):null}getFallbackCodes(a,b){if(!a)return[];if("function"==typeof a&&(a=a(b)),d(a)&&(a=[a]),Array.isArray(a))return a;if(!b)return a.default||[];let c=a[b];return c||(c=a[this.getScriptPartFromCode(b)]),c||(c=a[this.formatLanguageCode(b)]),c||(c=a[this.getLanguagePartFromCode(b)]),c||(c=a.default),c||[]}toResolveHierarchy(a,b){let c=this.getFallbackCodes((!1===b?[]:b)||this.options.fallbackLng||[],a),e=[],f=a=>{a&&(this.isSupportedCode(a)?e.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return d(a)&&(a.indexOf("-")>-1||a.indexOf("_")>-1)?("languageOnly"!==this.options.load&&f(this.formatLanguageCode(a)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&f(this.getScriptPartFromCode(a)),"currentOnly"!==this.options.load&&f(this.getLanguagePartFromCode(a))):d(a)&&f(this.formatLanguageCode(a)),c.forEach(a=>{0>e.indexOf(a)&&f(this.formatLanguageCode(a))}),e}}let F={zero:0,one:1,two:2,few:3,many:4,other:5},G={select:a=>1===a?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class H{constructor(a,b={}){this.languageUtils=a,this.options=b,this.logger=x.create("pluralResolver"),this.pluralRulesCache={}}addRule(a,b){this.rules[a]=b}clearCache(){this.pluralRulesCache={}}getRule(a,b={}){let c,d=u("dev"===a?"en":a),e=b.ordinal?"ordinal":"cardinal",f=JSON.stringify({cleanedCode:d,type:e});if(f in this.pluralRulesCache)return this.pluralRulesCache[f];try{c=new Intl.PluralRules(d,{type:e})}catch(e){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),G;if(!a.match(/-|_/))return G;let d=this.languageUtils.getLanguagePartFromCode(a);c=this.getRule(d,b)}return this.pluralRulesCache[f]=c,c}needsPlural(a,b={}){let c=this.getRule(a,b);return c||(c=this.getRule("dev",b)),c?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(a,b,c={}){return this.getSuffixes(a,c).map(a=>`${b}${a}`)}getSuffixes(a,b={}){let c=this.getRule(a,b);return(c||(c=this.getRule("dev",b)),c)?c.resolvedOptions().pluralCategories.sort((a,b)=>F[a]-F[b]).map(a=>`${this.options.prepend}${b.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(a,b,c={}){let d=this.getRule(a,c);return d?`${this.options.prepend}${c.ordinal?`ordinal${this.options.prepend}`:""}${d.select(b)}`:(this.logger.warn(`no plural rule found for: ${a}`),this.getSuffix("dev",b,c))}}let I=(a,b,c,e=".",f=!0)=>{let g=((a,b,c)=>{let d=l(a,c);return void 0!==d?d:l(b,c)})(a,b,c);return!g&&f&&d(c)&&void 0===(g=t(a,c,e))&&(g=t(b,c,e)),g},J=a=>a.replace(/\$/g,"$$$$");class K{constructor(a={}){this.logger=x.create("interpolator"),this.options=a,this.format=a?.interpolation?.format||(a=>a),this.init(a)}init(a={}){a.interpolation||(a.interpolation={escapeValue:!0});let{escape:b,escapeValue:c,useRawValueToEscape:d,prefix:e,prefixEscaped:f,suffix:g,suffixEscaped:h,formatSeparator:i,unescapeSuffix:j,unescapePrefix:k,nestingPrefix:l,nestingPrefixEscaped:m,nestingSuffix:o,nestingSuffixEscaped:q,nestingOptionsSeparator:r,maxReplaces:s,alwaysFormat:t}=a.interpolation;this.escape=void 0!==b?b:p,this.escapeValue=void 0===c||c,this.useRawValueToEscape=void 0!==d&&d,this.prefix=e?n(e):f||"{{",this.suffix=g?n(g):h||"}}",this.formatSeparator=i||",",this.unescapePrefix=j?"":k||"-",this.unescapeSuffix=this.unescapePrefix?"":j||"",this.nestingPrefix=l?n(l):m||n("$t("),this.nestingSuffix=o?n(o):q||n(")"),this.nestingOptionsSeparator=r||",",this.maxReplaces=s||1e3,this.alwaysFormat=void 0!==t&&t,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let a=(a,b)=>a?.source===b?(a.lastIndex=0,a):RegExp(b,"g");this.regexp=a(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=a(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=a(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(a,b,c,e){let g,h,i,j=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},k=a=>{if(0>a.indexOf(this.formatSeparator)){let d=I(b,j,a,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(d,void 0,c,{...e,...b,interpolationkey:a}):d}let d=a.split(this.formatSeparator),f=d.shift().trim(),g=d.join(this.formatSeparator).trim();return this.format(I(b,j,f,this.options.keySeparator,this.options.ignoreJSONStructure),g,c,{...e,...b,interpolationkey:f})};this.resetRegExp();let l=e?.missingInterpolationHandler||this.options.missingInterpolationHandler,m=e?.interpolation?.skipOnVariables!==void 0?e.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:a=>J(a)},{regex:this.regexp,safeValue:a=>this.escapeValue?J(this.escape(a)):J(a)}].forEach(b=>{for(i=0;g=b.regex.exec(a);){let c=g[1].trim();if(void 0===(h=k(c)))if("function"==typeof l){let b=l(a,g,e);h=d(b)?b:""}else if(e&&Object.prototype.hasOwnProperty.call(e,c))h="";else if(m){h=g[0];continue}else this.logger.warn(`missed to pass in variable ${c} for interpolating ${a}`),h="";else d(h)||this.useRawValueToEscape||(h=f(h));let j=b.safeValue(h);if(a=a.replace(g[0],j),m?(b.regex.lastIndex+=h.length,b.regex.lastIndex-=g[0].length):b.regex.lastIndex=0,++i>=this.maxReplaces)break}}),a}nest(a,b,c={}){let e,g,h,i=(a,b)=>{let c=this.nestingOptionsSeparator;if(0>a.indexOf(c))return a;let d=a.split(RegExp(`${c}[ ]*{`)),e=`{${d[1]}`;a=d[0];let f=(e=this.interpolate(e,h)).match(/'/g),g=e.match(/"/g);((f?.length??0)%2!=0||g)&&g.length%2==0||(e=e.replace(/'/g,'"'));try{h=JSON.parse(e),b&&(h={...b,...h})}catch(b){return this.logger.warn(`failed parsing options string in nesting for key ${a}`,b),`${a}${c}${e}`}return h.defaultValue&&h.defaultValue.indexOf(this.prefix)>-1&&delete h.defaultValue,a};for(;e=this.nestingRegexp.exec(a);){let j=[];(h=(h={...c}).replace&&!d(h.replace)?h.replace:h).applyPostProcessor=!1,delete h.defaultValue;let k=/{.*}/.test(e[1])?e[1].lastIndexOf("}")+1:e[1].indexOf(this.formatSeparator);if(-1!==k&&(j=e[1].slice(k).split(this.formatSeparator).map(a=>a.trim()).filter(Boolean),e[1]=e[1].slice(0,k)),(g=b(i.call(this,e[1].trim(),h),h))&&e[0]===a&&!d(g))return g;d(g)||(g=f(g)),g||(this.logger.warn(`missed to resolve ${e[1]} for nesting ${a}`),g=""),j.length&&(g=j.reduce((a,b)=>this.format(a,b,c.lng,{...c,interpolationkey:e[1].trim()}),g.trim())),a=a.replace(e[0],g),this.regexp.lastIndex=0}return a}}let L=a=>{let b={};return(c,d,e)=>{let f=e;e&&e.interpolationkey&&e.formatParams&&e.formatParams[e.interpolationkey]&&e[e.interpolationkey]&&(f={...f,[e.interpolationkey]:void 0});let g=d+JSON.stringify(f),h=b[g];return h||(h=a(u(d),e),b[g]=h),h(c)}},M=a=>(b,c,d)=>a(u(c),d)(b);class N{constructor(a={}){this.logger=x.create("formatter"),this.options=a,this.init(a)}init(a,b={interpolation:{}}){this.formatSeparator=b.interpolation.formatSeparator||",";let c=b.cacheInBuiltFormats?L:M;this.formats={number:c((a,b)=>{let c=new Intl.NumberFormat(a,{...b});return a=>c.format(a)}),currency:c((a,b)=>{let c=new Intl.NumberFormat(a,{...b,style:"currency"});return a=>c.format(a)}),datetime:c((a,b)=>{let c=new Intl.DateTimeFormat(a,{...b});return a=>c.format(a)}),relativetime:c((a,b)=>{let c=new Intl.RelativeTimeFormat(a,{...b});return a=>c.format(a,b.range||"day")}),list:c((a,b)=>{let c=new Intl.ListFormat(a,{...b});return a=>c.format(a)})}}add(a,b){this.formats[a.toLowerCase().trim()]=b}addCached(a,b){this.formats[a.toLowerCase().trim()]=L(b)}format(a,b,c,d={}){let e=b.split(this.formatSeparator);if(e.length>1&&e[0].indexOf("(")>1&&0>e[0].indexOf(")")&&e.find(a=>a.indexOf(")")>-1)){let a=e.findIndex(a=>a.indexOf(")")>-1);e[0]=[e[0],...e.splice(1,a)].join(this.formatSeparator)}return e.reduce((a,b)=>{let{formatName:e,formatOptions:f}=(a=>{let b=a.toLowerCase().trim(),c={};if(a.indexOf("(")>-1){let d=a.split("(");b=d[0].toLowerCase().trim();let e=d[1].substring(0,d[1].length-1);"currency"===b&&0>e.indexOf(":")?c.currency||(c.currency=e.trim()):"relativetime"===b&&0>e.indexOf(":")?c.range||(c.range=e.trim()):e.split(";").forEach(a=>{if(a){let[b,...d]=a.split(":"),e=d.join(":").trim().replace(/^'+|'+$/g,""),f=b.trim();c[f]||(c[f]=e),"false"===e&&(c[f]=!1),"true"===e&&(c[f]=!0),isNaN(e)||(c[f]=parseInt(e,10))}})}return{formatName:b,formatOptions:c}})(b);if(this.formats[e]){let b=a;try{let g=d?.formatParams?.[d.interpolationkey]||{},h=g.locale||g.lng||d.locale||d.lng||c;b=this.formats[e](a,h,{...f,...d,...g})}catch(a){this.logger.warn(a)}return b}return this.logger.warn(`there was no format function for ${e}`),a},a)}}class O extends y{constructor(a,b,c,d={}){super(),this.backend=a,this.store=b,this.services=c,this.languageUtils=c.languageUtils,this.options=d,this.logger=x.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=d.maxParallelReads||10,this.readingCalls=0,this.maxRetries=d.maxRetries>=0?d.maxRetries:5,this.retryTimeout=d.retryTimeout>=1?d.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(c,d.backend,d)}queueLoad(a,b,c,d){let e={},f={},g={},h={};return a.forEach(a=>{let d=!0;b.forEach(b=>{let g=`${a}|${b}`;!c.reload&&this.store.hasResourceBundle(a,b)?this.state[g]=2:this.state[g]<0||(1===this.state[g]?void 0===f[g]&&(f[g]=!0):(this.state[g]=1,d=!1,void 0===f[g]&&(f[g]=!0),void 0===e[g]&&(e[g]=!0),void 0===h[b]&&(h[b]=!0)))}),d||(g[a]=!0)}),(Object.keys(e).length||Object.keys(f).length)&&this.queue.push({pending:f,pendingCount:Object.keys(f).length,loaded:{},errors:[],callback:d}),{toLoad:Object.keys(e),pending:Object.keys(f),toLoadLanguages:Object.keys(g),toLoadNamespaces:Object.keys(h)}}loaded(a,b,c){let d=a.split("|"),e=d[0],f=d[1];b&&this.emit("failedLoading",e,f,b),!b&&c&&this.store.addResourceBundle(e,f,c,void 0,void 0,{skipCopy:!0}),this.state[a]=b?-1:2,b&&c&&(this.state[a]=0);let g={};this.queue.forEach(c=>{((a,b,c,d)=>{let{obj:e,k:f}=j(a,b,Object);e[f]=e[f]||[],e[f].push(c)})(c.loaded,[e],f),void 0!==c.pending[a]&&(delete c.pending[a],c.pendingCount--),b&&c.errors.push(b),0!==c.pendingCount||c.done||(Object.keys(c.loaded).forEach(a=>{g[a]||(g[a]={});let b=c.loaded[a];b.length&&b.forEach(b=>{void 0===g[a][b]&&(g[a][b]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",g),this.queue=this.queue.filter(a=>!a.done)}read(a,b,c,d=0,e=this.retryTimeout,f){if(!a.length)return f(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:a,ns:b,fcName:c,tried:d,wait:e,callback:f});this.readingCalls++;let g=(g,h)=>{if(this.readingCalls--,this.waitingReads.length>0){let a=this.waitingReads.shift();this.read(a.lng,a.ns,a.fcName,a.tried,a.wait,a.callback)}if(g&&h&&d<this.maxRetries)return void setTimeout(()=>{this.read.call(this,a,b,c,d+1,2*e,f)},e);f(g,h)},h=this.backend[c].bind(this.backend);if(2===h.length){try{let c=h(a,b);c&&"function"==typeof c.then?c.then(a=>g(null,a)).catch(g):g(null,c)}catch(a){g(a)}return}return h(a,b,g)}prepareLoading(a,b,c={},e){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),e&&e();d(a)&&(a=this.languageUtils.toResolveHierarchy(a)),d(b)&&(b=[b]);let f=this.queueLoad(a,b,c,e);if(!f.toLoad.length)return f.pending.length||e(),null;f.toLoad.forEach(a=>{this.loadOne(a)})}load(a,b,c){this.prepareLoading(a,b,{},c)}reload(a,b,c){this.prepareLoading(a,b,{reload:!0},c)}loadOne(a,b=""){let c=a.split("|"),d=c[0],e=c[1];this.read(d,e,"read",void 0,void 0,(c,f)=>{c&&this.logger.warn(`${b}loading namespace ${e} for language ${d} failed`,c),!c&&f&&this.logger.log(`${b}loaded namespace ${e} for language ${d}`,f),this.loaded(a,c,f)})}saveMissing(a,b,c,d,e,f={},g=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(b))return void this.logger.warn(`did not save key "${c}" as the namespace "${b}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");if(null!=c&&""!==c){if(this.backend?.create){let h={...f,isUpdate:e},i=this.backend.create.bind(this.backend);if(i.length<6)try{let e;(e=5===i.length?i(a,b,c,d,h):i(a,b,c,d))&&"function"==typeof e.then?e.then(a=>g(null,a)).catch(g):g(null,e)}catch(a){g(a)}else i(a,b,c,d,g,h)}a&&a[0]&&this.store.addResource(a[0],b,c,d)}}}let P=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:a=>{let b={};if("object"==typeof a[1]&&(b=a[1]),d(a[1])&&(b.defaultValue=a[1]),d(a[2])&&(b.tDescription=a[2]),"object"==typeof a[2]||"object"==typeof a[3]){let c=a[3]||a[2];Object.keys(c).forEach(a=>{b[a]=c[a]})}return b},interpolation:{escapeValue:!0,format:a=>a,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Q=a=>(d(a.ns)&&(a.ns=[a.ns]),d(a.fallbackLng)&&(a.fallbackLng=[a.fallbackLng]),d(a.fallbackNS)&&(a.fallbackNS=[a.fallbackNS]),a.supportedLngs?.indexOf?.("cimode")<0&&(a.supportedLngs=a.supportedLngs.concat(["cimode"])),"boolean"==typeof a.initImmediate&&(a.initAsync=a.initImmediate),a),R=()=>{};class S extends y{constructor(a={},b){if(super(),this.options=Q(a),this.services={},this.logger=x,this.modules={external:[]},(a=>{Object.getOwnPropertyNames(Object.getPrototypeOf(a)).forEach(b=>{"function"==typeof a[b]&&(a[b]=a[b].bind(a))})})(this),b&&!this.isInitialized&&!a.isClone){if(!this.options.initAsync)return this.init(a,b),this;setTimeout(()=>{this.init(a,b)},0)}}init(a={},b){this.isInitializing=!0,"function"==typeof a&&(b=a,a={}),null==a.defaultNS&&a.ns&&(d(a.ns)?a.defaultNS=a.ns:0>a.ns.indexOf("translation")&&(a.defaultNS=a.ns[0]));let c=P();this.options={...c,...this.options,...Q(a)},this.options.interpolation={...c.interpolation,...this.options.interpolation},void 0!==a.keySeparator&&(this.options.userDefinedKeySeparator=a.keySeparator),void 0!==a.nsSeparator&&(this.options.userDefinedNsSeparator=a.nsSeparator);let f=a=>a?"function"==typeof a?new a:a:null;if(!this.options.isClone){let a;this.modules.logger?x.init(f(this.modules.logger),this.options):x.init(null,this.options),a=this.modules.formatter?this.modules.formatter:N;let b=new E(this.options);this.store=new z(this.options.resources,this.options);let d=this.services;d.logger=x,d.resourceStore=this.store,d.languageUtils=b,d.pluralResolver=new H(b,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==c.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),a&&(!this.options.interpolation.format||this.options.interpolation.format===c.interpolation.format)&&(d.formatter=f(a),d.formatter.init&&d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new K(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new O(f(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",(a,...b)=>{this.emit(a,...b)}),this.modules.languageDetector&&(d.languageDetector=f(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=f(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new D(this.services,this.options),this.translator.on("*",(a,...b)=>{this.emit(a,...b)}),this.modules.external.forEach(a=>{a.init&&a.init(this)})}if(this.format=this.options.interpolation.format,b||(b=R),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let a=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);a.length>0&&"dev"!==a[0]&&(this.options.lng=a[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(a=>{this[a]=(...b)=>this.store[a](...b)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(a=>{this[a]=(...b)=>(this.store[a](...b),this)});let g=e(),h=()=>{let a=(a,c)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),g.resolve(c),b(a,c)};if(this.languages&&!this.isInitialized)return a(null,this.t.bind(this));this.changeLanguage(this.options.lng,a)};return this.options.resources||!this.options.initAsync?h():setTimeout(h,0),g}loadResources(a,b=R){let c=b,e=d(a)?a:this.language;if("function"==typeof a&&(c=a),!this.options.resources||this.options.partialBundledLanguages){if(e?.toLowerCase()==="cimode"&&(!this.options.preload||0===this.options.preload.length))return c();let a=[],b=b=>{b&&"cimode"!==b&&this.services.languageUtils.toResolveHierarchy(b).forEach(b=>{"cimode"!==b&&0>a.indexOf(b)&&a.push(b)})};e?b(e):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(a=>b(a)),this.options.preload?.forEach?.(a=>b(a)),this.services.backendConnector.load(a,this.options.ns,a=>{a||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),c(a)})}else c(null)}reloadResources(a,b,c){let d=e();return"function"==typeof a&&(c=a,a=void 0),"function"==typeof b&&(c=b,b=void 0),a||(a=this.languages),b||(b=this.options.ns),c||(c=R),this.services.backendConnector.reload(a,b,a=>{d.resolve(),c(a)}),d}use(a){if(!a)throw Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!a.type)throw Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===a.type&&(this.modules.backend=a),("logger"===a.type||a.log&&a.warn&&a.error)&&(this.modules.logger=a),"languageDetector"===a.type&&(this.modules.languageDetector=a),"i18nFormat"===a.type&&(this.modules.i18nFormat=a),"postProcessor"===a.type&&A.addPostProcessor(a),"formatter"===a.type&&(this.modules.formatter=a),"3rdParty"===a.type&&this.modules.external.push(a),this}setResolvedLanguage(a){if(a&&this.languages&&!(["cimode","dev"].indexOf(a)>-1)){for(let a=0;a<this.languages.length;a++){let b=this.languages[a];if(!(["cimode","dev"].indexOf(b)>-1)&&this.store.hasLanguageSomeTranslations(b)){this.resolvedLanguage=b;break}}!this.resolvedLanguage&&0>this.languages.indexOf(a)&&this.store.hasLanguageSomeTranslations(a)&&(this.resolvedLanguage=a,this.languages.unshift(a))}}changeLanguage(a,b){this.isLanguageChangingTo=a;let c=e();this.emit("languageChanging",a);let f=a=>{this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.resolvedLanguage=void 0,this.setResolvedLanguage(a)},g=(d,e)=>{e?this.isLanguageChangingTo===a&&(f(e),this.translator.changeLanguage(e),this.isLanguageChangingTo=void 0,this.emit("languageChanged",e),this.logger.log("languageChanged",e)):this.isLanguageChangingTo=void 0,c.resolve((...a)=>this.t(...a)),b&&b(d,(...a)=>this.t(...a))},h=b=>{a||b||!this.services.languageDetector||(b=[]);let c=d(b)?b:b&&b[0],e=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(d(b)?[b]:b);e&&(this.language||f(e),this.translator.language||this.translator.changeLanguage(e),this.services.languageDetector?.cacheUserLanguage?.(e)),this.loadResources(e,a=>{g(a,e)})};return a||!this.services.languageDetector||this.services.languageDetector.async?!a&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(h):this.services.languageDetector.detect(h):h(a):h(this.services.languageDetector.detect()),c}getFixedT(a,b,c){let e=(a,b,...d)=>{let f,g;(f="object"!=typeof b?this.options.overloadTranslationOptionHandler([a,b].concat(d)):{...b}).lng=f.lng||e.lng,f.lngs=f.lngs||e.lngs,f.ns=f.ns||e.ns,""!==f.keyPrefix&&(f.keyPrefix=f.keyPrefix||c||e.keyPrefix);let h=this.options.keySeparator||".";return g=f.keyPrefix&&Array.isArray(a)?a.map(a=>`${f.keyPrefix}${h}${a}`):f.keyPrefix?`${f.keyPrefix}${h}${a}`:a,this.t(g,f)};return d(a)?e.lng=a:e.lngs=a,e.ns=b,e.keyPrefix=c,e}t(...a){return this.translator?.translate(...a)}exists(...a){return this.translator?.exists(...a)}setDefaultNamespace(a){this.options.defaultNS=a}hasLoadedNamespace(a,b={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let c=b.lng||this.resolvedLanguage||this.languages[0],d=!!this.options&&this.options.fallbackLng,e=this.languages[this.languages.length-1];if("cimode"===c.toLowerCase())return!0;let f=(a,b)=>{let c=this.services.backendConnector.state[`${a}|${b}`];return -1===c||0===c||2===c};if(b.precheck){let a=b.precheck(this,f);if(void 0!==a)return a}return!!(this.hasResourceBundle(c,a)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||f(c,a)&&(!d||f(e,a)))}loadNamespaces(a,b){let c=e();return this.options.ns?(d(a)&&(a=[a]),a.forEach(a=>{0>this.options.ns.indexOf(a)&&this.options.ns.push(a)}),this.loadResources(a=>{c.resolve(),b&&b(a)}),c):(b&&b(),Promise.resolve())}loadLanguages(a,b){let c=e();d(a)&&(a=[a]);let f=this.options.preload||[],g=a.filter(a=>0>f.indexOf(a)&&this.services.languageUtils.isSupportedCode(a));return g.length?(this.options.preload=f.concat(g),this.loadResources(a=>{c.resolve(),b&&b(a)}),c):(b&&b(),Promise.resolve())}dir(a){if(a||(a=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!a)return"rtl";try{let b=new Intl.Locale(a);if(b&&b.getTextInfo){let a=b.getTextInfo();if(a&&a.direction)return a.direction}}catch(a){}let b=this.services?.languageUtils||new E(P());return a.toLowerCase().indexOf("-latn")>1?"ltr":["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(b.getLanguagePartFromCode(a))>-1||a.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(a={},b){return new S(a,b)}cloneInstance(a={},b=R){let c=a.forkResourceStore;c&&delete a.forkResourceStore;let d={...this.options,...a,isClone:!0},e=new S(d);return(void 0!==a.debug||void 0!==a.prefix)&&(e.logger=e.logger.clone(a)),["store","services","language"].forEach(a=>{e[a]=this[a]}),e.services={...this.services},e.services.utils={hasLoadedNamespace:e.hasLoadedNamespace.bind(e)},c&&(e.store=new z(Object.keys(this.store.data).reduce((a,b)=>(a[b]={...this.store.data[b]},a[b]=Object.keys(a[b]).reduce((c,d)=>(c[d]={...a[b][d]},c),a[b]),a),{}),d),e.services.resourceStore=e.store),e.translator=new D(e.services,d),e.translator.on("*",(a,...b)=>{e.emit(a,...b)}),e.init(d,b),e.translator.options=d,e.translator.backendConnector.services.utils={hasLoadedNamespace:e.hasLoadedNamespace.bind(e)},e}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}let T=S.createInstance();T.createInstance=S.createInstance,T.createInstance,T.dir,T.init,T.loadResources,T.reloadResources,T.use,T.changeLanguage,T.getFixedT,T.t,T.exists,T.setDefaultNamespace,T.hasLoadedNamespace,T.loadNamespaces,T.loadLanguages},9589:(a,b,c)=>{"use strict";function d(a,b){if(!Object.prototype.hasOwnProperty.call(a,b))throw TypeError("attempted to use private field on non-instance");return a}c.r(b),c.d(b,{_:()=>d})},9976:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"serverPatchReducer",{enumerable:!0,get:function(){return k}});let d=c(1830),e=c(6143),f=c(1711),g=c(3219),h=c(395),i=c(3486),j=c(7163);function k(a,b){let{serverResponse:{flightData:c,canonicalUrl:k},navigatedAt:l}=b,m={};if(m.preserveCustomHistoryState=!1,"string"==typeof c)return(0,g.handleExternalUrl)(a,m,c,a.pushRef.pendingPush);let n=a.tree,o=a.cache;for(let b of c){let{segmentPath:c,tree:i}=b,p=(0,e.applyRouterStatePatchToTree)(["",...c],n,i,a.canonicalUrl);if(null===p)return a;if((0,f.isNavigatingToNewRootLayout)(n,p))return(0,g.handleExternalUrl)(a,m,a.canonicalUrl,a.pushRef.pendingPush);let q=k?(0,d.createHrefFromUrl)(k):void 0;q&&(m.canonicalUrl=q);let r=(0,j.createEmptyCacheNode)();(0,h.applyFlightData)(l,o,r,b),m.patchedTree=p,m.cache=r,o=r,n=p}return(0,i.handleMutable)(a,m)}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)}};